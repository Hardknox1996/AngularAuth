"use strict";(self.webpackChunkmyApp=self.webpackChunkmyApp||[]).push([[179],{2011:(pt,xe,B)=>{B.d(xe,{Dh:()=>pe,GT:()=>ye,cc:()=>Le,hO:()=>Ge,on:()=>Y,pX:()=>de,xv:()=>ve});var a=B(4650),z=B(127),N=B(5813);pt=B.hmd(pt);const le=["ngOnDestroy"],de=(ge,st,nt,Ve={})=>new Proxy(ge,{get:(Pe,Te)=>nt.runOutsideAngular(()=>{var qe;if(ge[Te])return!(null===(qe=Ve?.spy)||void 0===qe)&&qe.get&&Ve.spy.get(Te,ge[Te]),ge[Te];if(le.indexOf(Te)>-1)return()=>{};const ae=st.toPromise().then(he=>{const be=he&&he[Te];return"function"==typeof be?be.bind(he):be&&be.then?be.then(ee=>nt.run(()=>ee)):nt.run(()=>be)});return new Proxy(()=>{},{get:(he,be)=>ae[be],apply:(he,be,ee)=>ae.then(ne=>{var me;const ue=ne&&ne(...ee);return!(null===(me=Ve?.spy)||void 0===me)&&me.apply&&Ve.spy.apply(Te,ee,ue),ue})})})}),ye=(ge,st)=>{st.forEach(nt=>{Object.getOwnPropertyNames(nt.prototype||nt).forEach(Ve=>{Object.defineProperty(ge.prototype,Ve,Object.getOwnPropertyDescriptor(nt.prototype||nt,Ve))})})};class ie{constructor(st){return st}}const pe=new a.OlP("angularfire2.app.options"),ve=new a.OlP("angularfire2.app.name");function Y(ge,st,nt){const Pe="object"==typeof nt&&nt||{};Pe.name=Pe.name||"string"==typeof nt&&nt||"[DEFAULT]";const qe=z.Z.apps.filter(ae=>ae&&ae.name===Pe.name)[0]||st.runOutsideAngular(()=>z.Z.initializeApp(ge,Pe));try{JSON.stringify(ge)!==JSON.stringify(qe.options)&&Z("error",`${qe.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ie(qe)}const Z=(ge,...st)=>{(0,a.X6Q)()&&typeof console<"u"&&console[ge](...st)},te={provide:ie,useFactory:Y,deps:[pe,a.R0b,[new a.FiY,ve]]};let Ge=(()=>{class ge{constructor(nt){z.Z.registerVersion("angularfire",N.q4.full,"core"),z.Z.registerVersion("angularfire",N.q4.full,"app-compat"),z.Z.registerVersion("angular",a.q4F.full,nt.toString())}static initializeApp(nt,Ve){return{ngModule:ge,providers:[{provide:pe,useValue:nt},{provide:ve,useValue:Ve}]}}}return ge.\u0275fac=function(nt){return new(nt||ge)(a.LFG(a.Lbi))},ge.\u0275mod=a.oAB({type:ge}),ge.\u0275inj=a.cJS({providers:[te]}),ge})();function Le(ge,st,nt,Ve,Pe){const[,Te,qe]=globalThis.\u0275AngularfireInstanceCache.find(ae=>ae[0]===ge)||[];if(Te)return function Ae(ge,st){try{return ge.toString()===st.toString()}catch{return ge===st}}(Pe,qe)||(De("error",`${st} was already initialized on the ${nt} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),De("warn",{is:Pe,was:qe})),Te;{const ae=Ve();return globalThis.\u0275AngularfireInstanceCache.push([ge,ae,Pe]),ae}}const lt=!!pt.hot,De=(ge,...st)=>{(0,a.X6Q)()&&typeof console<"u"&&console[ge](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(pt,xe,B)=>{B.d(xe,{q4:()=>wu,iC:()=>Zn,fc:()=>Ks,HU:()=>Ys,vb:()=>zr,JM:()=>Po,u3:()=>_n});var a=B(4650),z=B(5867),N=B(5861),le=B(9681),de=B(2090),ye=B(4859),ie=B(1877),pe=B(8766);const ve="@firebase/installations",Y="0.5.16",te=`w:${Y}`,Ge="FIS_v2",st=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(S){return S instanceof de.ZR&&S.code.includes("request-failed")}function Ve({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Pe(S){return{token:S.token,requestStatus:2,expiresIn:ne(S.expiresIn),creationTime:Date.now()}}function Te(S,T){return qe.apply(this,arguments)}function qe(){return(qe=(0,N.Z)(function*(S,T){const j=(yield T.json()).error;return st.create("request-failed",{requestName:S,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function ae({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function he(S,{refreshToken:T}){const k=ae(S);return k.append("Authorization",function me(S){return`${Ge} ${S}`}(T)),k}function be(S){return ee.apply(this,arguments)}function ee(){return(ee=(0,N.Z)(function*(S){const T=yield S();return T.status>=500&&T.status<600?S():T})).apply(this,arguments)}function ne(S){return Number(S.replace("s","000"))}function ue(S,T){return je.apply(this,arguments)}function je(){return(je=(0,N.Z)(function*({appConfig:S,heartbeatServiceProvider:T},{fid:k}){const j=Ve(S),J=ae(S),ce=T.getImmediate({optional:!0});if(ce){const xt=yield ce.getHeartbeatsHeader();xt&&J.append("x-firebase-client",xt)}const We={method:"POST",headers:J,body:JSON.stringify({fid:k,authVersion:Ge,appId:S.appId,sdkVersion:te})},_t=yield be(()=>fetch(j,We));if(_t.ok){const xt=yield _t.json();return{fid:xt.fid||k,registrationStatus:2,refreshToken:xt.refreshToken,authToken:Pe(xt.authToken)}}throw yield Te("Create Installation",_t)})).apply(this,arguments)}function $e(S){return new Promise(T=>{setTimeout(T,S)})}const un=/^[cdef][\w-]{21}$/;function Je(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const k=function vn(S){return function Ct(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return un.test(k)?k:""}catch{return""}}function On(S){return`${S.appName}!${S.appId}`}const nn=new Map;function rn(S,T){const k=On(S);Pi(k,T),function Xr(S,T){const k=function Gn(){return!tr&&"BroadcastChannel"in self&&(tr=new BroadcastChannel("[Firebase] FID Change"),tr.onmessage=S=>{Pi(S.data.key,S.data.fid)}),tr}();k&&k.postMessage({key:S,fid:T}),function Jr(){0===nn.size&&tr&&(tr.close(),tr=null)}()}(k,T)}function Pi(S,T){const k=nn.get(S);if(k)for(const j of k)j(T)}let tr=null;const Kn="firebase-installations-store";let Hr=null;function ts(){return Hr||(Hr=(0,pe.X3)("firebase-installations-database",1,{upgrade:(S,T)=>{0===T&&S.createObjectStore(Kn)}})),Hr}function it(S,T){return fi.apply(this,arguments)}function fi(){return(fi=(0,N.Z)(function*(S,T){const k=On(S),J=(yield ts()).transaction(Kn,"readwrite"),ce=J.objectStore(Kn),Ce=yield ce.get(k);return yield ce.put(T,k),yield J.done,(!Ce||Ce.fid!==T.fid)&&rn(S,T.fid),T})).apply(this,arguments)}function ii(S){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,N.Z)(function*(S){const T=On(S),j=(yield ts()).transaction(Kn,"readwrite");yield j.objectStore(Kn).delete(T),yield j.done})).apply(this,arguments)}function Ii(S,T){return mo.apply(this,arguments)}function mo(){return(mo=(0,N.Z)(function*(S,T){const k=On(S),J=(yield ts()).transaction(Kn,"readwrite"),ce=J.objectStore(Kn),Ce=yield ce.get(k),We=T(Ce);return void 0===We?yield ce.delete(k):yield ce.put(We,k),yield J.done,We&&(!Ce||Ce.fid!==We.fid)&&rn(S,We.fid),We})).apply(this,arguments)}function xn(S){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,N.Z)(function*(S){let T;const k=yield Ii(S.appConfig,j=>{const J=Sn(j),ce=mt(S,J);return T=ce.registrationPromise,ce.installationEntry});return""===k.fid?{installationEntry:yield T}:{installationEntry:k,registrationPromise:T}})).apply(this,arguments)}function Sn(S){return Mt(S||{fid:Je(),registrationStatus:0})}function mt(S,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(st.create("app-offline"))};const k={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},j=function gt(S,T){return Pt.apply(this,arguments)}(S,k);return{installationEntry:k,registrationPromise:j}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:ir(S)}:{installationEntry:T}}function Pt(){return(Pt=(0,N.Z)(function*(S,T){try{const k=yield ue(S,T);return it(S.appConfig,k)}catch(k){throw nt(k)&&409===k.customData.serverCode?yield ii(S.appConfig):yield it(S.appConfig,{fid:T.fid,registrationStatus:0}),k}})).apply(this,arguments)}function ir(S){return ri.apply(this,arguments)}function ri(){return(ri=(0,N.Z)(function*(S){let T=yield zi(S.appConfig);for(;1===T.registrationStatus;)yield $e(100),T=yield zi(S.appConfig);if(0===T.registrationStatus){const{installationEntry:k,registrationPromise:j}=yield xn(S);return j||k}return T})).apply(this,arguments)}function zi(S){return Ii(S,T=>{if(!T)throw st.create("installation-not-found");return Mt(T)})}function Mt(S){return function Gi(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Vt(S,T){return fr.apply(this,arguments)}function fr(){return(fr=(0,N.Z)(function*({appConfig:S,heartbeatServiceProvider:T},k){const j=Xt(S,k),J=he(S,k),ce=T.getImmediate({optional:!0});if(ce){const xt=yield ce.getHeartbeatsHeader();xt&&J.append("x-firebase-client",xt)}const We={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:te,appId:S.appId}})},_t=yield be(()=>fetch(j,We));if(_t.ok)return Pe(yield _t.json());throw yield Te("Generate Auth Token",_t)})).apply(this,arguments)}function Xt(S,{fid:T}){return`${Ve(S)}/${T}/authTokens:generate`}function bi(S){return Un.apply(this,arguments)}function Un(){return(Un=(0,N.Z)(function*(S,T=!1){let k;const j=yield Ii(S.appConfig,ce=>{if(!tn(ce))throw st.create("not-registered");const Ce=ce.authToken;if(!T&&q(Ce))return ce;if(1===Ce.requestStatus)return k=ot(S,T),ce;{if(!navigator.onLine)throw st.create("app-offline");const We=X(ce);return k=Dt(S,We),We}});return k?yield k:j.authToken})).apply(this,arguments)}function ot(S,T){return Me.apply(this,arguments)}function Me(){return(Me=(0,N.Z)(function*(S,T){let k=yield at(S.appConfig);for(;1===k.authToken.requestStatus;)yield $e(100),k=yield at(S.appConfig);const j=k.authToken;return 0===j.requestStatus?bi(S,T):j})).apply(this,arguments)}function at(S){return Ii(S,T=>{if(!tn(T))throw st.create("not-registered");return function $(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Dt(S,T){return St.apply(this,arguments)}function St(){return(St=(0,N.Z)(function*(S,T){try{const k=yield Vt(S,T),j=Object.assign(Object.assign({},T),{authToken:k});return yield it(S.appConfig,j),k}catch(k){if(!nt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const j=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield it(S.appConfig,j)}else yield ii(S.appConfig);throw k}})).apply(this,arguments)}function tn(S){return void 0!==S&&2===S.registrationStatus}function q(S){return 2===S.requestStatus&&!function G(S){const T=Date.now();return T<S.creationTime||S.creationTime+S.expiresIn<T+36e5}(S)}function X(S){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:T})}function H(){return(H=(0,N.Z)(function*(S){const T=S,{installationEntry:k,registrationPromise:j}=yield xn(T);return j?j.catch(console.error):bi(T).catch(console.error),k.fid})).apply(this,arguments)}function Be(){return(Be=(0,N.Z)(function*(S,T=!1){const k=S;return yield ut(k),(yield bi(k,T)).token})).apply(this,arguments)}function ut(S){return dt.apply(this,arguments)}function dt(){return(dt=(0,N.Z)(function*(S){const{registrationPromise:T}=yield xn(S);T&&(yield T)})).apply(this,arguments)}function go(S){return st.create("missing-app-config-values",{valueName:S})}const ta="installations",_o=S=>{const T=S.getProvider("app").getImmediate(),k=function Nn(S){if(!S||!S.options)throw go("App Configuration");if(!S.name)throw go("App Name");const T=["projectId","apiKey","appId"];for(const k of T)if(!S.options[k])throw go(k);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(T);return{app:T,appConfig:k,heartbeatServiceProvider:(0,le._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},yo=S=>{const T=S.getProvider("app").getImmediate(),k=(0,le._getProvider)(T,ta).getImmediate();return{getId:()=>function O(S){return H.apply(this,arguments)}(k),getToken:J=>function oe(S){return Be.apply(this,arguments)}(k,J)}};(function ic(){(0,le._registerComponent)(new ye.wA(ta,_o,"PUBLIC")),(0,le._registerComponent)(new ye.wA("installations-internal",yo,"PRIVATE"))})(),(0,le.registerVersion)(ve,Y),(0,le.registerVersion)(ve,Y,"esm2017");const gs="@firebase/remote-config",oi=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class sc{constructor(T,k,j,J){this.client=T,this.storage=k,this.storageCache=j,this.logger=J}isCachedDataFresh(T,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-k,J=j<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${J}.`),J}fetch(T){var k=this;return(0,N.Z)(function*(){const[j,J]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(J&&k.isCachedDataFresh(T.cacheMaxAgeMillis,j))return J;T.eTag=J&&J.eTag;const ce=yield k.client.fetch(T),Ce=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&Ce.push(k.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(Ce),ce})()}}function cl(S=navigator){return S.languages&&S.languages[0]||S.language}class wo{constructor(T,k,j,J,ce,Ce){this.firebaseInstallations=T,this.sdkVersion=k,this.namespace=j,this.projectId=J,this.apiKey=ce,this.appId=Ce}fetch(T){var k=this;return(0,N.Z)(function*(){var j,J,ce;const[Ce,We]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),xt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Ut={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},vt={sdk_version:k.sdkVersion,app_instance_id:Ce,app_instance_id_token:We,app_id:k.appId,language_code:cl()},li={method:"POST",headers:Ut,body:JSON.stringify(vt)},Ai=fetch(xt,li),Qs=new Promise((Js,Mi)=>{T.signal.addEventListener(()=>{const qd=new Error("The operation was aborted.");qd.name="AbortError",Mi(qd)})});let $t;try{yield Promise.race([Ai,Qs]),$t=yield Ai}catch(Js){let Mi="fetch-client-network";throw"AbortError"===(null===(j=Js)||void 0===j?void 0:j.name)&&(Mi="fetch-timeout"),oi.create(Mi,{originalErrorMessage:null===(J=Js)||void 0===J?void 0:J.message})}let Vi=$t.status;const Fo=$t.headers.get("ETag")||void 0;let Xs,Cc;if(200===$t.status){let Js;try{Js=yield $t.json()}catch(Mi){throw oi.create("fetch-client-parse",{originalErrorMessage:null===(ce=Mi)||void 0===ce?void 0:ce.message})}Xs=Js.entries,Cc=Js.state}if("INSTANCE_STATE_UNSPECIFIED"===Cc?Vi=500:"NO_CHANGE"===Cc?Vi=304:("NO_TEMPLATE"===Cc||"EMPTY_CONFIG"===Cc)&&(Xs={}),304!==Vi&&200!==Vi)throw oi.create("fetch-status",{httpStatus:Vi});return{status:Vi,eTag:Fo,config:Xs}})()}}class vs{constructor(T,k){this.client=T,this.storage=k}fetch(T){var k=this;return(0,N.Z)(function*(){const j=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(T,j)})()}attemptFetch(T,{throttleEndTimeMillis:k,backoffCount:j}){var J=this;return(0,N.Z)(function*(){yield function Er(S,T){return new Promise((k,j)=>{const J=Math.max(T-Date.now(),0),ce=setTimeout(k,J);S.addEventListener(()=>{clearTimeout(ce),j(oi.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,k);try{const ce=yield J.client.fetch(T);return yield J.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function rg(S){if(!(S instanceof de.ZR&&S.customData))return!1;const T=Number(S.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ce))throw ce;const Ce={throttleEndTimeMillis:Date.now()+(0,de.$s)(j),backoffCount:j+1};return yield J.storage.setThrottleMetadata(Ce),J.attemptFetch(T,Ce)}})()}}class kf{constructor(T,k,j,J,ce){this.app=T,this._client=k,this._storageCache=j,this._storage=J,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ul(S,T){var k;const j=S.target.error||void 0;return oi.create(T,{originalErrorMessage:j&&(null===(k=j)||void 0===k?void 0:k.message)})}const na="app_namespace_store";class Dd{constructor(T,k,j,J=function ag(){return new Promise((S,T)=>{var k;try{const j=indexedDB.open("firebase_remote_config",1);j.onerror=J=>{T(ul(J,"storage-open"))},j.onsuccess=J=>{S(J.target.result)},j.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(na,{keyPath:"compositeKey"})}}catch(j){T(oi.create("storage-open",{originalErrorMessage:null===(k=j)||void 0===k?void 0:k.message}))}})}()){this.appId=T,this.appName=k,this.namespace=j,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var k=this;return(0,N.Z)(function*(){const j=yield k.openDbPromise;return new Promise((J,ce)=>{var Ce;const _t=j.transaction([na],"readonly").objectStore(na),xt=k.createCompositeKey(T);try{const Ut=_t.get(xt);Ut.onerror=vt=>{ce(ul(vt,"storage-get"))},Ut.onsuccess=vt=>{const li=vt.target.result;J(li?li.value:void 0)}}catch(Ut){ce(oi.create("storage-get",{originalErrorMessage:null===(Ce=Ut)||void 0===Ce?void 0:Ce.message}))}})})()}set(T,k){var j=this;return(0,N.Z)(function*(){const J=yield j.openDbPromise;return new Promise((ce,Ce)=>{var We;const xt=J.transaction([na],"readwrite").objectStore(na),Ut=j.createCompositeKey(T);try{const vt=xt.put({compositeKey:Ut,value:k});vt.onerror=li=>{Ce(ul(li,"storage-set"))},vt.onsuccess=()=>{ce()}}catch(vt){Ce(oi.create("storage-set",{originalErrorMessage:null===(We=vt)||void 0===We?void 0:We.message}))}})})()}delete(T){var k=this;return(0,N.Z)(function*(){const j=yield k.openDbPromise;return new Promise((J,ce)=>{var Ce;const _t=j.transaction([na],"readwrite").objectStore(na),xt=k.createCompositeKey(T);try{const Ut=_t.delete(xt);Ut.onerror=vt=>{ce(ul(vt,"storage-delete"))},Ut.onsuccess=()=>{J()}}catch(Ut){ce(oi.create("storage-delete",{originalErrorMessage:null===(Ce=Ut)||void 0===Ce?void 0:Ce.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class ia{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,N.Z)(function*(){const k=T.storage.getLastFetchStatus(),j=T.storage.getLastSuccessfulFetchTimestampMillis(),J=T.storage.getActiveConfig(),ce=yield k;ce&&(T.lastFetchStatus=ce);const Ce=yield j;Ce&&(T.lastSuccessfulFetchTimestampMillis=Ce);const We=yield J;We&&(T.activeConfig=We)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function ev(){return oc.apply(this,arguments)}function oc(){return(oc=(0,N.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function Id(){(0,le._registerComponent)(new ye.wA("remote-config",function S(T,{instanceIdentifier:k}){const j=T.getProvider("app").getImmediate(),J=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw oi.create("registration-window");if(!(0,de.hl)())throw oi.create("indexed-db-unavailable");const{projectId:ce,apiKey:Ce,appId:We}=j.options;if(!ce)throw oi.create("registration-project-id");if(!Ce)throw oi.create("registration-api-key");if(!We)throw oi.create("registration-app-id");const _t=new Dd(We,j.name,k=k||"firebase"),xt=new ia(_t),Ut=new ie.Yd(gs);Ut.logLevel=ie.in.ERROR;const vt=new wo(J,le.SDK_VERSION,k,ce,Ce,We),li=new vs(vt,_t),Ai=new sc(li,_t,xt,Ut),Qs=new kf(j,Ai,xt,_t,Ut);return function Tn(S){const T=(0,de.m9)(S);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Qs),Qs},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(gs,"0.3.15"),(0,le.registerVersion)(gs,"0.3.15","esm2017")}();const Ni="/firebase-messaging-sw.js",sa="/firebase-cloud-messaging-push-scope",Hs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ac="google.c.a.c_id",ru="google.c.a.c_l",Ad="google.c.a.ts",oa="google.c.a.e";var Dr=(()=>{return(S=Dr||(Dr={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Dr;var S})();function bs(S){const T=new Uint8Array(S);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gr(S){const k=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(k),J=new Uint8Array(j.length);for(let ce=0;ce<j.length;++ce)J[ce]=j.charCodeAt(ce);return J}const Eo="fcm_token_details_db",Do="fcm_token_object_Store";function lg(S){return su.apply(this,arguments)}function su(){return su=(0,N.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(Eo))return null;let T=null;return(yield(0,pe.X3)(Eo,5,{upgrade:(j=(0,N.Z)(function*(J,ce,Ce,We){var _t;if(ce<2||!J.objectStoreNames.contains(Do))return;const xt=We.objectStore(Do),Ut=yield xt.index("fcmSenderId").get(S);if(yield xt.clear(),Ut)if(2===ce){const vt=Ut;if(!vt.auth||!vt.p256dh||!vt.endpoint)return;T={token:vt.fcmToken,createTime:null!==(_t=vt.createTime)&&void 0!==_t?_t:Date.now(),subscriptionOptions:{auth:vt.auth,p256dh:vt.p256dh,endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:"string"==typeof vt.vapidKey?vt.vapidKey:bs(vt.vapidKey)}}}else if(3===ce){const vt=Ut;T={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:bs(vt.auth),p256dh:bs(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:bs(vt.vapidKey)}}}else if(4===ce){const vt=Ut;T={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:bs(vt.auth),p256dh:bs(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:bs(vt.vapidKey)}}}}),function(ce,Ce,We,_t){return j.apply(this,arguments)})})).close(),yield(0,pe.Lj)(Eo),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),Wn(T)?T:null;var j}),su.apply(this,arguments)}function Wn(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:T}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const jr="firebase-messaging-store";let Fi=null;function lc(){return Fi||(Fi=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(S,T)=>{0===T&&S.createObjectStore(jr)}})),Fi}function Io(S){return ns.apply(this,arguments)}function ns(){return(ns=(0,N.Z)(function*(S){const T=Sr(S),j=yield(yield lc()).transaction(jr).objectStore(jr).get(T);if(j)return j;{const J=yield lg(S.appConfig.senderId);if(J)return yield dn(S,J),J}})).apply(this,arguments)}function dn(S,T){return ou.apply(this,arguments)}function ou(){return(ou=(0,N.Z)(function*(S,T){const k=Sr(S),J=(yield lc()).transaction(jr,"readwrite");return yield J.objectStore(jr).put(T,k),yield J.done,T})).apply(this,arguments)}function $s(S){return au.apply(this,arguments)}function au(){return(au=(0,N.Z)(function*(S){const T=Sr(S),j=(yield lc()).transaction(jr,"readwrite");yield j.objectStore(jr).delete(T),yield j.done})).apply(this,arguments)}function Sr({appConfig:S}){return S.appId}const Qn=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ft(S,T){return hl.apply(this,arguments)}function hl(){return(hl=(0,N.Z)(function*(S,T){var k;const j=yield ml(S),J=Ne(T),ce={method:"POST",headers:j,body:JSON.stringify(J)};let Ce;try{Ce=yield(yield fetch(So(S.appConfig),ce)).json()}catch(We){throw Qn.create("token-subscribe-failed",{errorInfo:null===(k=We)||void 0===k?void 0:k.toString()})}if(Ce.error)throw Qn.create("token-subscribe-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw Qn.create("token-subscribe-no-token");return Ce.token})).apply(this,arguments)}function cg(S,T){return fl.apply(this,arguments)}function fl(){return(fl=(0,N.Z)(function*(S,T){var k;const j=yield ml(S),J=Ne(T.subscriptionOptions),ce={method:"PATCH",headers:j,body:JSON.stringify(J)};let Ce;try{Ce=yield(yield fetch(`${So(S.appConfig)}/${T.token}`,ce)).json()}catch(We){throw Qn.create("token-update-failed",{errorInfo:null===(k=We)||void 0===k?void 0:k.toString()})}if(Ce.error)throw Qn.create("token-update-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw Qn.create("token-update-no-token");return Ce.token})).apply(this,arguments)}function xd(S,T){return pl.apply(this,arguments)}function pl(){return(pl=(0,N.Z)(function*(S,T){var k;const J={method:"DELETE",headers:yield ml(S)};try{const Ce=yield(yield fetch(`${So(S.appConfig)}/${T}`,J)).json();if(Ce.error)throw Qn.create("token-unsubscribe-failed",{errorInfo:Ce.error.message})}catch(ce){throw Qn.create("token-unsubscribe-failed",{errorInfo:null===(k=ce)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function So({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function ml(S){return aa.apply(this,arguments)}function aa(){return(aa=(0,N.Z)(function*({appConfig:S,installations:T}){const k=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Ne({p256dh:S,auth:T,endpoint:k,vapidKey:j}){const J={web:{endpoint:k,auth:T,p256dh:S}};return j!==Hs&&(J.web.applicationPubKey=j),J}const Yt=6048e5;function Of(S){return la.apply(this,arguments)}function la(){return(la=(0,N.Z)(function*(S){const T=yield Pf(S.swRegistration,S.vapidKey),k={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:T.endpoint,auth:bs(T.getKey("auth")),p256dh:bs(T.getKey("p256dh"))},j=yield Io(S.firebaseDependencies);if(j){if(ug(j.subscriptionOptions,k))return Date.now()>=j.createTime+Yt?cc(S,{token:j.token,createTime:Date.now(),subscriptionOptions:k}):j.token;try{yield xd(S.firebaseDependencies,j.token)}catch(J){console.warn(J)}return uc(S.firebaseDependencies,k)}return uc(S.firebaseDependencies,k)})).apply(this,arguments)}function mi(S){return ca.apply(this,arguments)}function ca(){return(ca=(0,N.Z)(function*(S){const T=yield Io(S.firebaseDependencies);T&&(yield xd(S.firebaseDependencies,T.token),yield $s(S.firebaseDependencies));const k=yield S.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function cc(S,T){return rr.apply(this,arguments)}function rr(){return(rr=(0,N.Z)(function*(S,T){try{const k=yield cg(S.firebaseDependencies,T),j=Object.assign(Object.assign({},T),{token:k,createTime:Date.now()});return yield dn(S.firebaseDependencies,j),k}catch(k){throw yield mi(S),k}})).apply(this,arguments)}function uc(S,T){return ua.apply(this,arguments)}function ua(){return(ua=(0,N.Z)(function*(S,T){const j={token:yield Ft(S,T),createTime:Date.now(),subscriptionOptions:T};return yield dn(S,j),j.token})).apply(this,arguments)}function Pf(S,T){return gl.apply(this,arguments)}function gl(){return(gl=(0,N.Z)(function*(S,T){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gr(T)})})).apply(this,arguments)}function ug(S,T){return T.vapidKey===S.vapidKey&&T.endpoint===S.endpoint&&T.auth===S.auth&&T.p256dh===S.p256dh}function To(S){const T={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function gi(S,T){if(!T.notification)return;S.notification={};const k=T.notification.title;k&&(S.notification.title=k);const j=T.notification.body;j&&(S.notification.body=j);const J=T.notification.image;J&&(S.notification.image=J);const ce=T.notification.icon;ce&&(S.notification.icon=ce)}(T,S),function is(S,T){!T.data||(S.data=T.data)}(T,S),function _l(S,T){var k,j,J,ce,Ce;if(!(T.fcmOptions||null!==(k=T.notification)&&void 0!==k&&k.click_action))return;S.fcmOptions={};const We=null!==(J=null===(j=T.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==J?J:null===(ce=T.notification)||void 0===ce?void 0:ce.click_action;We&&(S.fcmOptions.link=We);const _t=null===(Ce=T.fcmOptions)||void 0===Ce?void 0:Ce.analytics_label;_t&&(S.fcmOptions.analyticsLabel=_t)}(T,S),T}function yl(S){return"object"==typeof S&&!!S&&ac in S}function Cs(S,T){const k=[];for(let j=0;j<S.length;j++)k.push(S.charAt(j)),j<T.length&&k.push(T.charAt(j));return k.join("")}function lu(S){return Qn.create("missing-app-config-values",{valueName:S})}Cs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Cs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Rd{constructor(T,k,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function kd(S){if(!S||!S.options)throw lu("App Configuration Object");if(!S.name)throw lu("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:k}=S;for(const j of T)if(!k[j])throw lu(j);return{appName:S.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:J,installations:k,analyticsProvider:j}}_delete(){return Promise.resolve()}}function Nf(S){return da.apply(this,arguments)}function da(){return(da=(0,N.Z)(function*(S){var T;try{S.swRegistration=yield navigator.serviceWorker.register(Ni,{scope:sa}),S.swRegistration.update().catch(()=>{})}catch(k){throw Qn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=k)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function cu(S,T){return vl.apply(this,arguments)}function vl(){return(vl=(0,N.Z)(function*(S,T){if(!T&&!S.swRegistration&&(yield Nf(S)),T||!S.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Qn.create("invalid-sw-registration");S.swRegistration=T}})).apply(this,arguments)}function uu(S,T){return bl.apply(this,arguments)}function bl(){return(bl=(0,N.Z)(function*(S,T){T?S.vapidKey=T:S.vapidKey||(S.vapidKey=Hs)})).apply(this,arguments)}function ha(){return(ha=(0,N.Z)(function*(S,T){if(!navigator)throw Qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qn.create("permission-blocked");return yield uu(S,T?.vapidKey),yield cu(S,T?.serviceWorkerRegistration),Of(S)})).apply(this,arguments)}function Ff(S,T,k){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,N.Z)(function*(S,T,k){const j=Lf(T);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:k[ac],message_name:k[ru],message_time:k[Ad],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Lf(S){switch(S){case Dr.NOTIFICATION_CLICKED:return"notification_open";case Dr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zs(){return(zs=(0,N.Z)(function*(S,T){const k=T.data;if(!k.isFirebaseMessaging)return;S.onMessageHandler&&k.messageType===Dr.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(To(k)):S.onMessageHandler.next(To(k)));const j=k.data;yl(j)&&"1"===j[oa]&&(yield Ff(S,k.messageType,j))})).apply(this,arguments)}const Gs="@firebase/messaging",jn=S=>{const T=new Rd(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Pd(S,T){return zs.apply(this,arguments)}(T,k)),T},ws=S=>{const T=S.getProvider("messaging").getImmediate();return{getToken:j=>function Od(S,T){return ha.apply(this,arguments)}(T,j)}};function du(){return hu.apply(this,arguments)}function hu(){return(hu=(0,N.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $n(){(0,le._registerComponent)(new ye.wA("messaging",jn,"PUBLIC")),(0,le._registerComponent)(new ye.wA("messaging-internal",ws,"PRIVATE")),(0,le.registerVersion)(Gs,"0.10.0"),(0,le.registerVersion)(Gs,"0.10.0","esm2017")}();const ma="analytics",Vd="firebase_id",gu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bd="https://www.googletagmanager.com/gtag/js",Xn=new ie.Yd("@firebase/analytics");function hc(S){return Promise.all(S.map(T=>T.catch(k=>k)))}function fc(S,T){const k=document.createElement("script");k.src=`${Bd}?l=${S}&id=${T}`,k.async=!0,document.head.appendChild(k)}function Vf(S,T,k,j,J,ce){return wl.apply(this,arguments)}function wl(){return(wl=(0,N.Z)(function*(S,T,k,j,J,ce){const Ce=j[J];try{if(Ce)yield T[Ce];else{const _t=(yield hc(k)).find(xt=>xt.measurementId===J);_t&&(yield T[_t.appId])}}catch(We){Xn.error(We)}S("config",J,ce)})).apply(this,arguments)}function Es(S,T,k,j,J){return El.apply(this,arguments)}function El(){return(El=(0,N.Z)(function*(S,T,k,j,J){try{let ce=[];if(J&&J.send_to){let Ce=J.send_to;Array.isArray(Ce)||(Ce=[Ce]);const We=yield hc(k);for(const _t of Ce){const xt=We.find(vt=>vt.measurementId===_t),Ut=xt&&T[xt.appId];if(!Ut){ce=[];break}ce.push(Ut)}}0===ce.length&&(ce=Object.values(T)),yield Promise.all(ce),S("event",j,J||{})}catch(ce){Xn.error(ce)}})).apply(this,arguments)}function Ud(S){const T=window.document.getElementsByTagName("script");for(const k of Object.values(T))if(k.src&&k.src.includes(Bd)&&k.src.includes(S))return k;return null}const _i=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Il=new class yu{constructor(T={},k=1e3){this.throttleMetadata=T,this.intervalMillis=k}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,k){this.throttleMetadata[T]=k}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function ga(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Hf(S){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,N.Z)(function*(S){var T;const{appId:k,apiKey:j}=S,J={method:"GET",headers:ga(j)},ce=gu.replace("{app-id}",k),Ce=yield fetch(ce,J);if(200!==Ce.status&&304!==Ce.status){let We="";try{const _t=yield Ce.json();null!==(T=_t.error)&&void 0!==T&&T.message&&(We=_t.error.message)}catch{}throw _i.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:We})}return Ce.json()})).apply(this,arguments)}function Hd(S){return _r.apply(this,arguments)}function _r(){return(_r=(0,N.Z)(function*(S,T=Il,k){const{appId:j,apiKey:J,measurementId:ce}=S.options;if(!j)throw _i.create("no-app-id");if(!J){if(ce)return{measurementId:ce,appId:j};throw _i.create("no-api-key")}const Ce=T.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new Sl;return setTimeout((0,N.Z)(function*(){We.abort()}),void 0!==k?k:6e4),jd({appId:j,apiKey:J,measurementId:ce},Ce,We,T)})).apply(this,arguments)}function jd(S,T,k){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,N.Z)(function*(S,{throttleEndTimeMillis:T,backoffCount:k},j,J=Il){var ce,Ce;const{appId:We,measurementId:_t}=S;try{yield vu(j,T)}catch(xt){if(_t)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${null===(ce=xt)||void 0===ce?void 0:ce.message}]`),{appId:We,measurementId:_t};throw xt}try{const xt=yield Hf(S);return J.deleteThrottleMetadata(We),xt}catch(xt){const Ut=xt;if(!mc(Ut)){if(J.deleteThrottleMetadata(We),_t)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${Ut?.message}]`),{appId:We,measurementId:_t};throw xt}const vt=503===Number(null===(Ce=Ut?.customData)||void 0===Ce?void 0:Ce.httpStatus)?(0,de.$s)(k,J.intervalMillis,30):(0,de.$s)(k,J.intervalMillis),li={throttleEndTimeMillis:Date.now()+vt,backoffCount:k+1};return J.setThrottleMetadata(We,li),Xn.debug(`Calling attemptFetch again in ${vt} millis`),jd(S,li,j,J)}})).apply(this,arguments)}function vu(S,T){return new Promise((k,j)=>{const J=Math.max(T-Date.now(),0),ce=setTimeout(k,J);S.addEventListener(()=>{clearTimeout(ce),j(_i.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function mc(S){if(!(S instanceof de.ZR&&S.customData))return!1;const T=Number(S.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Sl{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Ao,_c;function _a(){return(_a=(0,N.Z)(function*(S,T,k,j,J){if(J&&J.global)S("event",k,j);else{const ce=yield T;S("event",k,Object.assign(Object.assign({},j),{send_to:ce}))}})).apply(this,arguments)}function ba(S){_c=S}function bu(S){Ao=S}function Zs(){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,N.Z)(function*(){var S;if(!(0,de.hl)())return Xn.warn(_i.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(T){return Xn.warn(_i.create("indexeddb-unavailable",{errorInfo:null===(S=T)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function wa(){return(wa=(0,N.Z)(function*(S,T,k,j,J,ce,Ce){var We;const _t=Hd(S);_t.then(Ai=>{k[Ai.measurementId]=Ai.appId,S.options.measurementId&&Ai.measurementId!==S.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Ai.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ai=>Xn.error(Ai)),T.push(_t);const xt=Zs().then(Ai=>{if(Ai)return j.getId()}),[Ut,vt]=yield Promise.all([_t,xt]);Ud(ce)||fc(ce,Ut.measurementId),_c&&(J("consent","default",_c),ba(void 0)),J("js",new Date);const li=null!==(We=Ce?.config)&&void 0!==We?We:{};return li.origin="firebase",li.update=!0,null!=vt&&(li[Vd]=vt),J("config",Ut.measurementId,li),Ao&&(J("set",Ao),bu(void 0)),Ut.measurementId})).apply(this,arguments)}class yc{constructor(T){this.app=T}_delete(){return delete Wi[this.app.options.appId],Promise.resolve()}}let Wi={},Ea=[];const xo={};let Ia,ss,Da="dataLayer",zd=!1;function zf(S,T,k){!function dg(){const S=[];if((0,de.ru)()&&S.push("This is a browser extension environment."),(0,de.zI)()||S.push("Cookies are not available."),S.length>0){const T=S.map((j,J)=>`(${J+1}) ${j}`).join(" "),k=_i.create("invalid-analytics-context",{errorInfo:T});Xn.warn(k.message)}}();const j=S.options.appId;if(!j)throw _i.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw _i.create("no-api-key");Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wi[j])throw _i.create("already-exists",{id:j});if(!zd){!function pc(S){let T=[];Array.isArray(window[S])?T=window[S]:window[S]=T}(Da);const{wrappedGtag:ce,gtagCore:Ce}=function Dl(S,T,k,j,J){let ce=function(...Ce){window[j].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ce=window[J]),window[J]=function _u(S,T,k,j){function ce(){return(ce=(0,N.Z)(function*(Ce,We,_t){try{"event"===Ce?yield Es(S,T,k,We,_t):"config"===Ce?yield Vf(S,T,k,j,We,_t):"consent"===Ce?S("consent","update",_t):S("set",We)}catch(xt){Xn.error(xt)}})).apply(this,arguments)}return function J(Ce,We,_t){return ce.apply(this,arguments)}}(ce,S,T,k),{gtagCore:ce,wrappedGtag:window[J]}}(Wi,Ea,xo,Da,"gtag");ss=ce,Ia=Ce,zd=!0}return Wi[j]=function $f(S,T,k,j,J,ce,Ce){return wa.apply(this,arguments)}(S,Ea,xo,T,Ia,Da,k),new yc(S)}function nv(){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,N.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const et="@firebase/analytics";!function kn(){(0,le._registerComponent)(new ye.wA(ma,(T,{options:k})=>zf(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,le._registerComponent)(new ye.wA("analytics-internal",function S(T){try{const k=T.getProvider(ma).getImmediate();return{logEvent:(j,J,ce)=>function sn(S,T,k,j){S=(0,de.m9)(S),function Tl(S,T,k,j,J){return _a.apply(this,arguments)}(ss,Wi[S.app.options.appId],T,k,j).catch(J=>Xn.error(J))}(k,j,J,ce)}}catch(k){throw _i.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,le.registerVersion)(et,"0.8.4"),(0,le.registerVersion)(et,"0.8.4","esm2017")}();var Is=B(4408),Ln=B(7565);const Gd=new class Oo extends Ln.v{}(class Ro extends Is.o{constructor(T,k){super(T,k),this.scheduler=T,this.work=k}schedule(T,k=0){return k>0?super.schedule(T,k):(this.delay=k,this.state=T,this.scheduler.flush(this),this)}execute(T,k){return k>0||this.closed?super.execute(T,k):this._execute(T,k)}requestAsyncId(T,k,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(T,k,j):(T.flush(this),0)}});var Wf=B(4986),qs=B(9751),Zd=B(8505),Ss=B(5363),Qe=B(9468);const wu=new a.GfV("7.4.1"),as="__angularfire_symbol__analyticsIsSupportedValue",Ml="__angularfire_symbol__analyticsIsSupported",xl="__angularfire_symbol__remoteConfigIsSupportedValue",Vn="__angularfire_symbol__remoteConfigIsSupported",kl="__angularfire_symbol__messagingIsSupportedValue",Rl="__angularfire_symbol__messagingIsSupported";function Po(S,T,k){if(T){if(1===T.length)return T[0];const ce=T.filter(Ce=>Ce.app===k);if(1===ce.length)return ce[0]}return k.container.getProvider(S).getImmediate({optional:!0})}globalThis[Ml]||(globalThis[Ml]=nv().then(S=>globalThis[as]=S).catch(()=>globalThis[as]=!1)),globalThis[Rl]||(globalThis[Rl]=du().then(S=>globalThis[kl]=S).catch(()=>globalThis[kl]=!1)),globalThis[Vn]||(globalThis[Vn]=ev().then(S=>globalThis[xl]=S).catch(()=>globalThis[xl]=!1));const zr=(S,T)=>{const k=T?[T]:(0,z.C6)(),j=[];return k.forEach(J=>{J.container.getProvider(S).instances.forEach(Ce=>{j.includes(Ce)||j.push(Ce)})}),j};function yr(){}class bc{constructor(T,k=Gd){this.zone=T,this.delegate=k}now(){return this.delegate.now()}schedule(T,k,j){const J=this.zone;return this.delegate.schedule(function(Ce){J.runGuarded(()=>{T.apply(this,[Ce])})},k,j)}}class Zi{constructor(T){this.zone=T,this.task=null}call(T,k){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yr,{},yr,yr)),k.pipe((0,Zd.b)({next:j,complete:j,error:j})).subscribe(T).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ys=(()=>{class S{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new bc(Zone.current)),this.insideAngular=k.run(()=>new bc(Zone.current,Wf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(k){return new(k||S)(a.LFG(a.R0b))},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Li(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Ti(S){return Li().ngZone.runOutsideAngular(()=>S())}function wn(S){return Li().ngZone.run(()=>S())}function Ks(S){return S.pipe((0,Ss.Q)(Li().outsideAngular))}function Zn(S){return Li(),function jt(S){return function(k){return(k=k.lift(new Zi(S.ngZone))).pipe((0,Qe.R)(S.outsideAngular),(0,Ss.Q)(S.insideAngular))}}(Li())(S)}const ai=(S,T)=>function(){const j=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),wn(()=>S.apply(void 0,j))},_n=(S,T)=>function(){let k;const j=arguments;for(let ce=0;ce<arguments.length;ce++)"function"==typeof j[ce]&&(T&&(k||(k=wn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yr,{},yr,yr)))),j[ce]=ai(j[ce],k));const J=Ti(()=>S.apply(this,j));if(!T){if(J instanceof qs.y){const ce=Li();return J.pipe((0,Qe.R)(ce.outsideAngular),(0,Ss.Q)(ce.insideAngular))}return wn(()=>J)}return J instanceof qs.y?J.pipe(Zn):J instanceof Promise?wn(()=>new Promise((ce,Ce)=>J.then(We=>wn(()=>ce(We)),We=>wn(()=>Ce(We))))):"function"==typeof J&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),J.apply(this,arguments)}:wn(()=>J)}},8247:(pt,xe,B)=>{B.d(xe,{$:()=>So,A:()=>Z,B:()=>Le,G:()=>yo,H:()=>pr,J:()=>vs,L:()=>q,M:()=>oc,N:()=>Td,P:()=>Wf,Q:()=>ac,R:()=>hg,T:()=>ru,U:()=>Hs,V:()=>Dr,W:()=>bs,X:()=>lg,Y:()=>dl,Z:()=>Ft,_:()=>cg,a:()=>Ws,a0:()=>Of,a1:()=>mi,a2:()=>cc,a3:()=>uc,a4:()=>Pf,a5:()=>ug,a6:()=>gi,a7:()=>is,a8:()=>yl,a9:()=>Cs,aA:()=>G,aB:()=>We,aC:()=>wn,aD:()=>Ti,aE:()=>wt,aI:()=>ga,aL:()=>oa,aa:()=>Nf,ab:()=>cu,ac:()=>uu,af:()=>Ff,ag:()=>Lf,ah:()=>Pd,ak:()=>jr,al:()=>fu,an:()=>Bd,ao:()=>wl,ap:()=>be,aq:()=>He,ar:()=>ut,as:()=>nt,at:()=>wc,au:()=>Vi,av:()=>Nt,aw:()=>Ve,ax:()=>ae,ay:()=>li,az:()=>ne,b:()=>_i,c:()=>Vn,d:()=>Zf,e:()=>Rl,f:()=>Zn,g:()=>k,h:()=>_n,i:()=>Ca,j:()=>ce,k:()=>Jf,l:()=>ht,m:()=>Ts,n:()=>cv,o:()=>pe,r:()=>Is,s:()=>os,u:()=>Gd});var a=B(5861),z=B(2090),N=B(9681),le=B(1877),de=B(655),ye=B(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Le=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ae=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lt=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ge=new le.Yd("@firebase/auth");function st(C,...g){ge.logLevel<=le.in.ERROR&&ge.error(`Auth (${N.SDK_VERSION}): ${C}`,...g)}function nt(C,...g){throw qe(C,...g)}function Ve(C,...g){return qe(C,...g)}function Pe(C,g,y){const E=Object.assign(Object.assign({},Ae()),{[g]:y});return new z.LL("auth","Firebase",E).create(g,{appName:C.name})}function Te(C,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&nt(C,"argument-error"),Pe(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(C,...g){if("string"!=typeof C){const y=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=C.name),C._errorFactory.create(y,...E)}return lt.create(C,...g)}function ae(C,g,...y){if(!C)throw qe(g,...y)}function he(C){const g="INTERNAL ASSERTION FAILED: "+C;throw st(g),new Error(g)}function be(C,g){C||he(g)}const ee=new Map;function ne(C){be(C instanceof Function,"Expected a class definition");let g=ee.get(C);return g?(be(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,ee.set(C,g),g)}function je(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function $e(){return"http:"===Ct()||"https:"===Ct()}function Ct(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Je{constructor(g,y){this.shortDelay=g,this.longDelay=y,be(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function un(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($e()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vn(C,g){be(C.emulator,"Emulator should always be set here");const{url:y}=C.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class On{static initialize(g,y,E){this.fetchImpl=g,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rn=new Je(3e4,6e4);function qt(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function Ht(C,g,y,E){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,a.Z)(function*(C,g,y,E,x={}){return Xr(C,x,(0,a.Z)(function*(){let F={},re={};E&&("GET"===g?re=E:F={body:JSON.stringify(E)});const Re=(0,z.xO)(Object.assign({key:C.config.apiKey},re)).slice(1),ct=yield C._getAdditionalHeaders();return ct["Content-Type"]="application/json",C.languageCode&&(ct["X-Firebase-Locale"]=C.languageCode),On.fetch()(es(C,C.config.apiHost,y,Re),Object.assign({method:g,headers:ct,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Xr(C,g,y){return tr.apply(this,arguments)}function tr(){return(tr=(0,a.Z)(function*(C,g,y){C._canInitEmulator=!1;const E=Object.assign(Object.assign({},nn),g);try{const x=new nr(C),F=yield Promise.race([y(),x.promise]);x.clearNetworkTimeout();const re=yield F.json();if("needConfirmation"in re)throw Kn(C,"account-exists-with-different-credential",re);if(F.ok&&!("errorMessage"in re))return re;{const Re=F.ok?re.errorMessage:re.error.message,[ct,It]=Re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ct)throw Kn(C,"credential-already-in-use",re);if("EMAIL_EXISTS"===ct)throw Kn(C,"email-already-in-use",re);if("USER_DISABLED"===ct)throw Kn(C,"user-disabled",re);const Kt=E[ct]||ct.toLowerCase().replace(/[_\s]+/g,"-");if(It)throw Pe(C,Kt,It);nt(C,Kt)}}catch(x){if(x instanceof z.ZR)throw x;nt(C,"network-request-failed")}})).apply(this,arguments)}function Gn(C,g,y,E){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,a.Z)(function*(C,g,y,E,x={}){const F=yield Ht(C,g,y,E,x);return"mfaPendingCredential"in F&&nt(C,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function es(C,g,y,E){const x=`${g}${y}?${E}`;return C.config.emulator?vn(C.config,x):`${C.config.apiScheme}://${x}`}class nr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(Ve(this.auth,"network-request-failed")),rn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kn(C,g,y){const E={appName:C.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const x=Ve(C,g,E);return x.customData._tokenResponse=y,x}function ts(){return(ts=(0,a.Z)(function*(C,g){return Ht(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function it(C,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,a.Z)(function*(C,g){return Ht(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ii(C,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,a.Z)(function*(C,g){return Ht(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ii(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Pn(){return(Pn=(0,a.Z)(function*(C,g=!1){const y=(0,z.m9)(C),E=yield y.getIdToken(g),x=mt(E);ae(x&&x.exp&&x.auth_time&&x.iat,y.auth,"internal-error");const F="object"==typeof x.firebase?x.firebase:void 0,re=F?.sign_in_provider;return{claims:x,token:E,authTime:Ii(Sn(x.auth_time)),issuedAtTime:Ii(Sn(x.iat)),expirationTime:Ii(Sn(x.exp)),signInProvider:re||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function Sn(C){return 1e3*Number(C)}function mt(C){var g;const[y,E,x]=C.split(".");if(void 0===y||void 0===E||void 0===x)return st("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,z.tV)(E);return F?JSON.parse(F):(st("Failed to decode base64 JWT payload"),null)}catch(F){return st("Caught error parsing JWT payload as JSON",null===(g=F)||void 0===g?void 0:g.toString()),null}}function Pt(C,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.Z)(function*(C,g,y=!1){if(y)return g;try{return yield g}catch(E){throw E instanceof z.ZR&&ri(E)&&C.auth.currentUser===C&&(yield C.auth.signOut()),E}})).apply(this,arguments)}function ri({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class zi{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const x=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,a.Z)(function*(){yield y.iteration()}),E)}iteration(){var g=this;return(0,a.Z)(function*(){var y;try{yield g.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(y=E)||void 0===y?void 0:y.code)&&g.schedule(!0))}g.schedule()})()}}class Mt{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ii(this.lastLoginAt),this.creationTime=Ii(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gi(C){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,a.Z)(function*(C){var g;const y=C.auth,E=yield C.getIdToken(),x=yield Pt(C,ii(y,{idToken:E}));ae(x?.users.length,y,"internal-error");const F=x.users[0];C._notifyReloadListener(F);const re=null!==(g=F.providerUserInfo)&&void 0!==g&&g.length?Un(F.providerUserInfo):[],Re=bi(C.providerData,re),Kt=!!C.isAnonymous&&!(C.email&&F.passwordHash||Re?.length),En={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:Re,metadata:new Mt(F.createdAt,F.lastLoginAt),isAnonymous:Kt};Object.assign(C,En)})).apply(this,arguments)}function Xt(){return(Xt=(0,a.Z)(function*(C){const g=(0,z.m9)(C);yield Gi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function bi(C,g){return[...C.filter(E=>!g.some(x=>x.providerId===E.providerId)),...g]}function Un(C){return C.map(g=>{var{providerId:y}=g,E=(0,de._T)(g,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Me(){return(Me=(0,a.Z)(function*(C,g){const y=yield Xr(C,{},(0,a.Z)(function*(){const E=(0,z.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:x,apiKey:F}=C.config,re=es(C,x,"/v1/token",`key=${F}`),Re=yield C._getAdditionalHeaders();return Re["Content-Type"]="application/x-www-form-urlencoded",On.fetch()(re,{method:"POST",headers:Re,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class at{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ae(g.idToken,"internal-error"),ae(typeof g.idToken<"u","internal-error"),ae(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function gt(C){const g=mt(C);return ae(g,"internal-error"),ae(typeof g.exp<"u","internal-error"),ae(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var E=this;return(0,a.Z)(function*(){return ae(!E.accessToken||E.refreshToken,g,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var E=this;return(0,a.Z)(function*(){const{accessToken:x,refreshToken:F,expiresIn:re}=yield function ot(C,g){return Me.apply(this,arguments)}(g,y);E.updateTokensAndExpiration(x,F,Number(re))})()}updateTokensAndExpiration(g,y,E){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,y){const{refreshToken:E,accessToken:x,expirationTime:F}=y,re=new at;return E&&(ae("string"==typeof E,"internal-error",{appName:g}),re.refreshToken=E),x&&(ae("string"==typeof x,"internal-error",{appName:g}),re.accessToken=x),F&&(ae("number"==typeof F,"internal-error",{appName:g}),re.expirationTime=F),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new at,this.toJSON())}_performRefresh(){return he("not implemented")}}function Dt(C,g){ae("string"==typeof C||typeof C>"u","internal-error",{appName:g})}class St{constructor(g){var{uid:y,auth:E,stsTokenManager:x}=g,F=(0,de._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new Mt(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,a.Z)(function*(){const E=yield Pt(y,y.stsTokenManager.getToken(y.auth,g));return ae(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(g){return function xn(C){return Pn.apply(this,arguments)}(this,g)}reload(){return function fr(C){return Xt.apply(this,arguments)}(this)}_assign(g){this!==g&&(ae(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new St(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var E=this;return(0,a.Z)(function*(){let x=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),x=!0),y&&(yield Gi(E)),yield E.auth._persistUserIfCurrent(E),x&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,a.Z)(function*(){const y=yield g.getIdToken();return yield Pt(g,function Hr(C,g){return ts.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var E,x,F,re,Re,ct,It,Kt;const En=null!==(E=y.displayName)&&void 0!==E?E:void 0,sr=null!==(x=y.email)&&void 0!==x?x:void 0,ls=null!==(F=y.phoneNumber)&&void 0!==F?F:void 0,eh=null!==(re=y.photoURL)&&void 0!==re?re:void 0,th=null!==(Re=y.tenantId)&&void 0!==Re?Re:void 0,nh=null!==(ct=y._redirectEventId)&&void 0!==ct?ct:void 0,Fl=null!==(It=y.createdAt)&&void 0!==It?It:void 0,yg=null!==(Kt=y.lastLoginAt)&&void 0!==Kt?Kt:void 0,{uid:ip,emailVerified:ih,isAnonymous:Su,providerData:Dc,stsTokenManager:Ta}=y;ae(ip&&Ta,g,"internal-error");const uv=at.fromJSON(this.name,Ta);ae("string"==typeof ip,g,"internal-error"),Dt(En,g.name),Dt(sr,g.name),ae("boolean"==typeof ih,g,"internal-error"),ae("boolean"==typeof Su,g,"internal-error"),Dt(ls,g.name),Dt(eh,g.name),Dt(th,g.name),Dt(nh,g.name),Dt(Fl,g.name),Dt(yg,g.name);const zn=new St({uid:ip,auth:g,email:sr,emailVerified:ih,displayName:En,isAnonymous:Su,photoURL:eh,phoneNumber:ls,tenantId:th,stsTokenManager:uv,createdAt:Fl,lastLoginAt:yg});return Dc&&Array.isArray(Dc)&&(zn.providerData=Dc.map(dv=>Object.assign({},dv))),nh&&(zn._redirectEventId=nh),zn}static _fromIdTokenResponse(g,y,E=!1){return(0,a.Z)(function*(){const x=new at;x.updateFromServerResponse(y);const F=new St({uid:y.localId,auth:g,stsTokenManager:x,isAnonymous:E});return yield Gi(F),F})()}}const q=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(y,E){var x=this;return(0,a.Z)(function*(){x.storage[y]=E})()}_get(y){var E=this;return(0,a.Z)(function*(){const x=E.storage[y];return void 0===x?null:x})()}_remove(y){var E=this;return(0,a.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return C.type="NONE",C})();function G(C,g,y){return`firebase:${C}:${g}:${y}`}class X{constructor(g,y,E){this.persistence=g,this.auth=y,this.userKey=E;const{config:x,name:F}=this.auth;this.fullUserKey=G(this.userKey,x.apiKey,F),this.fullPersistenceKey=G("persistence",x.apiKey,F),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,a.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?St._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,a.Z)(function*(){if(y.persistence===g)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,E="authUser"){return(0,a.Z)(function*(){if(!y.length)return new X(ne(q),g,E);const x=(yield Promise.all(y.map(function(){var It=(0,a.Z)(function*(Kt){if(yield Kt._isAvailable())return Kt});return function(Kt){return It.apply(this,arguments)}}()))).filter(It=>It);let F=x[0]||ne(q);const re=G(E,g.config.apiKey,g.name);let Re=null;for(const It of y)try{const Kt=yield It._get(re);if(Kt){const En=St._fromJSON(g,Kt);It!==F&&(Re=En),F=It;break}}catch{}const ct=x.filter(It=>It._shouldAllowMigration);return F._shouldAllowMigration&&ct.length?(F=ct[0],Re&&(yield F._set(re,Re.toJSON())),yield Promise.all(y.map(function(){var It=(0,a.Z)(function*(Kt){if(Kt!==F)try{yield Kt._remove(re)}catch{}});return function(Kt){return It.apply(this,arguments)}}())),new X(F,g,E)):new X(F,g,E)})()}}function $(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Be(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(O(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(dt(g))return"Blackberry";if(ke(g))return"Webos";if(H(g))return"Safari";if((g.includes("chrome/")||oe(g))&&!g.includes("edge/"))return"Chrome";if(ut(g))return"Android";{const E=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function O(C=(0,z.z$)()){return/firefox\//i.test(C)}function H(C=(0,z.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function oe(C=(0,z.z$)()){return/crios\//i.test(C)}function Be(C=(0,z.z$)()){return/iemobile/i.test(C)}function ut(C=(0,z.z$)()){return/android/i.test(C)}function dt(C=(0,z.z$)()){return/blackberry/i.test(C)}function ke(C=(0,z.z$)()){return/webos/i.test(C)}function He(C=(0,z.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Nt(C=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Cn(C=(0,z.z$)()){return He(C)||ut(C)||ke(C)||dt(C)||/windows phone/i.test(C)||Be(C)}function Nn(C,g=[]){let y;switch(C){case"Browser":y=$((0,z.z$)());break;case"Worker":y=`${$((0,z.z$)())}-${C}`;break;default:y=C}const E=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${N.SDK_VERSION}/${E}`}class go{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const E=F=>new Promise((re,Re)=>{try{re(g(F))}catch(ct){Re(ct)}});E.onAbort=y,this.queue.push(E);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,a.Z)(function*(){var E;if(y.auth.currentUser===g)return;const x=[];try{for(const F of y.queue)yield F(g),F.onAbort&&x.push(F.onAbort)}catch(F){x.reverse();for(const re of x)try{re()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=F)||void 0===E?void 0:E.message})}})()}}class ta{constructor(g,y,E){this.app=g,this.heartbeatServiceProvider=y,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _o(this),this.idTokenSubscription=new _o(this),this.beforeStateQueue=new go(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,y){var E=this;return y&&(this._popupRedirectResolver=ne(y)),this._initializationPromise=this.queue((0,a.Z)(function*(){var x,F;if(!E._deleted&&(E.persistenceManager=yield X.create(E,g),!E._deleted)){if(null!==(x=E._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(F=E.currentUser)||void 0===F?void 0:F.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,a.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,a.Z)(function*(){var E;const x=yield y.assertedPersistence.getCurrentUser();let F=x,re=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Re=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,ct=F?._redirectEventId,It=yield y.tryRedirectSignIn(g);(!Re||Re===ct)&&It?.user&&(F=It.user,re=!0)}if(!F)return y.directlySetCurrentUser(null);if(!F._redirectEventId){if(re)try{yield y.beforeStateQueue.runMiddleware(F)}catch(Re){F=x,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Re))}return F?y.reloadAndSetCurrentUserOrClear(F):y.directlySetCurrentUser(null)}return ae(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===F._redirectEventId?y.directlySetCurrentUser(F):y.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(g){var y=this;return(0,a.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,a.Z)(function*(){var E;try{yield Gi(g)}catch(x){if("auth/network-request-failed"!==(null===(E=x)||void 0===E?void 0:E.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Wt(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,a.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,a.Z)(function*(){const E=g?(0,z.m9)(g):null;return E&&ae(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(g,y=!1){var E=this;return(0,a.Z)(function*(){if(!E._deleted)return g&&ae(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),y||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,a.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,a.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,a.Z)(function*(){yield y.assertedPersistence.setPersistence(ne(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new z.LL("auth","Firebase",g())}onAuthStateChanged(g,y,E){return this.registerStateListener(this.authStateSubscription,g,y,E)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,E){return this.registerStateListener(this.idTokenSubscription,g,y,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var E=this;return(0,a.Z)(function*(){const x=yield E.getOrInitRedirectPersistenceManager(y);return null===g?x.removeCurrentUser():x.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,a.Z)(function*(){if(!y.redirectPersistenceManager){const E=g&&ne(g)||y._popupRedirectResolver;ae(E,y,"argument-error"),y.redirectPersistenceManager=yield X.create(y,[ne(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,a.Z)(function*(){var E,x;return y._isInitialized&&(yield y.queue((0,a.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===g?y._currentUser:(null===(x=y.redirectUser)||void 0===x?void 0:x._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,a.Z)(function*(){if(g===y.currentUser)return y.queue((0,a.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,E,x){if(this._deleted)return()=>{};const F="function"==typeof y?y:y.next.bind(y),re=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(re,this,"internal-error"),re.then(()=>F(this.currentUser)),"function"==typeof y?g.addObserver(y,E,x):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,a.Z)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Nn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,a.Z)(function*(){var y;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const x=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return x&&(E["X-Firebase-Client"]=x),E})()}}function wt(C){return(0,z.m9)(C)}class _o{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,z.ne)(y=>this.observer=y)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yo(C,g,y){const E=wt(C);ae(E._canInitEmulator,E,"emulator-config-failed"),ae(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const x=!!y?.disableWarnings,F=ic(g),{host:re,port:Re}=function gs(C){const g=ic(C),y=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(E);if(x){const F=x[1];return{host:F,port:si(E.substr(F.length+1))}}{const[F,re]=E.split(":");return{host:F,port:si(re)}}}(g);E.config.emulator={url:`${F}//${re}${null===Re?"":`:${Re}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:re,port:Re,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function vo(){function C(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function ic(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function si(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class pr{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return he("not implemented")}_getIdTokenResponse(g){return he("not implemented")}_linkToIdToken(g,y){return he("not implemented")}_getReauthenticationResolver(g){return he("not implemented")}}function Cr(C,g){return oi.apply(this,arguments)}function oi(){return(oi=(0,a.Z)(function*(C,g){return Ht(C,"POST","/v1/accounts:resetPassword",qt(C,g))})).apply(this,arguments)}function rc(C,g){return pn.apply(this,arguments)}function pn(){return(pn=(0,a.Z)(function*(C,g){return Ht(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Mf(C,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,a.Z)(function*(C,g){return Ht(C,"POST","/v1/accounts:update",qt(C,g))})).apply(this,arguments)}function bo(){return(bo=(0,a.Z)(function*(C,g){return Gn(C,"POST","/v1/accounts:signInWithPassword",qt(C,g))})).apply(this,arguments)}function _s(C,g){return Co.apply(this,arguments)}function Co(){return(Co=(0,a.Z)(function*(C,g){return Ht(C,"POST","/v1/accounts:sendOobCode",qt(C,g))})).apply(this,arguments)}function ys(C,g){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,a.Z)(function*(C,g){return _s(C,g)})).apply(this,arguments)}function xf(C,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,a.Z)(function*(C,g){return _s(C,g)})).apply(this,arguments)}function wr(C,g){return Us.apply(this,arguments)}function Us(){return(Us=(0,a.Z)(function*(C,g){return _s(C,g)})).apply(this,arguments)}function al(C,g){return ll.apply(this,arguments)}function ll(){return(ll=(0,a.Z)(function*(C,g){return _s(C,g)})).apply(this,arguments)}function iu(){return(iu=(0,a.Z)(function*(C,g){return Gn(C,"POST","/v1/accounts:signInWithEmailLink",qt(C,g))})).apply(this,arguments)}function sc(){return(sc=(0,a.Z)(function*(C,g){return Gn(C,"POST","/v1/accounts:signInWithEmailLink",qt(C,g))})).apply(this,arguments)}class cl extends pr{constructor(g,y,E,x=null){super("password",E),this._email=g,this._password=y,this._tenantId=x}static _fromEmailAndPassword(g,y){return new cl(g,y,"password")}static _fromEmailAndCode(g,y,E=null){return new cl(g,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,a.Z)(function*(){switch(y.signInMethod){case"password":return function ol(C,g){return bo.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function mr(C,g){return iu.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:nt(g,"internal-error")}})()}_linkToIdToken(g,y){var E=this;return(0,a.Z)(function*(){switch(E.signInMethod){case"password":return rc(g,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function ig(C,g){return sc.apply(this,arguments)}(g,{idToken:y,email:E._email,oobCode:E._password});default:nt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function wo(C,g){return Er.apply(this,arguments)}function Er(){return(Er=(0,a.Z)(function*(C,g){return Gn(C,"POST","/v1/accounts:signInWithIdp",qt(C,g))})).apply(this,arguments)}class vs extends pr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new vs(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):nt("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:x}=y,F=(0,de._T)(y,["providerId","signInMethod"]);if(!E||!x)return null;const re=new vs(E,x);return re.idToken=F.idToken||void 0,re.accessToken=F.accessToken||void 0,re.secret=F.secret,re.nonce=F.nonce,re.pendingToken=F.pendingToken||null,re}_getIdTokenResponse(g){return wo(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,wo(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,wo(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,z.xO)(y)}return g}}function sg(C,g){return wd.apply(this,arguments)}function wd(){return(wd=(0,a.Z)(function*(C,g){return Ht(C,"POST","/v1/accounts:sendVerificationCode",qt(C,g))})).apply(this,arguments)}function ul(){return(ul=(0,a.Z)(function*(C,g){return Gn(C,"POST","/v1/accounts:signInWithPhoneNumber",qt(C,g))})).apply(this,arguments)}function Ed(){return(Ed=(0,a.Z)(function*(C,g){const y=yield Gn(C,"POST","/v1/accounts:signInWithPhoneNumber",qt(C,g));if(y.temporaryProof)throw Kn(C,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const og={USER_NOT_FOUND:"user-not-found"};function Dd(){return(Dd=(0,a.Z)(function*(C,g){return Gn(C,"POST","/v1/accounts:signInWithPhoneNumber",qt(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),og)})).apply(this,arguments)}class ia extends pr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new ia({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new ia({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function kf(C,g){return ul.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function na(C,g){return Ed.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function ag(C,g){return Dd.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:E,verificationCode:x}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:E,code:x}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:E,phoneNumber:x,temporaryProof:F}=g;return E||y||x||F?new ia({verificationId:y,verificationCode:E,phoneNumber:x,temporaryProof:F}):null}}class ra{constructor(g){var y,E,x,F,re,Re;const ct=(0,z.zd)((0,z.pd)(g)),It=null!==(y=ct.apiKey)&&void 0!==y?y:null,Kt=null!==(E=ct.oobCode)&&void 0!==E?E:null,En=function Id(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=ct.mode)&&void 0!==x?x:null);ae(It&&Kt&&En,"argument-error"),this.apiKey=It,this.operation=En,this.code=Kt,this.continueUrl=null!==(F=ct.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(re=ct.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(Re=ct.tenantId)&&void 0!==Re?Re:null}static parseLink(g){const y=function Sd(C){const g=(0,z.zd)((0,z.pd)(C)).link,y=g?(0,z.zd)((0,z.pd)(g)).deep_link_id:null,E=(0,z.zd)((0,z.pd)(C)).deep_link_id;return(E?(0,z.zd)((0,z.pd)(E)).link:null)||E||y||g||C}(g);try{return new ra(y)}catch{return null}}}let oc=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(y,E){return cl._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const x=ra.parseLink(E);return ae(x,"argument-error"),cl._fromEmailAndCode(y,x.code,x.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Ni{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class sa extends Ni{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Hs extends sa{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return ae("providerId"in y&&"signInMethod"in y,"argument-error"),vs._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ae(g.idToken||g.accessToken,"argument-error"),vs._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Hs.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Hs.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:x,pendingToken:F,nonce:re,providerId:Re}=g;if(!E&&!x&&!y&&!F||!Re)return null;try{return new Hs(Re)._credential({idToken:y,accessToken:E,nonce:re,pendingToken:F})}catch{return null}}}let Td=(()=>{class C extends sa{constructor(){super("facebook.com")}static credential(y){return vs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),ac=(()=>{class C extends sa{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return vs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:x}=y;if(!E&&!x)return null;try{return C.credential(E,x)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),ru=(()=>{class C extends sa{constructor(){super("github.com")}static credential(y){return vs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class oa extends pr{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return wo(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,wo(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,wo(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:x,pendingToken:F}=y;return E&&x&&F&&E===x?new oa(E,F):null}static _create(g,y){return new oa(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Dr extends Ni{constructor(g){ae(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Dr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Dr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=oa.fromJSON(g);return ae(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:E}=g;if(!y||!E)return null;try{return oa._create(E,y)}catch{return null}}}let bs=(()=>{class C extends sa{constructor(){super("twitter.com")}static credential(y,E){return vs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:x}=y;if(!E||!x)return null;try{return C.credential(E,x)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function gr(C,g){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,a.Z)(function*(C,g){return Gn(C,"POST","/v1/accounts:signUp",qt(C,g))})).apply(this,arguments)}class Ir{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,E,x=!1){return(0,a.Z)(function*(){const F=yield St._fromIdTokenResponse(g,E,x),re=Do(E);return new Ir({user:F,providerId:re,_tokenResponse:E,operationType:y})})()}static _forOperation(g,y,E){return(0,a.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const x=Do(E);return new Ir({user:g,providerId:x,_tokenResponse:E,operationType:y})})()}}function Do(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function lg(C){return su.apply(this,arguments)}function su(){return(su=(0,a.Z)(function*(C){var g;const y=wt(C);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new Ir({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield gr(y,{returnSecureToken:!0}),x=yield Ir._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(x.user),x})).apply(this,arguments)}class Wn extends z.ZR{constructor(g,y,E,x){var F;super(y.code,y.message),this.operationType=E,this.user=x,Object.setPrototypeOf(this,Wn.prototype),this.customData={appName:g.name,tenantId:null!==(F=g.tenantId)&&void 0!==F?F:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,y,E,x){return new Wn(g,y,E,x)}}function Md(C,g,y,E){return("reauthenticate"===g?y._getReauthenticationResolver(C):y._getIdTokenResponse(C)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Wn._fromErrorAndOperation(C,F,g,E):F})}function Rf(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function jr(C,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,a.Z)(function*(C,g){const y=(0,z.m9)(C);yield ns(!0,y,g);const{providerUserInfo:E}=yield it(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),x=Rf(E||[]);return y.providerData=y.providerData.filter(F=>x.has(F.providerId)),x.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function lc(C,g){return Io.apply(this,arguments)}function Io(){return(Io=(0,a.Z)(function*(C,g,y=!1){const E=yield Pt(C,g._linkToIdToken(C.auth,yield C.getIdToken()),y);return Ir._forOperation(C,"link",E)})).apply(this,arguments)}function ns(C,g,y){return dn.apply(this,arguments)}function dn(){return(dn=(0,a.Z)(function*(C,g,y){yield Gi(g);const x=!1===C?"provider-already-linked":"no-such-provider";ae(Rf(g.providerData).has(y)===C,g.auth,x)})).apply(this,arguments)}function ou(C,g){return $s.apply(this,arguments)}function $s(){return($s=(0,a.Z)(function*(C,g,y=!1){var E;const{auth:x}=C,F="reauthenticate";try{const re=yield Pt(C,Md(x,F,g,C),y);ae(re.idToken,x,"internal-error");const Re=mt(re.idToken);ae(Re,x,"internal-error");const{sub:ct}=Re;return ae(C.uid===ct,x,"user-mismatch"),Ir._forOperation(C,F,re)}catch(re){throw"auth/user-not-found"===(null===(E=re)||void 0===E?void 0:E.code)&&nt(x,"user-mismatch"),re}})).apply(this,arguments)}function au(C,g){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,a.Z)(function*(C,g,y=!1){const E="signIn",x=yield Md(C,E,g),F=yield Ir._fromIdTokenResponse(C,E,x);return y||(yield C._updateCurrentUser(F.user)),F})).apply(this,arguments)}function dl(C,g){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,a.Z)(function*(C,g){return au(wt(C),g)})).apply(this,arguments)}function Ft(C,g){return hl.apply(this,arguments)}function hl(){return(hl=(0,a.Z)(function*(C,g){const y=(0,z.m9)(C);return yield ns(!1,y,g.providerId),lc(y,g)})).apply(this,arguments)}function cg(C,g){return fl.apply(this,arguments)}function fl(){return(fl=(0,a.Z)(function*(C,g){return ou((0,z.m9)(C),g)})).apply(this,arguments)}function xd(C,g){return pl.apply(this,arguments)}function pl(){return(pl=(0,a.Z)(function*(C,g){return Gn(C,"POST","/v1/accounts:signInWithCustomToken",qt(C,g))})).apply(this,arguments)}function So(C,g){return ml.apply(this,arguments)}function ml(){return(ml=(0,a.Z)(function*(C,g){const y=wt(C),E=yield xd(y,{token:g,returnSecureToken:!0}),x=yield Ir._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(x.user),x})).apply(this,arguments)}class aa{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?Ne._fromServerResponse(g,y):nt(g,"internal-error")}}class Ne extends aa{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new Ne(y)}}function Yt(C,g,y){var E;ae((null===(E=y.url)||void 0===E?void 0:E.length)>0,C,"invalid-continue-uri"),ae(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ae(y.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(ae(y.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function Of(C,g,y){return la.apply(this,arguments)}function la(){return(la=(0,a.Z)(function*(C,g,y){const E=(0,z.m9)(C),x={requestType:"PASSWORD_RESET",email:g};y&&Yt(E,x,y),yield xf(E,x)})).apply(this,arguments)}function mi(C,g,y){return ca.apply(this,arguments)}function ca(){return(ca=(0,a.Z)(function*(C,g,y){yield Cr((0,z.m9)(C),{oobCode:g,newPassword:y})})).apply(this,arguments)}function cc(C,g){return rr.apply(this,arguments)}function rr(){return(rr=(0,a.Z)(function*(C,g){yield Mf((0,z.m9)(C),{oobCode:g})})).apply(this,arguments)}function uc(C,g){return ua.apply(this,arguments)}function ua(){return(ua=(0,a.Z)(function*(C,g){const y=(0,z.m9)(C),E=yield Cr(y,{oobCode:g}),x=E.requestType;switch(ae(x,y,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(E.mfaInfo,y,"internal-error");default:ae(E.email,y,"internal-error")}let F=null;return E.mfaInfo&&(F=aa._fromServerResponse(wt(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:F},operation:x}})).apply(this,arguments)}function Pf(C,g){return gl.apply(this,arguments)}function gl(){return(gl=(0,a.Z)(function*(C,g){const{data:y}=yield uc((0,z.m9)(C),g);return y.email})).apply(this,arguments)}function ug(C,g,y){return To.apply(this,arguments)}function To(){return(To=(0,a.Z)(function*(C,g,y){const E=wt(C),x=yield gr(E,{returnSecureToken:!0,email:g,password:y}),F=yield Ir._fromIdTokenResponse(E,"signIn",x);return yield E._updateCurrentUser(F.user),F})).apply(this,arguments)}function gi(C,g,y){return dl((0,z.m9)(C),oc.credential(g,y))}function is(C,g,y){return _l.apply(this,arguments)}function _l(){return(_l=(0,a.Z)(function*(C,g,y){const E=(0,z.m9)(C),x={requestType:"EMAIL_SIGNIN",email:g};ae(y.handleCodeInApp,E,"argument-error"),y&&Yt(E,x,y),yield wr(E,x)})).apply(this,arguments)}function yl(C,g){return"EMAIL_SIGNIN"===ra.parseLink(g)?.operation}function Cs(C,g,y){return kd.apply(this,arguments)}function kd(){return(kd=(0,a.Z)(function*(C,g,y){const E=(0,z.m9)(C),x=oc.credentialWithLink(g,y||je());return ae(x._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),dl(E,x)})).apply(this,arguments)}function lu(C,g){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,a.Z)(function*(C,g){return Ht(C,"POST","/v1/accounts:createAuthUri",qt(C,g))})).apply(this,arguments)}function Nf(C,g){return da.apply(this,arguments)}function da(){return(da=(0,a.Z)(function*(C,g){const E={identifier:g,continueUri:$e()?je():"http://localhost"},{signinMethods:x}=yield lu((0,z.m9)(C),E);return x||[]})).apply(this,arguments)}function cu(C,g){return vl.apply(this,arguments)}function vl(){return(vl=(0,a.Z)(function*(C,g){const y=(0,z.m9)(C),x={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&Yt(y.auth,x,g);const{email:F}=yield ys(y.auth,x);F!==C.email&&(yield C.reload())})).apply(this,arguments)}function uu(C,g,y){return bl.apply(this,arguments)}function bl(){return(bl=(0,a.Z)(function*(C,g,y){const E=(0,z.m9)(C),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};y&&Yt(E.auth,F,y);const{email:re}=yield al(E.auth,F);re!==C.email&&(yield C.reload())})).apply(this,arguments)}function Od(C,g){return ha.apply(this,arguments)}function ha(){return(ha=(0,a.Z)(function*(C,g){return Ht(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ff(C,g){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,a.Z)(function*(C,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const E=(0,z.m9)(C),F={idToken:yield E.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},re=yield Pt(E,Od(E.auth,F));E.displayName=re.displayName||null,E.photoURL=re.photoUrl||null;const Re=E.providerData.find(({providerId:ct})=>"password"===ct);Re&&(Re.displayName=E.displayName,Re.photoURL=E.photoURL),yield E._updateTokensIfNecessary(re)})).apply(this,arguments)}function Lf(C,g){return zs((0,z.m9)(C),g,null)}function Pd(C,g){return zs((0,z.m9)(C),null,g)}function zs(C,g,y){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,a.Z)(function*(C,g,y){const{auth:E}=C,F={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(F.email=g),y&&(F.password=y);const re=yield Pt(C,rc(E,F));yield C._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class jn{constructor(g,y,E={}){this.isNewUser=g,this.providerId=y,this.profile=E}}class ws extends jn{constructor(g,y,E,x){super(g,y,E),this.username=x}}class $n extends jn{constructor(g,y){super(g,"facebook.com",y)}}class du extends ws{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class hu extends jn{constructor(g,y){super(g,"google.com",y)}}class Fd extends ws{constructor(g,y,E){super(g,"twitter.com",y,E)}}function fu(C){const{user:g,_tokenResponse:y}=C;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Nd(C){var g,y;if(!C)return null;const{providerId:E}=C,x=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},F=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!E&&C?.idToken){const re=null===(y=null===(g=mt(C.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(re)return new jn(F,"anonymous"!==re&&"custom"!==re?re:null)}if(!E)return null;switch(E){case"facebook.com":return new $n(F,x);case"github.com":return new du(F,x);case"google.com":return new hu(F,x);case"twitter.com":return new Fd(F,x,C.screenName||null);case"custom":case"anonymous":return new jn(F,null);default:return new jn(F,E,x)}}(y)}class Tr{constructor(g,y,E){this.type=g,this.credential=y,this.auth=E}static _fromIdtoken(g,y){return new Tr("enroll",g,y)}static _fromMfaPendingCredential(g){return new Tr("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,E;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Tr._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return Tr._fromIdtoken(g.multiFactorSession.idToken)}return null}}class gu{constructor(g,y,E){this.session=g,this.hints=y,this.signInResolver=E}static _fromError(g,y){const E=wt(g),x=y.customData._serverResponse,F=(x.mfaInfo||[]).map(Re=>aa._fromServerResponse(E,Re));ae(x.mfaPendingCredential,E,"internal-error");const re=Tr._fromMfaPendingCredential(x.mfaPendingCredential);return new gu(re,F,function(){var Re=(0,a.Z)(function*(ct){const It=yield ct._process(E,re);delete x.mfaInfo,delete x.mfaPendingCredential;const Kt=Object.assign(Object.assign({},x),{idToken:It.idToken,refreshToken:It.refreshToken});switch(y.operationType){case"signIn":const En=yield Ir._fromIdTokenResponse(E,y.operationType,Kt);return yield E._updateCurrentUser(En.user),En;case"reauthenticate":return ae(y.user,E,"internal-error"),Ir._forOperation(y.user,y.operationType,Kt);default:nt(E,"internal-error")}});return function(ct){return Re.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,a.Z)(function*(){return y.signInResolver(g)})()}}function Bd(C,g){var y;const E=(0,z.m9)(C),x=g;return ae(g.customData.operationType,E,"argument-error"),ae(null===(y=x.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),gu._fromError(E,x)}function Xn(C,g){return Ht(C,"POST","/v2/accounts/mfaEnrollment:start",qt(C,g))}class pc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>aa._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new pc(g)}getSession(){var g=this;return(0,a.Z)(function*(){return Tr._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,y){var E=this;return(0,a.Z)(function*(){const x=g,F=yield E.getSession(),re=yield Pt(E.user,x._process(E.user.auth,F,y));return yield E.user._updateTokensIfNecessary(re),E.user.reload()})()}unenroll(g){var y=this;return(0,a.Z)(function*(){var E;const x="string"==typeof g?g:g.uid,F=yield y.user.getIdToken(),re=yield Pt(y.user,function fc(C,g){return Ht(C,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(C,g))}(y.user.auth,{idToken:F,mfaEnrollmentId:x}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Re})=>Re!==x),yield y.user._updateTokensIfNecessary(re);try{yield y.user.reload()}catch(Re){if("auth/user-token-expired"!==(null===(E=Re)||void 0===E?void 0:E.code))throw Re}})()}}const Vf=new WeakMap;function wl(C){const g=(0,z.m9)(C);return Vf.has(g)||Vf.set(g,pc._fromUser(g)),Vf.get(g)}const Es="__sak";class El{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Es,"1"),this.storage.removeItem(Es),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const _i=(()=>{class C extends El{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _u(){const C=(0,z.z$)();return H(C)||He(C)}()&&function ms(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Cn(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const x=this.storage.getItem(E),F=this.localCache[E];x!==F&&y(E,F,x)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((Re,ct,It)=>{this.notifyListeners(Re,It)});const x=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Re=this.storage.getItem(x);if(y.newValue!==Re)null!==y.newValue?this.storage.setItem(x,y.newValue):this.storage.removeItem(x);else if(this.localCache[x]===y.newValue&&!E)return}const F=()=>{const Re=this.storage.getItem(x);!E&&this.localCache[x]===Re||this.notifyListeners(x,Re)},re=this.storage.getItem(x);!function Bt(){return(0,z.w1)()&&10===document.documentMode}()||re===y.newValue||y.newValue===y.oldValue?F():setTimeout(F,10)}notifyListeners(y,E){this.localCache[y]=E;const x=this.listeners[y];if(x)for(const F of Array.from(x))F(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var x=()=>super._set,F=this;return(0,a.Z)(function*(){yield x().call(F,y,E),F.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,x=this;return(0,a.Z)(function*(){const F=yield E().call(x,y);return x.localCache[y]=JSON.stringify(F),F})()}_remove(y){var E=()=>super._remove,x=this;return(0,a.Z)(function*(){yield E().call(x,y),delete x.localCache[y]})()}}return C.type="LOCAL",C})(),Ws=(()=>{class C extends El{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return C.type="SESSION",C})();let Il=(()=>{class C{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(F=>F.isListeningto(y));if(E)return E;const x=new C(y);return this.receivers.push(x),x}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,a.Z)(function*(){const x=y,{eventId:F,eventType:re,data:Re}=x.data,ct=E.handlersMap[re];if(!ct?.size)return;x.ports[0].postMessage({status:"ack",eventId:F,eventType:re});const It=Array.from(ct).map(function(){var En=(0,a.Z)(function*(sr){return sr(x.origin,Re)});return function(sr){return En.apply(this,arguments)}}()),Kt=yield function yu(C){return Promise.all(C.map(function(){var g=(0,a.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return g.apply(this,arguments)}}()))}(It);x.ports[0].postMessage({status:"done",eventId:F,eventType:re,response:Kt})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function ga(C="",g=10){let y="";for(let E=0;E<g;E++)y+=Math.floor(10*Math.random());return C+y}class Hf{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,E=50){var x=this;return(0,a.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let re,Re;return new Promise((ct,It)=>{const Kt=ga("",20);F.port1.start();const En=setTimeout(()=>{It(new Error("unsupported_event"))},E);Re={messageChannel:F,onMessage(sr){const ls=sr;if(ls.data.eventId===Kt)switch(ls.data.status){case"ack":clearTimeout(En),re=setTimeout(()=>{It(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),ct(ls.data.response);break;default:clearTimeout(En),clearTimeout(re),It(new Error("invalid_response"))}}},x.handlers.add(Re),F.port1.addEventListener("message",Re.onMessage),x.target.postMessage({eventType:g,eventId:Kt,data:y},[F.port2])}).finally(()=>{Re&&x.removeMessageHandler(Re)})})()}}function Jn(){return window}function _r(){return typeof Jn().WorkerGlobalScope<"u"&&"function"==typeof Jn().importScripts}function Ds(){return(Ds=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Sl="firebaseLocalStorageDb",Tl="firebaseLocalStorage",_a="fbase_key";class Mo{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ya(C,g){return C.transaction([Tl],g?"readwrite":"readonly").objectStore(Tl)}function gc(){const C=indexedDB.open(Sl,1);return new Promise((g,y)=>{C.addEventListener("error",()=>{y(C.error)}),C.addEventListener("upgradeneeded",()=>{const E=C.result;try{E.createObjectStore(Tl,{keyPath:_a})}catch(x){y(x)}}),C.addEventListener("success",(0,a.Z)(function*(){const E=C.result;E.objectStoreNames.contains(Tl)?g(E):(E.close(),yield function $d(){const C=indexedDB.deleteDatabase(Sl);return new Mo(C).toPromise()}(),g(yield gc()))}))})}function Al(C,g,y){return rs.apply(this,arguments)}function rs(){return(rs=(0,a.Z)(function*(C,g,y){const E=ya(C,!0).put({[_a]:g,value:y});return new Mo(E).toPromise()})).apply(this,arguments)}function va(){return(va=(0,a.Z)(function*(C,g){const y=ya(C,!1).get(g),E=yield new Mo(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function _c(C,g){const y=ya(C,!0).delete(g);return new Mo(y).toPromise()}const Ca=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,a.Z)(function*(){return y.db||(y.db=yield gc()),y.db})()}_withRetries(y){var E=this;return(0,a.Z)(function*(){let x=0;for(;;)try{const F=yield E._openDb();return yield y(F)}catch(F){if(x++>3)throw F;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,a.Z)(function*(){return _r()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,a.Z)(function*(){y.receiver=Il._getInstance(function mc(){return _r()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,a.Z)(function*(x,F){return{keyProcessed:(yield y._poll()).includes(F.key)}});return function(x,F){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,a.Z)(function*(x,F){return["keyChanged"]});return function(x,F){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,a.Z)(function*(){var E,x;if(y.activeServiceWorker=yield function jd(){return Ds.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Hf(y.activeServiceWorker);const F=yield y.sender._send("ping",{},800);!F||(null===(E=F[0])||void 0===E?void 0:E.fulfilled)&&(null===(x=F[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,a.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function vu(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const y=yield gc();return yield Al(y,Es,"1"),yield _c(y,Es),!0}catch{}return!1})()}_withPendingWrite(y){var E=this;return(0,a.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var x=this;return(0,a.Z)(function*(){return x._withPendingWrite((0,a.Z)(function*(){return yield x._withRetries(F=>Al(F,y,E)),x.localCache[y]=E,x.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,a.Z)(function*(){const x=yield E._withRetries(F=>function jf(C,g){return va.apply(this,arguments)}(F,y));return E.localCache[y]=x,x})()}_remove(y){var E=this;return(0,a.Z)(function*(){return E._withPendingWrite((0,a.Z)(function*(){return yield E._withRetries(x=>_c(x,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,a.Z)(function*(){const E=yield y._withRetries(re=>{const Re=ya(re,!1).getAll();return new Mo(Re).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const x=[],F=new Set;for(const{fbase_key:re,value:Re}of E)F.add(re),JSON.stringify(y.localCache[re])!==JSON.stringify(Re)&&(y.notifyListeners(re,Re),x.push(re));for(const re of Object.keys(y.localCache))y.localCache[re]&&!F.has(re)&&(y.notifyListeners(re,null),x.push(re));return x})()}notifyListeners(y,E){this.localCache[y]=E;const x=this.listeners[y];if(x)for(const F of Array.from(x))F(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function $f(C,g){return Ht(C,"POST","/v2/accounts/mfaSignIn:start",qt(C,g))}function Wi(){return(Wi=(0,a.Z)(function*(C){return(yield Ht(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xo(C){return new Promise((g,y)=>{const E=document.createElement("script");E.setAttribute("src",C),E.onload=g,E.onerror=x=>{const F=Ve("internal-error");F.customData=x,y(F)},E.type="text/javascript",E.charset="UTF-8",function Ea(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(E)})}function Da(C){return`__${C}${Math.floor(1e6*Math.random())}`}const ss=1e12;class zd{constructor(g){this.auth=g,this.counter=ss,this._widgets=new Map}render(g,y){const E=this.counter;return this._widgets.set(E,new Fn(g,this.auth.name,y||{})),this.counter++,E}reset(g){var y;const E=g||ss;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(g){var y;return(null===(y=this._widgets.get(g||ss))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,a.Z)(function*(){var E;return null===(E=y._widgets.get(g||ss))||void 0===E||E.execute(),""})()}}class Fn{constructor(g,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof g?document.getElementById(g):g;ae(x,"argument-error",{appName:y}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function dg(C){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<C;E++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zf=Da("rcb"),Iw=new Je(3e4,6e4);class nv{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Jn().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return ae(function Gf(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Jn().grecaptcha):new Promise((E,x)=>{const F=Jn().setTimeout(()=>{x(Ve(g,"network-request-failed"))},Iw.get());Jn()[zf]=()=>{Jn().clearTimeout(F),delete Jn()[zf];const Re=Jn().grecaptcha;if(!Re)return void x(Ve(g,"internal-error"));const ct=Re.render;Re.render=(It,Kt)=>{const En=ct(It,Kt);return this.counter++,En},this.hostLanguage=y,E(Re)},xo(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:zf,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(F),x(Ve(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=Jn().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sw{load(g){return(0,a.Z)(function*(){return new zd(g)})()}clearedOneInstance(){}}const ko="recaptcha",iv={theme:"light",type:"image"};class hg{constructor(g,y=Object.assign({},iv),E){this.parameters=y,this.type=ko,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wt(E),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof g?document.getElementById(g):g;ae(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sw:new nv,this.validateStartingState()}verify(){var g=this;return(0,a.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(y)||new Promise(F=>{const re=Re=>{!Re||(g.tokenChangeListeners.delete(re),F(Re))};g.tokenChangeListeners.add(re),g.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof g)g(y);else if("string"==typeof g){const E=Jn()[g];"function"==typeof E&&E(y)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,a.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,a.Z)(function*(){ae($e()&&!_r(),g.auth,"internal-error"),yield function Si(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function yc(C){return Wi.apply(this,arguments)}(g.auth);ae(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sn{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=ia._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function os(C,g,y){return et.apply(this,arguments)}function et(){return(et=(0,a.Z)(function*(C,g,y){const E=wt(C),x=yield Ln(E,g,(0,z.m9)(y));return new sn(x,F=>dl(E,F))})).apply(this,arguments)}function ht(C,g,y){return kn.apply(this,arguments)}function kn(){return(kn=(0,a.Z)(function*(C,g,y){const E=(0,z.m9)(C);yield ns(!1,E,"phone");const x=yield Ln(E.auth,g,(0,z.m9)(y));return new sn(x,F=>Ft(E,F))})).apply(this,arguments)}function Is(C,g,y){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,a.Z)(function*(C,g,y){const E=(0,z.m9)(C),x=yield Ln(E.auth,g,(0,z.m9)(y));return new sn(x,F=>cg(E,F))})).apply(this,arguments)}function Ln(C,g,y){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,a.Z)(function*(C,g,y){var E;const x=yield y.verify();try{let F;if(ae("string"==typeof x,C,"argument-error"),ae(y.type===ko,C,"argument-error"),F="string"==typeof g?{phoneNumber:g}:g,"session"in F){const re=F.session;if("phoneNumber"in F)return ae("enroll"===re.type,C,"internal-error"),(yield Xn(C,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{ae("signin"===re.type,C,"internal-error");const Re=(null===(E=F.multiFactorHint)||void 0===E?void 0:E.uid)||F.multiFactorUid;return ae(Re,C,"missing-multi-factor-info"),(yield $f(C,{mfaPendingCredential:re.credential,mfaEnrollmentId:Re,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield sg(C,{phoneNumber:F.phoneNumber,recaptchaToken:x});return re}}finally{y._reset()}})).apply(this,arguments)}function Gd(C,g){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,a.Z)(function*(C,g){yield lc((0,z.m9)(C),g)})).apply(this,arguments)}let Wf=(()=>{class C{constructor(y){this.providerId=C.PROVIDER_ID,this.auth=wt(y)}verifyPhoneNumber(y,E){return Ln(this.auth,y,(0,z.m9)(E))}static credential(y,E){return ia._fromVerification(y,E)}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:x}=y;return E&&x?ia._fromTokenResponse(E,x):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function qs(C,g){return g?ne(g):(ae(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Zd extends pr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return wo(g,this._buildIdpRequest())}_linkToIdToken(g,y){return wo(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return wo(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function Ss(C){return au(C.auth,new Zd(C),C.bypassAuthState)}function Qe(C){const{auth:g,user:y}=C;return ae(y,g,"internal-error"),ou(y,new Zd(C),C.bypassAuthState)}function wu(C){return as.apply(this,arguments)}function as(){return(as=(0,a.Z)(function*(C){const{auth:g,user:y}=C;return ae(y,g,"internal-error"),lc(y,new Zd(C),C.bypassAuthState)})).apply(this,arguments)}class Ml{constructor(g,y,E,x,F=!1){this.auth=g,this.resolver=E,this.user=x,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,a.Z)(function*(E,x){g.pendingPromise={resolve:E,reject:x};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(F){g.reject(F)}});return function(E,x){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,a.Z)(function*(){const{urlResponse:E,sessionId:x,postBody:F,tenantId:re,error:Re,type:ct}=g;if(Re)return void y.reject(Re);const It={auth:y.auth,requestUri:E,sessionId:x,tenantId:re||void 0,postBody:F||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(ct)(It))}catch(Kt){y.reject(Kt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ss;case"linkViaPopup":case"linkViaRedirect":return wu;case"reauthViaPopup":case"reauthViaRedirect":return Qe;default:nt(this.auth,"internal-error")}}resolve(g){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xl=new Je(2e3,1e4);function Vn(C,g,y){return kl.apply(this,arguments)}function kl(){return(kl=(0,a.Z)(function*(C,g,y){const E=wt(C);Te(C,g,Ni);const x=qs(E,y);return new vc(E,"signInViaPopup",g,x).executeNotNull()})).apply(this,arguments)}function Rl(C,g,y){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,a.Z)(function*(C,g,y){const E=(0,z.m9)(C);Te(E.auth,g,Ni);const x=qs(E.auth,y);return new vc(E.auth,"reauthViaPopup",g,x,E).executeNotNull()})).apply(this,arguments)}function Zf(C,g,y){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,a.Z)(function*(C,g,y){const E=(0,z.m9)(C);Te(E.auth,g,Ni);const x=qs(E.auth,y);return new vc(E.auth,"linkViaPopup",g,x,E).executeNotNull()})).apply(this,arguments)}let vc=(()=>{class C extends Ml{constructor(y,E,x,F,re){super(y,E,F,re),this.provider=x,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var y=this;return(0,a.Z)(function*(){const E=yield y.execute();return ae(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,a.Z)(function*(){be(1===y.filter.length,"Popup operations only handle one event");const E=ga();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(x=>{y.reject(x)}),y.resolver._isIframeWebStorageSupported(y.auth,x=>{x||y.reject(Ve(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,x;this.pollId=null!==(x=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,xl.get())};y()}}return C.currentPopupAction=null,C})();const zr=new Map;class yr extends Ml{constructor(g,y,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,a.Z)(function*(){let E=zr.get(y.auth._key());if(!E){try{const F=(yield function bc(C,g){return Zi.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;E=()=>Promise.resolve(F)}catch(x){E=()=>Promise.reject(x)}zr.set(y.auth._key(),E)}return y.bypassAuthState||zr.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,E=this;return(0,a.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(E,g);if("unknown"!==g.type){if(g.eventId){const x=yield E.auth._redirectUserForId(g.eventId);if(x)return E.user=x,y().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Zi(){return(Zi=(0,a.Z)(function*(C,g){const y=No(g),E=Ks(C);if(!(yield E._isAvailable()))return!1;const x="true"===(yield E._get(y));return yield E._remove(y),x})).apply(this,arguments)}function Ys(C,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,a.Z)(function*(C,g){return Ks(C)._set(No(g),"true")})).apply(this,arguments)}function Ti(){zr.clear()}function wn(C,g){zr.set(C._key(),g)}function Ks(C){return ne(C._redirectPersistence)}function No(C){return G("pendingRedirect",C.config.apiKey,C.name)}function Zn(C,g,y){return function jt(C,g,y){return ai.apply(this,arguments)}(C,g,y)}function ai(){return(ai=(0,a.Z)(function*(C,g,y){const E=wt(C);Te(C,g,Ni);const x=qs(E,y);return yield Ys(x,E),x._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function _n(C,g,y){return function S(C,g,y){return T.apply(this,arguments)}(C,g,y)}function T(){return(T=(0,a.Z)(function*(C,g,y){const E=(0,z.m9)(C);Te(E.auth,g,Ni);const x=qs(E.auth,y);yield Ys(x,E.auth);const F=yield xt(E);return x._openRedirect(E.auth,g,"reauthViaRedirect",F)})).apply(this,arguments)}function k(C,g,y){return function j(C,g,y){return J.apply(this,arguments)}(C,g,y)}function J(){return(J=(0,a.Z)(function*(C,g,y){const E=(0,z.m9)(C);Te(E.auth,g,Ni);const x=qs(E.auth,y);yield ns(!1,E,g.providerId),yield Ys(x,E.auth);const F=yield xt(E);return x._openRedirect(E.auth,g,"linkViaRedirect",F)})).apply(this,arguments)}function ce(C,g){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,a.Z)(function*(C,g){return yield wt(C)._initializationPromise,We(C,g,!1)})).apply(this,arguments)}function We(C,g){return _t.apply(this,arguments)}function _t(){return(_t=(0,a.Z)(function*(C,g,y=!1){const E=wt(C),x=qs(E,g),re=yield new yr(E,x,y).execute();return re&&!y&&(delete re.user._redirectEventId,yield E._persistUserIfCurrent(re.user),yield E._setRedirectUser(null,g)),re})).apply(this,arguments)}function xt(C){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,a.Z)(function*(C){const g=ga(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class li{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(y=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function $t(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qs(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var E;if(g.error&&!Qs(g)){const x=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(Ve(this.auth,x))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const E=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ai(g))}saveEventToCache(g){this.cachedEventUids.add(Ai(g)),this.lastProcessedEventTime=Date.now()}}function Ai(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function Qs({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===g?.code}function Vi(C){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,a.Z)(function*(C,g={}){return Ht(C,"GET","/v1/projects",g)})).apply(this,arguments)}const Xs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cc=/^https?/;function Mi(){return(Mi=(0,a.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield Vi(C);for(const y of g)try{if(qd(y))return}catch{}nt(C,"unauthorized-domain")})).apply(this,arguments)}function qd(C){const g=je(),{protocol:y,hostname:E}=new URL(g);if(C.startsWith("chrome-extension://")){const re=new URL(C);return""===re.hostname&&""===E?"chrome-extension:"===y&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&re.hostname===E}if(!Cc.test(y))return!1;if(Xs.test(C))return E===C;const x=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(E)}const fg=new Je(3e4,6e4);function qf(){const C=Jn().___jsl;if(C?.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let y=0;y<C.CP.length;y++)C.CP[y]=null}let ei=null;function Lo(C){return ei=ei||function Tw(C){return new Promise((g,y)=>{var E,x,F;function re(){qf(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{qf(),y(Ve(C,"network-request-failed"))},timeout:fg.get()})}if(null!==(x=null===(E=Jn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==x&&x.Iframe)g(gapi.iframes.getContext());else{if(null===(F=Jn().gapi)||void 0===F||!F.load){const Re=Da("iframefcb");return Jn()[Re]=()=>{gapi.load?re():y(Ve(C,"network-request-failed"))},xo(`https://apis.google.com/js/api.js?onload=${Re}`).catch(ct=>y(ct))}re()}}).catch(g=>{throw ei=null,g})}(C),ei}const Yf=new Je(5e3,15e3),Kf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qf(C){const g=C.config;ae(g.authDomain,C,"auth-domain-config-required");const y=g.emulator?vn(g,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:C.name,v:N.SDK_VERSION},x=rv.get(C.config.apiHost);x&&(E.eid=x);const F=C._getFrameworks();return F.length&&(E.fw=F.join(",")),`${y}?${(0,z.xO)(E).slice(1)}`}function Yd(){return Yd=(0,a.Z)(function*(C){const g=yield Lo(C),y=Jn().gapi;return ae(y,C,"internal-error"),g.open({where:document.body,url:Qf(C),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kf,dontclear:!0},E=>new Promise(function(){var x=(0,a.Z)(function*(F,re){yield E.restyle({setHideOnLeave:!1});const Re=Ve(C,"network-request-failed"),ct=Jn().setTimeout(()=>{re(Re)},Yf.get());function It(){Jn().clearTimeout(ct),F(E)}E.ping(It).then(It,()=>{re(Re)})});return function(F,re){return x.apply(this,arguments)}}()))}),Yd.apply(this,arguments)}const Eu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Du{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wc(C,g,y,E,x,F){ae(C.config.authDomain,C,"auth-domain-config-required"),ae(C.config.apiKey,C,"invalid-api-key");const re={apiKey:C.config.apiKey,appName:C.name,authType:y,redirectUrl:E,v:N.SDK_VERSION,eventId:x};if(g instanceof Ni){g.setDefaultLanguage(C.languageCode),re.providerId=g.providerId||"",(0,z.xb)(g.getCustomParameters())||(re.customParameters=JSON.stringify(g.getCustomParameters()));for(const[ct,It]of Object.entries(F||{}))re[ct]=It}if(g instanceof sa){const ct=g.getScopes().filter(It=>""!==It);ct.length>0&&(re.scopes=ct.join(","))}C.tenantId&&(re.tid=C.tenantId);const Re=re;for(const ct of Object.keys(Re))void 0===Re[ct]&&delete Re[ct];return`${function Nl({config:C}){return C.emulator?vn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,z.xO)(Re).slice(1)}`}const Ec="webStorageSupport",Jf=class Iu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ws,this._completeRedirectFn=We,this._overrideRedirectResult=wn}_openPopup(g,y,E,x){var F=this;return(0,a.Z)(function*(){var re;be(null===(re=F.eventManagers[g._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const Re=wc(g,y,E,je(),x);return function Qd(C,g,y,E=500,x=600){const F=Math.max((window.screen.availHeight-x)/2,0).toString(),re=Math.max((window.screen.availWidth-E)/2,0).toString();let Re="";const ct=Object.assign(Object.assign({},Eu),{width:E.toString(),height:x.toString(),top:F,left:re}),It=(0,z.z$)().toLowerCase();y&&(Re=oe(It)?"_blank":y),O(It)&&(g=g||"http://localhost",ct.scrollbars="yes");const Kt=Object.entries(ct).reduce((sr,[ls,eh])=>`${sr}${ls}=${eh},`,"");if(function bn(C=(0,z.z$)()){var g;return He(C)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(It)&&"_self"!==Re)return function Bo(C,g){const y=document.createElement("a");y.href=C,y.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(g||"",Re),new Du(null);const En=window.open(g||"",Re,Kt);ae(En,C,"popup-blocked");try{En.focus()}catch{}return new Du(En)}(g,Re,ga())})()}_openRedirect(g,y,E,x){var F=this;return(0,a.Z)(function*(){return yield F._originValidation(g),function Hd(C){Jn().location.href=C}(wc(g,y,E,je(),x)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:x,promise:F}=this.eventManagers[y];return x?Promise.resolve(x):(be(F,"If manager is not set, promise should be"),F)}const E=this.initAndGetManager(g);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(g){var y=this;return(0,a.Z)(function*(){const E=yield function mg(C){return Yd.apply(this,arguments)}(g),x=new li(g);return E.register("authEvent",F=>(ae(F?.authEvent,g,"invalid-auth-event"),{status:x.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:x},y.iframes[g._key()]=E,x})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Ec,{type:Ec},x=>{var F;const re=null===(F=x?.[0])||void 0===F?void 0:F[Ec];void 0!==re&&y(!!re),nt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Js(C){return Mi.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Cn()||H()||He()}};class ep extends class Xd{constructor(g){this.factorId=g}_process(g,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,E);case"signin":return this._finalizeSignIn(g,y.credential);default:return he("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ep(g)}_finalizeEnroll(g,y,E){return function hc(C,g){return Ht(C,"POST","/v2/accounts/mfaEnrollment:finalize",qt(C,g))}(g,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function wa(C,g){return Ht(C,"POST","/v2/accounts/mfaSignIn:finalize",qt(C,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ts=(()=>{class C{constructor(){}static assertion(y){return ep._fromCredential(y)}}return C.FACTOR_ID="phone",C})();var eo="@firebase/auth",tp="0.20.11";class _g{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,a.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(E=>{var x;g((null===(x=E)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Jd=(0,z.Pz)("authIdTokenMaxAge")||300;let np=null;const lv=C=>function(){var g=(0,a.Z)(function*(y){const E=y&&(yield y.getIdTokenResult()),x=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(x&&x>Jd)return;const F=E?.token;np!==F&&(np=F,yield fetch(C,{method:F?"POST":"DELETE",headers:F?{Authorization:`Bearer ${F}`}:{}}))});return function(y){return g.apply(this,arguments)}}();function cv(C=(0,N.getApp)()){const g=(0,N._getProvider)(C,"auth");if(g.isInitialized())return g.getImmediate();const y=function me(C,g){const y=(0,N._getProvider)(C,"auth");if(y.isInitialized()){const x=y.getImmediate(),F=y.getOptions();if((0,z.vZ)(F,g??{}))return x;nt(x,"already-initialized")}return y.initialize({options:g})}(C,{popupRedirectResolver:Jf,persistence:[Ca,_i,Ws]}),E=(0,z.Pz)("authTokenSyncURL");if(E){const F=lv(E);(function dc(C,g,y){(0,z.m9)(C).beforeAuthStateChanged(g,y)})(y,F,()=>F(y.currentUser)),function mu(C,g,y,E){(0,z.m9)(C).onIdTokenChanged(g,y,E)}(y,re=>F(re))}const x=(0,z.q4)("auth");return x&&yo(y,`http://${x}`),y}!function ov(C){(0,N._registerComponent)(new ye.wA("auth",(g,{options:y})=>{const E=g.getProvider("app").getImmediate(),x=g.getProvider("heartbeat"),{apiKey:F,authDomain:re}=E.options;return((Re,ct)=>{ae(F&&!F.includes(":"),"invalid-api-key",{appName:Re.name}),ae(!re?.includes(":"),"argument-error",{appName:Re.name});const It={apiKey:F,authDomain:re,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nn(C)},Kt=new ta(Re,ct,It);return function ue(C,g){const y=g?.persistence||[],E=(Array.isArray(y)?y:[y]).map(ne);g?.errorMap&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(E,g?.popupRedirectResolver)}(Kt,y),Kt})(E,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,E)=>{g.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new ye.wA("auth-internal",g=>{const y=wt(g.getProvider("auth").getImmediate());return new _g(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(eo,tp,function sv(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,N.registerVersion)(eo,tp,"esm2017")}("Browser")},2090:(pt,xe,B)=>{B.d(xe,{$s:()=>at,BH:()=>Wt,DV:()=>Kn,Dv:()=>ir,G6:()=>Te,GJ:()=>es,L:()=>pe,LL:()=>nn,P0:()=>$e,Pz:()=>un,Sg:()=>Je,UG:()=>Ae,UI:()=>ts,US:()=>ye,Wj:()=>Mt,Wl:()=>Pi,Yr:()=>Pe,ZB:()=>Z,ZR:()=>On,aH:()=>Ct,b$:()=>ge,cI:()=>Ht,dS:()=>Vt,eu:()=>ae,g5:()=>N,gK:()=>ri,gQ:()=>xn,h$:()=>ie,hl:()=>qe,hu:()=>z,jU:()=>lt,lb:()=>Gi,m9:()=>tn,ne:()=>Pn,p$:()=>Y,pd:()=>mo,q4:()=>je,r3:()=>nr,ru:()=>De,tV:()=>ve,uI:()=>Le,ug:()=>fr,vZ:()=>it,w1:()=>nt,w9:()=>Jr,xO:()=>Mn,xb:()=>Hr,z$:()=>Ge,zI:()=>he,zd:()=>Ii});const z=function(q,G){if(!q)throw N(G)},N=function(q){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+q)},le=function(q){const G=[];let X=0;for(let $=0;$<q.length;$++){let O=q.charCodeAt($);O<128?G[X++]=O:O<2048?(G[X++]=O>>6|192,G[X++]=63&O|128):55296==(64512&O)&&$+1<q.length&&56320==(64512&q.charCodeAt($+1))?(O=65536+((1023&O)<<10)+(1023&q.charCodeAt(++$)),G[X++]=O>>18|240,G[X++]=O>>12&63|128,G[X++]=O>>6&63|128,G[X++]=63&O|128):(G[X++]=O>>12|224,G[X++]=O>>6&63|128,G[X++]=63&O|128)}return G},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,G){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let O=0;O<q.length;O+=3){const H=q[O],oe=O+1<q.length,Be=oe?q[O+1]:0,ut=O+2<q.length,dt=ut?q[O+2]:0;let Nt=(15&Be)<<2|dt>>6,bn=63&dt;ut||(bn=64,oe||(Nt=64)),$.push(X[H>>2],X[(3&H)<<4|Be>>4],X[Nt],X[bn])}return $.join("")},encodeString(q,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(q):this.encodeByteArray(le(q),G)},decodeString(q,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(q):function(q){const G=[];let X=0,$=0;for(;X<q.length;){const O=q[X++];if(O<128)G[$++]=String.fromCharCode(O);else if(O>191&&O<224){const H=q[X++];G[$++]=String.fromCharCode((31&O)<<6|63&H)}else if(O>239&&O<365){const ut=((7&O)<<18|(63&q[X++])<<12|(63&q[X++])<<6|63&q[X++])-65536;G[$++]=String.fromCharCode(55296+(ut>>10)),G[$++]=String.fromCharCode(56320+(1023&ut))}else{const H=q[X++],oe=q[X++];G[$++]=String.fromCharCode((15&O)<<12|(63&H)<<6|63&oe)}}return G.join("")}(this.decodeStringToByteArray(q,G))},decodeStringToByteArray(q,G){this.init_();const X=G?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let O=0;O<q.length;){const H=X[q.charAt(O++)],Be=O<q.length?X[q.charAt(O)]:0;++O;const dt=O<q.length?X[q.charAt(O)]:64;++O;const He=O<q.length?X[q.charAt(O)]:64;if(++O,null==H||null==Be||null==dt||null==He)throw Error();$.push(H<<2|Be>>4),64!==dt&&($.push(Be<<4&240|dt>>2),64!==He&&$.push(dt<<6&192|He))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},ie=function(q){const G=le(q);return ye.encodeByteArray(G,!0)},pe=function(q){return ie(q).replace(/\./g,"")},ve=function(q){try{return ye.decodeString(q,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function Y(q){return Z(void 0,q)}function Z(q,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return G}for(const X in G)!G.hasOwnProperty(X)||!te(X)||(q[X]=Z(q[X],G[X]));return q}function te(q){return"__proto__"!==q}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Le(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function lt(){return"object"==typeof self&&self.self===self}function De(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nt(){const q=Ge();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Pe(){return!1}function Te(){return!Ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){return"object"==typeof indexedDB}function ae(){return new Promise((q,G)=>{try{let X=!0;const $="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open($);O.onsuccess=()=>{O.result.close(),X||self.indexedDB.deleteDatabase($),q(!0)},O.onupgradeneeded=()=>{X=!1},O.onerror=()=>{var H;G((null===(H=O.error)||void 0===H?void 0:H.message)||"")}}catch(X){G(X)}})}function he(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ue=()=>{try{return function be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=q&&ve(q[1]);return G&&JSON.parse(G)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},je=q=>{var G,X;return null===(X=null===(G=ue())||void 0===G?void 0:G.emulatorHosts)||void 0===X?void 0:X[q]},$e=q=>{const G=je(q);if(!G)return;const X=G.lastIndexOf(":");if(X<=0||X+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const $=parseInt(G.substring(X+1),10);return"["===G[0]?[G.substring(1,X-1),$]:[G.substring(0,X),$]},Ct=()=>{var q;return null===(q=ue())||void 0===q?void 0:q.config},un=q=>{var G;return null===(G=ue())||void 0===G?void 0:G[`_${q}`]};class Wt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,X)=>{this.resolve=G,this.reject=X})}wrapCallback(G){return(X,$)=>{X?this.reject(X):this.resolve($),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(X):G(X,$))}}}function Je(q,G){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=G||"demo-project",O=q.iat||0,H=q.sub||q.user_id;if(!H)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const oe=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:O,exp:O+3600,auth_time:O,sub:H,user_id:H,firebase:{sign_in_provider:"custom",identities:{}}},q);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(oe)),""].join(".")}class On extends Error{constructor(G,X,$){super(X),this.code=G,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nn.prototype.create)}}class nn{constructor(G,X,$){this.service=G,this.serviceName=X,this.errors=$}create(G,...X){const $=X[0]||{},O=`${this.service}/${G}`,H=this.errors[G],oe=H?function rn(q,G){return q.replace(qt,(X,$)=>{const O=G[$];return null!=O?String(O):`<${$}?>`})}(H,$):"Error";return new On(O,`${this.serviceName}: ${oe} (${O}).`,$)}}const qt=/\{\$([^}]+)}/g;function Ht(q){return JSON.parse(q)}function Pi(q){return JSON.stringify(q)}const Xr=function(q){let G={},X={},$={},O="";try{const H=q.split(".");G=Ht(ve(H[0])||""),X=Ht(ve(H[1])||""),O=H[2],$=X.d||{},delete X.d}catch{}return{header:G,claims:X,data:$,signature:O}},Jr=function(q){const X=Xr(q).claims;return!!X&&"object"==typeof X&&X.hasOwnProperty("iat")},es=function(q){const G=Xr(q).claims;return"object"==typeof G&&!0===G.admin};function nr(q,G){return Object.prototype.hasOwnProperty.call(q,G)}function Kn(q,G){if(Object.prototype.hasOwnProperty.call(q,G))return q[G]}function Hr(q){for(const G in q)if(Object.prototype.hasOwnProperty.call(q,G))return!1;return!0}function ts(q,G,X){const $={};for(const O in q)Object.prototype.hasOwnProperty.call(q,O)&&($[O]=G.call(X,q[O],O,q));return $}function it(q,G){if(q===G)return!0;const X=Object.keys(q),$=Object.keys(G);for(const O of X){if(!$.includes(O))return!1;const H=q[O],oe=G[O];if(fi(H)&&fi(oe)){if(!it(H,oe))return!1}else if(H!==oe)return!1}for(const O of $)if(!X.includes(O))return!1;return!0}function fi(q){return null!==q&&"object"==typeof q}function Mn(q){const G=[];for(const[X,$]of Object.entries(q))Array.isArray($)?$.forEach(O=>{G.push(encodeURIComponent(X)+"="+encodeURIComponent(O))}):G.push(encodeURIComponent(X)+"="+encodeURIComponent($));return G.length?"&"+G.join("&"):""}function Ii(q){const G={};return q.replace(/^\?/,"").split("&").forEach($=>{if($){const[O,H]=$.split("=");G[decodeURIComponent(O)]=decodeURIComponent(H)}}),G}function mo(q){const G=q.indexOf("?");if(!G)return"";const X=q.indexOf("#",G);return q.substring(G,X>0?X:void 0)}class xn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,X){X||(X=0);const $=this.W_;if("string"==typeof G)for(let He=0;He<16;He++)$[He]=G.charCodeAt(X)<<24|G.charCodeAt(X+1)<<16|G.charCodeAt(X+2)<<8|G.charCodeAt(X+3),X+=4;else for(let He=0;He<16;He++)$[He]=G[X]<<24|G[X+1]<<16|G[X+2]<<8|G[X+3],X+=4;for(let He=16;He<80;He++){const Nt=$[He-3]^$[He-8]^$[He-14]^$[He-16];$[He]=4294967295&(Nt<<1|Nt>>>31)}let dt,ke,O=this.chain_[0],H=this.chain_[1],oe=this.chain_[2],Be=this.chain_[3],ut=this.chain_[4];for(let He=0;He<80;He++){He<40?He<20?(dt=Be^H&(oe^Be),ke=1518500249):(dt=H^oe^Be,ke=1859775393):He<60?(dt=H&oe|Be&(H|oe),ke=2400959708):(dt=H^oe^Be,ke=3395469782);const Nt=(O<<5|O>>>27)+dt+ut+ke+$[He]&4294967295;ut=Be,Be=oe,oe=4294967295&(H<<30|H>>>2),H=O,O=Nt}this.chain_[0]=this.chain_[0]+O&4294967295,this.chain_[1]=this.chain_[1]+H&4294967295,this.chain_[2]=this.chain_[2]+oe&4294967295,this.chain_[3]=this.chain_[3]+Be&4294967295,this.chain_[4]=this.chain_[4]+ut&4294967295}update(G,X){if(null==G)return;void 0===X&&(X=G.length);const $=X-this.blockSize;let O=0;const H=this.buf_;let oe=this.inbuf_;for(;O<X;){if(0===oe)for(;O<=$;)this.compress_(G,O),O+=this.blockSize;if("string"==typeof G){for(;O<X;)if(H[oe]=G.charCodeAt(O),++oe,++O,oe===this.blockSize){this.compress_(H),oe=0;break}}else for(;O<X;)if(H[oe]=G[O],++oe,++O,oe===this.blockSize){this.compress_(H),oe=0;break}}this.inbuf_=oe,this.total_+=X}digest(){const G=[];let X=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let O=this.blockSize-1;O>=56;O--)this.buf_[O]=255&X,X/=256;this.compress_(this.buf_);let $=0;for(let O=0;O<5;O++)for(let H=24;H>=0;H-=8)G[$]=this.chain_[O]>>H&255,++$;return G}}function Pn(q,G){const X=new Sn(q,G);return X.subscribe.bind(X)}class Sn{constructor(G,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{G(this)}).catch($=>{this.error($)})}next(G){this.forEachObserver(X=>{X.next(G)})}error(G){this.forEachObserver(X=>{X.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,X,$){let O;if(void 0===G&&void 0===X&&void 0===$)throw new Error("Missing Observer.");O=function gt(q,G){if("object"!=typeof q||null===q)return!1;for(const X of G)if(X in q&&"function"==typeof q[X])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:X,complete:$},void 0===O.next&&(O.next=Pt),void 0===O.error&&(O.error=Pt),void 0===O.complete&&(O.complete=Pt);const H=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),H}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,G)}sendOne(G,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{X(this.observers[G])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pt(){}const ir=function(q,G,X,$){let O;if($<G?O="at least "+G:$>X&&(O=0===X?"none":"no more than "+X),O)throw new Error(q+" failed: Was called with "+$+(1===$?" argument.":" arguments.")+" Expects "+O+".")};function ri(q,G){return`${q} failed: ${G} argument `}function Mt(q,G,X,$){if((!$||X)&&"function"!=typeof X)throw new Error(ri(q,G)+"must be a valid function.")}function Gi(q,G,X,$){if((!$||X)&&("object"!=typeof X||null===X))throw new Error(ri(q,G)+"must be a valid context object.")}const Vt=function(q){const G=[];let X=0;for(let $=0;$<q.length;$++){let O=q.charCodeAt($);if(O>=55296&&O<=56319){const H=O-55296;$++,z($<q.length,"Surrogate pair missing trail surrogate."),O=65536+(H<<10)+(q.charCodeAt($)-56320)}O<128?G[X++]=O:O<2048?(G[X++]=O>>6|192,G[X++]=63&O|128):O<65536?(G[X++]=O>>12|224,G[X++]=O>>6&63|128,G[X++]=63&O|128):(G[X++]=O>>18|240,G[X++]=O>>12&63|128,G[X++]=O>>6&63|128,G[X++]=63&O|128)}return G},fr=function(q){let G=0;for(let X=0;X<q.length;X++){const $=q.charCodeAt(X);$<128?G++:$<2048?G+=2:$>=55296&&$<=56319?(G+=4,X++):G+=3}return G};function at(q,G=1e3,X=2){const $=G*Math.pow(X,q),O=Math.round(.5*$*(Math.random()-.5)*2);return Math.min(144e5,$+O)}function tn(q){return q&&q._delegate?q._delegate:q}},7792:(pt,xe,B)=>{var a=B(4650);let z=null;function N(){return z}const ie=new a.OlP("DocumentToken");let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ve(){return(0,a.LFG)(Z)}()},providedIn:"platform"}),n})();const Y=new a.OlP("Location Initialized");let Z=(()=>{class n extends pe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){te()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){te()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ge(){return new Z((0,a.LFG)(ie))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Le(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ae(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function lt(n){return n&&"?"!==n[0]?"?"+n:n}let De=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(st)},providedIn:"root"}),n})();const ge=new a.OlP("appBaseHref");let st=(()=>{class n extends De{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Le(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+lt(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const c=this.prepareExternalUrl(r+lt(s));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){const c=this.prepareExternalUrl(r+lt(s));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(pe),a.LFG(ge,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nt=(()=>{class n extends De{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Le(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let c=this.prepareExternalUrl(r+lt(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){let c=this.prepareExternalUrl(r+lt(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(pe),a.LFG(ge,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ve=(()=>{class n{constructor(e){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ae(qe(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+lt(i))}normalize(e){return n.stripTrailingSlash(function Te(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,qe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lt(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=lt,n.joinWithSlash=Le,n.stripTrailingSlash=Ae,n.\u0275fac=function(e){return new(e||n)(a.LFG(De))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Pe(){return new Ve((0,a.LFG)(De))}()},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}function rc(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let pn=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class bo{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _s=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new bo(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),Co(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Co(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Co(n,t){n.context.$implicit=t.item}let Tn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new xf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){pi("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){pi("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class xf{constructor(){this.$implicit=null,this.ngIf=null}}function pi(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class wr{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Us=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),al=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new wr(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Us,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),sc=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),c=-1===r.indexOf("-")?void 0:a.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,r,c)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class rg{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class vs{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const sg=new vs,wd=new rg;let kf=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,a.QGY)(e))return sg;if((0,a.F4k)(e))return wd;throw function Er(n,t){return new a.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),js=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Dr="browser";function Do(n){return"server"===n}let Md=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Rf((0,a.LFG)(ie),window)}),n})();class Rf{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Fi(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=jr(this.window.history)||jr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function jr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Io{}class zs extends class Pd extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function de(n){z||(z=n)}(new zs)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Nd(){return Gs=Gs||document.querySelector("base"),Gs?Gs.getAttribute("href"):null}();return null==e?null:function ws(n){jn=jn||document.createElement("a"),jn.setAttribute("href",n);const t=jn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Gs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return rc(document.cookie,t)}}let jn,Gs=null;const $n=new a.OlP("TRANSITION_ID"),hu=[{provide:a.ip1,useFactory:function du(n,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const i=N(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[$n,ie,a.zs3],multi:!0}];let fu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const pu=new a.OlP("EventManagerPlugins");let mu=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(pu),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class dc{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=N().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let fa=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),pa=(()=>{class n extends fa{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Ld),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ld))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Ld(n){N().remove(n)}const ma={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vd=/%COMP%/g;function fc(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?fc(n,r,e):(r=r.replace(Vd,n),e.push(r))}return e}function pc(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let wl=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Es(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Ud(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case a.ifc.ShadowDom:return new Bf(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=fc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(mu),a.LFG(pa),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Es{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ma[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Dl(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Dl(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=ma[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ma[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,i,r&a.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,pc(i)):this.eventManager.addEventListener(t,e,pc(i))}}function Dl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ud extends Es{constructor(t,e,i,r){super(t),this.component=i;const s=fc(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function Xn(n){return"_ngcontent-%COMP%".replace(Vd,n)}(r+"-"+i.id),this.hostAttr=function hc(n){return"_nghost-%COMP%".replace(Vd,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Bf extends Es{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=fc(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let _i=(()=>{class n extends dc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Uf=["alt","control","meta","shift"],Ws={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Il=(()=>{class n extends dc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),c="code."),Uf.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),c+=_+".")}),c+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=c,p}static matchEventFullKeyCode(e,i){let r=Ws[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Uf.forEach(c=>{c!==r&&(0,yu[c])(e)&&(s+=c+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Sl=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:Dr},{provide:a.g9A,useValue:function jd(){zs.makeCurrent()},multi:!0},{provide:ie,useFactory:function vu(){return(0,a.RDi)(document),document},deps:[]}]),Ao=new a.OlP(""),Tl=[{provide:a.rWj,useClass:class Fd{addToWindow(t){a.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],_a=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Ds(){return new a.qLn},deps:[]},{provide:pu,useClass:_i,multi:!0,deps:[ie,a.R0b,a.Lbi]},{provide:pu,useClass:Il,multi:!0,deps:[ie]},{provide:wl,useClass:wl,deps:[mu,pa,a.AFp]},{provide:a.FYo,useExisting:wl},{provide:fa,useExisting:pa},{provide:pa,useClass:pa,deps:[ie]},{provide:mu,useClass:mu,deps:[pu,a.R0b]},{provide:Io,useClass:fu,deps:[]},[]];let Mo=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId},{provide:$n,useExisting:a.AFp},hu]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ao,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[..._a,...Tl],imports:[js,a.hGG]}),n})(),rs=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Al(){return new rs((0,a.LFG)(ie))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ko=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):a.LFG(hg),i},providedIn:"root"}),n})(),hg=(()=>{class n extends ko{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function iv(n){return new hg(n.get(ie))}(a.LFG(a.zs3)),i},providedIn:"root"}),n})();var sn=B(8996),os=B(3269);function et(...n){const t=(0,os.yG)(n);return(0,sn.D)(n,t)}var ht=B(7579);class kn extends ht.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const Ro=(0,B(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ln=B(9751);const{isArray:Oo}=Array,{getPrototypeOf:Gd,prototype:Wd,keys:Wf}=Object;function qs(n){if(1===n.length){const t=n[0];if(Oo(t))return{args:t,keys:null};if(function Zd(n){return n&&"object"==typeof n&&Gd(n)===Wd}(t)){const e=Wf(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Ss=B(4671),Qe=B(4004);const{isArray:wu}=Array;function Ml(n){return(0,Qe.U)(t=>function as(n,t){return wu(t)?n(...t):n(t)}(n,t))}function xl(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Vn=B(5403),kl=B(9672);function Rl(...n){const t=(0,os.yG)(n),e=(0,os.jO)(n),{args:i,keys:r}=qs(n);if(0===i.length)return(0,sn.D)([],t);const s=new Ln.y(function Ol(n,t,e=Ss.y){return i=>{Zf(t,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let p=0;p<r;p++)Zf(t,()=>{const _=(0,sn.D)(n[p],t);let b=!1;_.subscribe((0,Vn.x)(i,D=>{s[p]=D,b||(b=!0,d--),d||i.next(e(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>xl(r,c):Ss.y));return e?s.pipe(Ml(e)):s}function Zf(n,t,e){n?(0,kl.f)(e,n,t):t()}var Sa=B(8189);function Po(...n){return function vc(){return(0,Sa.J)(1)}()((0,sn.D)(n,(0,os.yG)(n)))}var zr=B(8421);function yr(n){return new Ln.y(t=>{(0,zr.Xf)(n()).subscribe(t)})}var bc=B(9635),Zi=B(576);function Ys(n,t){const e=(0,Zi.m)(n)?n:()=>n,i=r=>r.error(e());return new Ln.y(t?r=>t.schedule(i,0,r):i)}var Li=B(515),Ti=B(727),wn=B(4482);function Ks(){return(0,wn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Vn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class No extends Ln.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,wn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ti.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Vn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ti.w0.EMPTY)}return t}refCount(){return Ks()(this)}}function Zn(n,t){return(0,wn.e)((e,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe((0,Vn.x)(i,p=>{r?.unsubscribe();let _=0;const b=s++;(0,zr.Xf)(n(p,b)).subscribe(r=(0,Vn.x)(i,D=>i.next(t?t(p,D,b,_++):D),()=>{r=null,d()}))},()=>{c=!0,d()}))})}function jt(n){return n<=0?()=>Li.E:(0,wn.e)((t,e)=>{let i=0;t.subscribe((0,Vn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function ai(...n){const t=(0,os.yG)(n);return(0,wn.e)((e,i)=>{(t?Po(n,e,t):Po(n,e)).subscribe(i)})}function _n(n,t){return(0,wn.e)((e,i)=>{let r=0;e.subscribe((0,Vn.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var S=B(5577);function T(n){return(0,wn.e)((t,e)=>{let i=!1;t.subscribe((0,Vn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function k(n=j){return(0,wn.e)((t,e)=>{let i=!1;t.subscribe((0,Vn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function j(){return new Ro}function J(n,t){const e=arguments.length>=2;return i=>i.pipe(n?_n((r,s)=>n(r,s,i)):Ss.y,jt(1),e?T(t):k(()=>new Ro))}function ce(n,t){return(0,Zi.m)(t)?(0,S.z)(n,t,1):(0,S.z)(n,1)}var Ce=B(8505);function We(n){return(0,wn.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,Vn.x)(e,void 0,void 0,c=>{s=(0,zr.Xf)(n(c,We(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function _t(n,t,e,i,r){return(s,c)=>{let d=e,p=t,_=0;s.subscribe((0,Vn.x)(c,b=>{const D=_++;p=d?n(p,b,D):(d=!0,b),i&&c.next(p)},r&&(()=>{d&&c.next(p),c.complete()})))}}function xt(n,t){return(0,wn.e)(_t(n,t,arguments.length>=2,!0))}function Ut(n){return n<=0?()=>Li.E:(0,wn.e)((t,e)=>{let i=[];t.subscribe((0,Vn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function vt(n,t){const e=arguments.length>=2;return i=>i.pipe(n?_n((r,s)=>n(r,s,i)):Ss.y,Ut(1),e?T(t):k(()=>new Ro))}function Ai(n){return(0,Qe.U)(()=>n)}function Qs(n){return(0,wn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const $t="primary",Vi=Symbol("RouteTitle");class Fo{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Xs(n){return new Fo(n)}function Cc(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Mi(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!qd(n[r],t[r]))return!1;return!0}function qd(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function fg(n){return Array.prototype.concat.apply([],n)}function qf(n){return n.length>0?n[n.length-1]:null}function ei(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Lo(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,sn.D)(Promise.resolve(n)):et(n)}const Aw={exact:function mg(n,t,e){if(!Bo(n.segments,t.segments)||!Vo(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!mg(n.children[i],t.children[i],e))return!1;return!0},subset:Eu},Kf={exact:function Qf(n,t){return Mi(n,t)},subset:function Yd(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>qd(n[e],t[e]))},ignored:()=>!0};function rv(n,t,e){return Aw[e.paths](n.root,t.root,e.matrixParams)&&Kf[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Eu(n,t,e){return Kd(n,t,t.segments,e)}function Kd(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Bo(r,e)||t.hasChildren()||!Vo(r,e,i))}if(n.segments.length===e.length){if(!Bo(n.segments,e)||!Vo(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Eu(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Bo(n.segments,r)&&Vo(n.segments,r,i)&&n.children[$t])&&Kd(n.children[$t],t,s,i)}}function Vo(n,t,e){return t.every((i,r)=>Kf[e](n[r].parameters,i.parameters))}class Pl{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xs(this.queryParams)),this._queryParamMap}toString(){return Nl.serialize(this)}}class Jt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ei(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ec(this)}}class Du{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Xs(this.parameters)),this._parameterMap}toString(){return _g(this)}}function Bo(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Xf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new wc},providedIn:"root"}),n})();class wc{parse(t){const e=new g(t);return new Pl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Iu(t.root,!0)}`,i=function ov(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Xd(e)}=${Xd(r)}`).join("&"):`${Xd(e)}=${Xd(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function ep(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Nl=new wc;function Ec(n){return n.segments.map(t=>_g(t)).join("/")}function Iu(n,t){if(!n.hasChildren())return Ec(n);if(t){const e=n.children[$t]?Iu(n.children[$t],!1):"",i=[];return ei(n.children,(r,s)=>{s!==$t&&i.push(`${s}:${Iu(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function gg(n,t){let e=[];return ei(n.children,(i,r)=>{r===$t&&(e=e.concat(t(i,r)))}),ei(n.children,(i,r)=>{r!==$t&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===$t?[Iu(n.children[$t],!1)]:[`${r}:${Iu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${Ec(n)}/${e[0]}`:`${Ec(n)}/(${e.join("//")})`}}function Jf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xd(n){return Jf(n).replace(/%3B/gi,";")}function Ts(n){return Jf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function eo(n){return decodeURIComponent(n)}function tp(n){return eo(n.replace(/\+/g,"%20"))}function _g(n){return`${Ts(n.path)}${function sv(n){return Object.keys(n).map(t=>`;${Ts(t)}=${Ts(n[t])}`).join("")}(n.parameters)}`}const av=/^[^\/()?;=#]+/;function Jd(n){const t=n.match(av);return t?t[0]:""}const np=/^[^=?&#]+/,cv=/^[^&#]+/;class g{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[$t]=new Jt(t,e)),i}parseSegment(){const t=Jd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(t),new Du(eo(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Jd(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Jd(this.remaining);r&&(i=r,this.capture(i))}t[eo(e)]=eo(i)}parseQueryParam(t){const e=function lv(n){const t=n.match(np);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function C(n){const t=n.match(cv);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=tp(e),s=tp(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Jd(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=$t);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[$t]:new Jt([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new a.vHH(4011,!1)}}function y(n){return n.segments.length>0?new Jt([],{[$t]:n}):n}function E(n){const t={};for(const i of Object.keys(n.children)){const s=E(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function x(n){if(1===n.numberOfChildren&&n.children[$t]){const t=n.children[$t];return new Jt(n.segments.concat(t.segments),t.children)}return n}(new Jt(n.segments,t))}function F(n){return n instanceof Pl}function Kt(n,t,e,i,r){if(0===e.length)return ls(t.root,t.root,t.root,i,r);const s=function nh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new th(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return ei(s.outlets,(p,_)=>{d[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new th(e,t,i)}(e);return s.toRoot()?ls(t.root,t.root,new Jt([],{}),i,r):function c(p){const _=function ip(n,t,e,i){if(n.isAbsolute)return new Fl(t.root,!0,0);if(-1===i)return new Fl(e,e===t.root,0);return function ih(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new a.vHH(4005,!1);r=i.segments.length}return new Fl(i,!1,r-s)}(e,i+(En(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,p),b=_.processChildren?Ta(_.segmentGroup,_.index,s.commands):Dc(_.segmentGroup,_.index,s.commands);return ls(t.root,_.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function En(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sr(n){return"object"==typeof n&&null!=n&&n.outlets}function ls(n,t,e,i,r){let c,s={};i&&ei(i,(p,_)=>{s[_]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),c=n===t?e:eh(n,t,e);const d=y(E(c));return new Pl(d,s,r)}function eh(n,t,e){const i={};return ei(n.children,(r,s)=>{i[s]=r===t?e:eh(r,t,e)}),new Jt(n.segments,i)}class th{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&En(i[0]))throw new a.vHH(4003,!1);const r=i.find(sr);if(r&&r!==qf(i))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fl{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Dc(n,t,e){if(n||(n=new Jt([],{})),0===n.segments.length&&n.hasChildren())return Ta(n,t,e);const i=function uv(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const c=n.segments[r],d=e[i];if(sr(d))break;const p=`${d}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!vg(p,_,c))return s;i+=2}else{if(!vg(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Jt(n.segments.slice(0,i.pathIndex),{});return s.children[$t]=new Jt(n.segments.slice(i.pathIndex),n.children),Ta(s,0,r)}return i.match&&0===r.length?new Jt(n.segments,{}):i.match&&!n.hasChildren()?zn(n,t,e):i.match?Ta(n,0,r):zn(n,t,e)}function Ta(n,t,e){if(0===e.length)return new Jt(n.segments,{});{const i=function Su(n){return sr(n[0])?n[0].outlets:{[$t]:n}}(e),r={};return ei(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=Dc(n.children[c],t,s))}),ei(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new Jt(n.segments,r)}}function zn(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(sr(s)){const p=dv(s.outlets);return new Jt(i,p)}if(0===r&&En(e[0])){i.push(new Du(n.segments[t].path,Mw(e[0]))),r++;continue}const c=sr(s)?s.outlets[$t]:`${s}`,d=r<e.length-1?e[r+1]:null;c&&d&&En(d)?(i.push(new Du(c,Mw(d))),r+=2):(i.push(new Du(c,{})),r++)}return new Jt(i,{})}function dv(n){const t={};return ei(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=zn(new Jt([],{}),0,e))}),t}function Mw(n){const t={};return ei(n,(e,i)=>t[i]=`${e}`),t}function vg(n,t,e){return n==e.path&&Mi(t,e.parameters)}class Aa{constructor(t,e){this.id=t,this.url=e}}class hv extends Aa{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ic extends Aa{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bg extends Aa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xw extends Aa{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class HT extends Aa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bN extends Aa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CN extends Aa{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rp extends Aa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fv extends Aa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kw{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rw{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ow{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jT{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pw{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nw{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cg{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Fw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=sp(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=sp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=wg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return wg(t,this._root).map(e=>e.value)}}function sp(n,t){if(n===t.value)return t;for(const e of t.children){const i=sp(n,e);if(i)return i}return null}function wg(n,t){if(n===t.value)return[t];for(const e of t.children){const i=wg(n,e);if(i.length)return i.unshift(t),i}return[]}class Ma{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function to(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Lw extends Fw{constructor(t,e){super(t),this.snapshot=e,op(this,t)}toString(){return this.snapshot.toString()}}function Eg(n,t){const e=function Dg(n,t){const c=new xa([],{},{},"",{},$t,t,null,n.root,-1,{});return new pv("",new Ma(c,[]))}(n,t),i=new kn([new Du("",{})]),r=new kn({}),s=new kn({}),c=new kn({}),d=new kn(""),p=new Tu(i,r,c,d,s,$t,t,e.root);return p.snapshot=e.root,new Lw(new Ma(p,[]),e)}class Tu{constructor(t,e,i,r,s,c,d,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.title=this.data?.pipe((0,Qe.U)(_=>_[Vi]))??et(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(t=>Xs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(t=>Xs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ig(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Sg(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class xa{constructor(t,e,i,r,s,c,d,p,_,b,D,M){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.title=this.data?.[Vi],this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=b,this._correctedLastPathIndex=M??b,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pv extends Fw{constructor(t,e){super(e),this.url=t,op(this,e)}toString(){return Vw(this._root)}}function op(n,t){t.value._routerState=n,t.children.forEach(e=>op(n,e))}function Vw(n){const t=n.children.length>0?` { ${n.children.map(Vw).join(", ")} } `:"";return`${n.value}${t}`}function mv(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Mi(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Mi(t.params,e.params)||n.params.next(e.params),function Js(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Mi(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Mi(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Tg(n,t){const e=Mi(n.params,t.params)&&function Qd(n,t){return Bo(n,t)&&n.every((e,i)=>Mi(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Tg(n.parent,t.parent))}function ap(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function $T(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ap(n,i,r);return ap(n,i)})}(n,t,e);return new Ma(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>ap(n,d)),c}}const i=function zT(n){return new Tu(new kn(n.url),new kn(n.params),new kn(n.queryParams),new kn(n.fragment),new kn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>ap(n,s));return new Ma(i,r)}}const gv="ngNavigationCancelingError";function Ag(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=F(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Bw(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Bw(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[gv]=!0,i.cancellationCode=t,e&&(i.url=e),i}function _v(n){return Uw(n)&&F(n.url)}function Uw(n){return n&&n[gv]}class Hw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Mg,this.attachRef=null}}let Mg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Hw,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xg=!1;let Sc=(()=>{class n{constructor(e,i,r,s,c){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=r||$t,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,xg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,xg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,xg);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new a.vHH(4013,xg);this._activatedRoute=e;const r=this.location,c=e._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new GT(e,d,r.injector);if(i&&function sh(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(c);this.activated=r.createComponent(_,r.length,p)}else this.activated=r.createComponent(c,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Mg),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class GT{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Tu?this.route:t===Mg?this.childContexts:this.parent.get(t,e)}}let Au=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(e,i){1&e&&a._UZ(0,"router-outlet")},dependencies:[Sc],encapsulation:2}),n})();function jw(n,t){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function bv(n){const t=n.children&&n.children.map(bv),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==$t&&(e.component=Au),e}function no(n){return n.outlet||$t}function kg(n,t){const e=n.filter(i=>no(i)===t);return e.push(...n.filter(i=>no(i)!==t)),e}function Rg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Cv{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),mv(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=to(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),ei(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=to(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=to(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=to(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Nw(s.value.snapshot))}),t.children.length&&this.forwardEvent(new jT(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(mv(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),mv(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=Rg(r.snapshot),p=d?.get(a._Vd)??null;c.attachRef=null,c.route=r,c.resolver=p,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class ZT{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class wv{constructor(t,e){this.component=t,this.route=e}}function SN(n,t,e){const i=n._root;return cp(i,t?t._root:null,e,[i.value])}function lp(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,a.Z0I)(n)?t.get(n):n:i}function cp(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=to(t);return n.children.forEach(c=>{(function Gw(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function Ev(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Bo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Bo(n.url,t.url)||!Mi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tg(n,t)||!Mi(n.queryParams,t.queryParams);default:return!Tg(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new ZT(i)):(s.data=c.data,s._resolvedData=c._resolvedData),cp(n,t,s.component?d?d.children:null:e,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new wv(d.outlet.component,c))}else c&&oh(t,d,r),r.canActivateChecks.push(new ZT(i)),cp(n,null,s.component?d?d.children:null:e,i,r)})(c,s[c.value.outlet],e,i.concat([c.value]),r),delete s[c.value.outlet]}),ei(s,(c,d)=>oh(c,e.getContext(d),r)),r}function oh(n,t,e){const i=to(n),r=n.value;ei(i,(s,c)=>{oh(s,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new wv(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function ah(n){return"function"==typeof n}function Og(n){return n instanceof Ro||"EmptyError"===n?.name}const Pg=Symbol("INITIAL_VALUE");function lh(){return Zn(n=>Rl(n.map(t=>t.pipe(jt(1),ai(Pg)))).pipe((0,Qe.U)(t=>{for(const e of t)if(!0!==e){if(e===Pg)return Pg;if(!1===e||e instanceof Pl)return e}return!0}),_n(t=>t!==Pg),jt(1)))}function Ar(n){return(0,bc.z)((0,Ce.b)(t=>{if(F(t))throw Ag(0,t)}),(0,Qe.U)(t=>!0===t))}const Ng={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fg(n,t,e,i,r){const s=or(n,t,e);return s.matched?function Tv(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?et(r.map(c=>{const d=lp(c,n);return Lo(function YT(n){return n&&ah(n.canMatch)}(d)?d.canMatch(t,e):n.runInContext(()=>d(t,e)))})).pipe(lh(),Ar()):et(!0)}(i=jw(t,i),t,e).pipe((0,Qe.U)(c=>!0===c?s:{...Ng})):et(s)}function or(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Ng}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Cc)(e,n,t);if(!r)return{...Ng};const s={};ei(r.posParams,(d,p)=>{s[p]=d.path});const c=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function Tc(n,t,e,i,r="corrected"){if(e.length>0&&function sA(n,t,e){return e.some(i=>Lg(n,t,i)&&no(i)!==$t)}(n,e,i)){const c=new Jt(t,function rA(n,t,e,i){const r={};r[$t]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&no(s)!==$t){const c=new Jt([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[no(s)]=c}return r}(n,t,i,new Jt(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function Yw(n,t,e){return e.some(i=>Lg(n,t,i))}(n,e,i)){const c=new Jt(n.segments,function qw(n,t,e,i,r,s){const c={};for(const d of i)if(Lg(n,e,d)&&!r[no(d)]){const p=new Jt([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:t.length,c[no(d)]=p}return{...r,...c}}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const s=new Jt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function Lg(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Av(n,t,e,i){return!!(no(n)===i||i!==$t&&Lg(t,e,n))&&("**"===n.path||or(t,n,e).matched)}function Kw(n,t,e){return 0===t.length&&!n.children[e]}const dp=!1;class Vg{constructor(t){this.segmentGroup=t||null}}class Qw{constructor(t){this.urlTree=t}}function hp(n){return Ys(new Vg(n))}function Xw(n){return Ys(new Qw(n))}class aA{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=Tc(this.urlTree.root,[],[],this.config).segmentGroup,e=new Jt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,$t).pipe((0,Qe.U)(s=>this.createUrlTree(E(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(We(s=>{if(s instanceof Qw)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Vg?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,$t).pipe((0,Qe.U)(r=>this.createUrlTree(E(r),t.queryParams,t.fragment))).pipe(We(r=>{throw r instanceof Vg?this.noMatchError(r):r}))}noMatchError(t){return new a.vHH(4002,dp)}createUrlTree(t,e,i){const r=y(t);return new Pl(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Qe.U)(s=>new Jt([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,sn.D)(r).pipe(ce(s=>{const c=i.children[s],d=kg(e,s);return this.expandSegmentGroup(t,d,c,s).pipe((0,Qe.U)(p=>({segment:p,outlet:s})))}),xt((s,c)=>(s[c.outlet]=c.segment,s),{}),vt())}expandSegment(t,e,i,r,s,c){return(0,sn.D)(i).pipe(ce(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,c).pipe(We(_=>{if(_ instanceof Vg)return et(null);throw _}))),J(d=>!!d),We((d,p)=>{if(Og(d))return Kw(e,r,s)?et(new Jt([],{})):hp(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,c,d){return Av(r,e,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c):hp(e):hp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Xw(s):this.lineralizeSegments(i,s).pipe((0,S.z)(c=>{const d=new Jt(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){const{matched:d,consumedSegments:p,remainingSegments:_,positionalParamSegments:b}=or(e,r,s);if(!d)return hp(e);const D=this.applyRedirectCommands(p,r.redirectTo,b);return r.redirectTo.startsWith("/")?Xw(D):this.lineralizeSegments(r,D).pipe((0,S.z)(M=>this.expandSegment(t,e,i,M.concat(_),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=jw(i,t),i.loadChildren?(i._loadedRoutes?et({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Qe.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new Jt(r,{})))):et(new Jt(r,{}))):Fg(e,i,r,t).pipe(Zn(({matched:c,consumedSegments:d,remainingSegments:p})=>c?this.getChildConfig(t=i._injector??t,i,r).pipe((0,S.z)(b=>{const D=b.injector??t,M=b.routes,{segmentGroup:P,slicedSegments:L}=Tc(e,d,p,M),K=new Jt(P.segments,P.children);if(0===L.length&&K.hasChildren())return this.expandChildren(D,M,K).pipe((0,Qe.U)(Ke=>new Jt(d,Ke)));if(0===M.length&&0===L.length)return et(new Jt(d,{}));const se=no(i)===s;return this.expandSegment(D,K,M,L,se?$t:s,!0).pipe((0,Qe.U)(Ze=>new Jt(d.concat(Ze.segments),Ze.children)))})):hp(e)))}getChildConfig(t,e,i){return e.children?et({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?et({routes:e._loadedRoutes,injector:e._loadedInjector}):function iA(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?et(!0):et(r.map(c=>{const d=lp(c,n);return Lo(function Dv(n){return n&&ah(n.canLoad)}(d)?d.canLoad(t,e):n.runInContext(()=>d(t,e)))})).pipe(lh(),Ar())}(t,e,i).pipe((0,S.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Ce.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function ch(n){return Ys(Bw(dp,3))}())):et({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return et(i);if(r.numberOfChildren>1||!r.children[$t])return Ys(new a.vHH(4e3,dp));r=r.children[$t]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Pl(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ei(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let c={};return ei(e.children,(d,p)=>{c[p]=this.createSegmentGroup(t,d,i,r)}),new Jt(s,c)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new a.vHH(4001,dp);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class MN{}class ka{constructor(t,e,i,r,s,c,d,p){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d,this.urlSerializer=p}recognize(){const t=Tc(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,$t).pipe((0,Qe.U)(e=>{if(null===e)return null;const i=new xa([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ma(i,e),s=new pv(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=Ig(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,sn.D)(Object.keys(i.children)).pipe(ce(r=>{const s=i.children[r],c=kg(e,r);return this.processSegmentGroup(t,c,s,r)}),xt((r,s)=>r&&s?(r.push(...s),r):null),function li(n,t=!1){return(0,wn.e)((e,i)=>{let r=0;e.subscribe((0,Vn.x)(i,s=>{const c=n(s,r++);(c||t)&&i.next(s),!c&&i.complete()}))})}(r=>null!==r),T(null),vt(),(0,Qe.U)(r=>{if(null===r)return null;const s=Rv(r);return function xv(n){n.sort((t,e)=>t.value.outlet===$t?-1:e.value.outlet===$t?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,sn.D)(e).pipe(ce(c=>this.processSegmentAgainstRoute(c._injector??t,c,i,r,s)),J(c=>!!c),We(c=>{if(Og(c))return Kw(i,r,s)?et([]):et(null);throw c}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!Av(e,i,r,s))return et(null);let c;if("**"===e.path){const d=r.length>0?qf(r).parameters:{},p=e1(i)+r.length;c=et({snapshot:new xa(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bg(e),no(e),e.component??e._loadedComponent??null,e,uh(i),p,Ug(e),p),consumedSegments:[],remainingSegments:[]})}else c=Fg(i,e,r,t).pipe((0,Qe.U)(({matched:d,consumedSegments:p,remainingSegments:_,parameters:b})=>{if(!d)return null;const D=e1(i)+p.length;return{snapshot:new xa(p,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bg(e),no(e),e.component??e._loadedComponent??null,e,uh(i),D,Ug(e),D),consumedSegments:p,remainingSegments:_}}));return c.pipe(Zn(d=>{if(null===d)return et(null);const{snapshot:p,consumedSegments:_,remainingSegments:b}=d;t=e._injector??t;const D=e._loadedInjector??t,M=function kv(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:P,slicedSegments:L}=Tc(i,_,b,M.filter(se=>void 0===se.redirectTo),this.relativeLinkResolution);if(0===L.length&&P.hasChildren())return this.processChildren(D,M,P).pipe((0,Qe.U)(se=>null===se?null:[new Ma(p,se)]));if(0===M.length&&0===L.length)return et([new Ma(p,[])]);const K=no(e)===s;return this.processSegment(D,M,P,L,K?$t:s).pipe((0,Qe.U)(se=>null===se?null:[new Ma(p,se)]))}))}}function cA(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Rv(n){const t=[],e=new Set;for(const i of n){if(!cA(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Rv(i.children);t.push(new Ma(i.value,r))}return t.filter(i=>!e.has(i))}function uh(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function e1(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Bg(n){return n.data||{}}function Ug(n){return n.resolve||{}}function Hg(n){return"string"==typeof n.title||null===n.title}function Pv(n){return Zn(t=>{const e=n(t);return e?(0,sn.D)(e).pipe((0,Qe.U)(()=>t)):et(t)})}let s1=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===$t);return i}getResolvedTitleForRoute(e){return e.data[Vi]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(o1)},providedIn:"root"}),n})(),o1=(()=>{class n extends s1{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(rs))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hA{}class a1 extends class fA{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const fp=new a.OlP("",{providedIn:"root",factory:()=>({})}),Fv=new a.OlP("ROUTES");let Lv=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return et(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Lo(e.loadComponent()).pipe((0,Ce.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Qs(()=>{this.componentLoaders.delete(e)})),r=new No(i,()=>new ht.x).pipe(Ks());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return et({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Qe.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,_,b=!1;Array.isArray(d)?_=d:(p=d.create(e).injector,_=fg(p.get(Fv,[],a.XFs.Self|a.XFs.Optional)));return{routes:_.map(bv),injector:p}}),Qs(()=>{this.childrenLoaders.delete(i)})),c=new No(s,()=>new ht.x).pipe(Ks());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(e){return Lo(e()).pipe((0,S.z)(i=>i instanceof a.YKP||Array.isArray(i)?et(i):(0,sn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.zs3),a.LFG(a.Sil))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class l1{}class c1{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function u1(n){throw n}function d1(n,t,e){return t.parse("/")}const pA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ON={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function h1(){const n=(0,a.f3M)(Xf),t=(0,a.f3M)(Mg),e=(0,a.f3M)(Ve),i=(0,a.f3M)(a.zs3),r=(0,a.f3M)(a.Sil),s=(0,a.f3M)(Fv,{optional:!0})??[],c=(0,a.f3M)(fp,{optional:!0})??{},d=(0,a.f3M)(o1),p=(0,a.f3M)(s1,{optional:!0}),_=(0,a.f3M)(l1,{optional:!0}),b=(0,a.f3M)(hA,{optional:!0}),D=new qn(null,n,t,e,i,r,fg(s));return _&&(D.urlHandlingStrategy=_),b&&(D.routeReuseStrategy=b),D.titleStrategy=p??d,function $g(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,D),D}let qn=(()=>{class n{constructor(e,i,r,s,c,d,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ht.x,this.errorHandler=u1,this.malformedUriErrorHandler=d1,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>et(void 0),this.urlHandlingStrategy=new c1,this.routeReuseStrategy=new a1,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(Lv),this.configLoader.onLoadEndListener=M=>this.triggerEvent(new Rw(M)),this.configLoader.onLoadStartListener=M=>this.triggerEvent(new kw(M)),this.ngModule=c.get(a.h0i),this.console=c.get(a.c2e);const D=c.get(a.R0b);this.isNgZoneEnabled=D instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function pg(){return new Pl(new Jt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Eg(this.currentUrlTree,this.rootComponentType),this.transitions=new kn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(_n(r=>0!==r.id),(0,Qe.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Zn(r=>{let s=!1,c=!1;return et(r).pipe((0,Ce.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zn(d=>{const p=this.browserUrlTree.toString(),_=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Vv(d.source)&&(this.browserUrlTree=d.extractedUrl),et(d).pipe(Zn(D=>{const M=this.transitions.getValue();return i.next(new hv(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),M!==this.transitions.getValue()?Li.E:Promise.resolve(D)}),function lA(n,t,e,i){return Zn(r=>function Ll(n,t,e,i,r){return new aA(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Qe.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ce.b)(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},r.urlAfterRedirects=D.urlAfterRedirects}),function n1(n,t,e,i,r,s){return(0,S.z)(c=>function xN(n,t,e,i,r,s,c="emptyOnly",d="legacy"){return new ka(n,t,e,i,r,c,d,s).recognize().pipe(Zn(p=>null===p?function Jw(n){return new Ln.y(t=>t.error(n))}(new MN):et(p)))}(n,t,e,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,s).pipe((0,Qe.U)(d=>({...c,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ce.b)(D=>{if(r.targetSnapshot=D.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(P,D)}this.browserUrlTree=D.urlAfterRedirects}const M=new HT(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);i.next(M)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:P,source:L,restoredState:K,extras:se}=d,Oe=new hv(M,this.serializeUrl(P),L,K);i.next(Oe);const Ze=Eg(P,this.rootComponentType).snapshot;return et(r={...d,targetSnapshot:Ze,urlAfterRedirects:P,extras:{...se,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),Li.E}),(0,Ce.b)(d=>{const p=new bN(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,Qe.U)(d=>r={...d,guards:SN(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function QT(n,t){return(0,S.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?et({...e,guardsResult:!0}):function XT(n,t,e,i){return(0,sn.D)(n).pipe((0,S.z)(r=>function nA(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?et(s.map(d=>{const p=Rg(t)??r,_=lp(d,p);return Lo(function up(n){return n&&ah(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,i):p.runInContext(()=>_(n,t,e,i))).pipe(J())})).pipe(lh()):et(!0)}(r.component,r.route,e,t,i)),J(r=>!0!==r,!0))}(c,i,r,n).pipe((0,S.z)(d=>d&&function Ww(n){return"boolean"==typeof n}(d)?function Sv(n,t,e,i){return(0,sn.D)(t).pipe(ce(r=>Po(function eA(n,t){return null!==n&&t&&t(new Ow(n)),et(!0)}(r.route.parent,i),function JT(n,t){return null!==n&&t&&t(new Pw(n)),et(!0)}(r.route,i),function Zw(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function TN(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>yr(()=>et(c.guards.map(p=>{const _=Rg(c.node)??e,b=lp(p,_);return Lo(function Iv(n){return n&&ah(n.canActivateChild)}(b)?b.canActivateChild(i,n):_.runInContext(()=>b(i,n))).pipe(J())})).pipe(lh())));return et(s).pipe(lh())}(n,r.path,e),function tA(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return et(!0);const r=i.map(s=>yr(()=>{const c=Rg(t)??e,d=lp(s,c);return Lo(function qT(n){return n&&ah(n.canActivate)}(d)?d.canActivate(t,n):c.runInContext(()=>d(t,n))).pipe(J())}));return et(r).pipe(lh())}(n,r.route,e))),J(r=>!0!==r,!0))}(i,s,n,t):et(d)),(0,Qe.U)(d=>({...e,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,Ce.b)(d=>{if(r.guardsResult=d.guardsResult,F(d.guardsResult))throw Ag(0,d.guardsResult);const p=new CN(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),_n(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),Pv(d=>{if(d.guards.canActivateChecks.length)return et(d).pipe((0,Ce.b)(p=>{const _=new rp(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),Zn(p=>{let _=!1;return et(p).pipe(function kN(n,t){return(0,S.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return et(e);let s=0;return(0,sn.D)(r).pipe(ce(c=>function dh(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!Hg(r)&&(s[Vi]=r.title),function Ov(n,t,e,i){const r=function r1(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return et({});const s={};return(0,sn.D)(r).pipe((0,S.z)(c=>function dA(n,t,e,i){const r=Rg(t)??i,s=lp(n,r);return Lo(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[c],t,e,i).pipe(J(),(0,Ce.b)(d=>{s[c]=d}))),Ut(1),Ai(s),We(c=>Og(c)?Li.E:Ys(c)))}(s,n,t,i).pipe((0,Qe.U)(c=>(n._resolvedData=c,n.data=Ig(n,e).resolve,r&&Hg(r)&&(n.data[Vi]=r.title),null)))}(c.route,i,n,t)),(0,Ce.b)(()=>s++),Ut(1),(0,S.z)(c=>s===r.length?et(e):Li.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ce.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,Ce.b)(p=>{const _=new fv(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}))}),Pv(d=>{const p=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Ce.b)(D=>{_.component=D}),(0,Qe.U)(()=>{})));for(const D of _.children)b.push(...p(D));return b};return Rl(p(d.targetSnapshot.root)).pipe(T(),jt(1))}),Pv(()=>this.afterPreactivation()),(0,Qe.U)(d=>{const p=function rh(n,t,e){const i=ap(n,t._root,e?e._root:void 0);return new Lw(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:p}}),(0,Ce.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,Qe.U)(i=>(new Cv(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,Ce.b)({next(){s=!0},complete(){s=!0}}),Qs(()=>{s||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),We(d=>{if(c=!0,Uw(d)){_v(d)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new bg(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(p),_v(d)){const _=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vv(r.source)};this.scheduleNavigation(_,"imperative",null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new xw(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(d))}catch(_){r.reject(_)}}return Li.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const d={...s};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const c=this.parseUrl(e.url);this.scheduleNavigation(c,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(bv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,_=r||this.routerState.root,b=p?this.currentUrlTree.fragment:c;let D=null;switch(d){case"merge":D={...this.currentUrlTree.queryParams,...s};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}return null!==D&&(D=this.removeEmptyProps(D)),Kt(_,this.currentUrlTree,e,D,b??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=F(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function f1(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new a.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...pA}:!1===i?{...ON}:i,F(e))return rv(this.currentUrlTree,e,r);const s=this.parseUrl(e);return rv(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ic(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,c){if(this.disposed)return Promise.resolve(!1);let d,p,_;c?(d=c.resolve,p=c.reject,_=c.promise):_=new Promise((M,P)=>{d=M,p=P});const b=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),D=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):D=0,this.setTransition({id:b,targetPageId:D,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:d,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(M=>Promise.reject(M))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new bg(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:function(){return h1()},providedIn:"root"}),n})();function Vv(n){return"imperative"!==n}let Oa=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ht.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,a.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,a.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,a.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(qn),a.Y36(Tu),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})(),Vl=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ht.x,this.subscription=e.events.subscribe(s=>{s instanceof Ic&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,a.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,a.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,a.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,c){return!!(0!==e||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(qn),a.Y36(Tu),a.Y36(De))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&a.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&a.uIk("target",i.target)("href",i.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})();class Bv{}let Uv=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(_n(e=>e instanceof Ic),ce(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,a.MMx)(s.providers,e,`Route: ${s.path}`));const c=s._injector??e,d=s._loadedInjector??c;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(c,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,sn.D)(r).pipe((0,Sa.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):et(null);const s=r.pipe((0,S.z)(c=>null===c?et(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,sn.D)([s,c]).pipe((0,Sa.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(qn),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(Bv),a.LFG(Lv))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mu=new a.OlP("");let m1=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof hv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ic&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Cg&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Cg(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function xu(n,t){return{\u0275kind:n,\u0275providers:t}}function mp(n){return[{provide:Fv,multi:!0,useValue:n}]}function _A(){const n=(0,a.f3M)(a.zs3);return t=>{const e=n.get(a.z2F);if(t!==e.components[0])return;const i=n.get(qn),r=n.get(Hv);1===n.get(jv)&&i.initialNavigation(),n.get(io,null,a.XFs.Optional)?.setUpPreloading(),n.get(Mu,null,a.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const Hv=new a.OlP("",{factory:()=>new ht.x}),jv=new a.OlP("",{providedIn:"root",factory:()=>1});const io=new a.OlP("");function bA(n){return xu(0,[{provide:io,useExisting:Uv},{provide:Bv,useExisting:n}])}const y1=new a.OlP("ROUTER_FORROOT_GUARD"),wA=[Ve,{provide:Xf,useClass:wc},{provide:qn,useFactory:h1},Mg,{provide:Tu,useFactory:function g1(n){return n.routerState.root},deps:[qn]},Lv];function v1(){return new a.PXZ("Router",qn)}let b1=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[wA,[],mp(e),{provide:y1,useFactory:C1,deps:[[qn,new a.FiY,new a.tp0]]},{provide:fp,useValue:i||{}},i?.useHash?{provide:De,useClass:nt}:{provide:De,useClass:st},{provide:Mu,useFactory:()=>{const n=(0,a.f3M)(qn),t=(0,a.f3M)(Md),e=(0,a.f3M)(fp);return e.scrollOffset&&t.setOffset(e.scrollOffset),new m1(n,t,e)}},i?.preloadingStrategy?bA(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:v1},i?.initialNavigation?w1(i):[],[{provide:$v,useFactory:_A},{provide:a.tb,multi:!0,useExisting:$v}]]}}static forChild(e){return{ngModule:n,providers:[mp(e)]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(y1,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Au]}),n})();function C1(n){return"guarded"}function w1(n){return["disabled"===n.initialNavigation?xu(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const t=(0,a.f3M)(qn);return()=>{t.setUpLocationChangeListener()}}},{provide:jv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?xu(2,[{provide:jv,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:t=>{const e=t.get(Y,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(s=>{const c=t.get(qn),d=t.get(Hv);(function r(s){t.get(qn).events.pipe(_n(d=>d instanceof Ic||d instanceof bg||d instanceof xw),(0,Qe.U)(d=>d instanceof Ic||d instanceof bg&&(0===d.code||1===d.code)&&null),_n(d=>null!==d),jt(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),c.afterPreactivation=()=>(s(!0),i||d.closed?et(void 0):d),c.initialNavigation()}))}}]).\u0275providers:[]]}const $v=new a.OlP("");var zv=B(8247),V=B(2090),Ci=B(9681),Uo=B(1877),Ho=B(4859);let E1;try{E1=typeof Intl<"u"&&Intl.v8BreakIterator}catch{E1=!1}let ro,xi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Ir(n){return n===Dr}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!E1)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const D1=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Zg(){if(ro)return ro;if("object"!=typeof document||!document)return ro=new Set(D1),ro;let n=document.createElement("input");return ro=new Set(D1.filter(t=>(n.setAttribute("type",t),n.type===t))),ro}let ku,Gv,hh,S1;function gp(n){return function TA(){if(null==ku&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ku=!0}))}finally{ku=ku||!1}return ku}()?n:!!n.capture}function I1(){if(null==hh){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return hh=!1,hh;if("scrollBehavior"in document.documentElement.style)hh=!0;else{const n=Element.prototype.scrollTo;hh=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return hh}function fh(){if("object"!=typeof document||!document)return 0;if(null==Gv){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Gv=0,0===n.scrollLeft&&(n.scrollLeft=1,Gv=0===n.scrollLeft?1:2),n.remove()}return Gv}function _p(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Ac(n){return n.composedPath?n.composedPath()[0]:n.target}function mh(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function La(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var bp=B(4986);function Fu(n,t=bp.z){return(0,wn.e)((e,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function p(){const _=c+n,b=t.now();if(b<_)return r=this.schedule(void 0,_-b),void i.add(r);d()}e.subscribe((0,Vn.x)(i,_=>{s=_,c=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function G1(n){return _n((t,e)=>n<=e)}function Yg(n,t=Ss.y){return n=n??Kg,(0,wn.e)((e,i)=>{let r,s=!0;e.subscribe((0,Vn.x)(i,c=>{const d=t(c);(s||!n(r,d))&&(s=!1,r=d,i.next(c))}))})}function Kg(n,t){return n===t}var Qg=B(5032);function yn(n){return(0,wn.e)((t,e)=>{(0,zr.Xf)(n).subscribe((0,Vn.x)(e,()=>e.complete(),Qg.Z)),!e.closed&&t.subscribe(e)})}function Bn(n){return null!=n&&"false"!=`${n}`}function xc(n,t=0){return function fF(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Cp(n){return Array.isArray(n)?n:[n]}function ki(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Va(n){return n instanceof a.SBq?n.nativeElement:n}let Xg=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jl=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Va(e);return new Ln.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new ht.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Xg))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jg=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Bn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=xc(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Fu(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(jl),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),wp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Xg]}),n})();const Z1=new Set;let kc,q1=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):rM}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function iM(n){if(!Z1.has(n))try{kc||(kc=document.createElement("style"),kc.setAttribute("type","text/css"),document.head.appendChild(kc)),kc.sheet&&(kc.sheet.insertRule(`@media ${n} {body{ }}`,0),Z1.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(xi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rM(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Rc=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new ht.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Y1(Cp(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Rl(Y1(Cp(e)).map(c=>this._registerQuery(c).observable));return s=Po(s.pipe(jt(1)),s.pipe(G1(1),Fu(0))),s.pipe((0,Qe.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:_})=>{d.matches=d.matches||p,d.breakpoints[_]=p}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new Ln.y(c=>{const d=p=>this._zone.run(()=>c.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(ai(i),(0,Qe.U)(({matches:c})=>({query:e,matches:c})),yn(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(q1),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Y1(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function t_(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const e0="cdk-describedby-message",yh="cdk-describedby-host";let t0=0,n0=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+t0++,this._document=e,this._id=(0,a.f3M)(a.AFp)+"-"+t0++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=r0(i,r);"string"!=typeof i?(Q1(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=r0(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const c=this._messageRegistry.get(s);c&&0===c.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${yh}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(yh);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");Q1(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(r0(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=t_(e,"aria-describedby").filter(r=>0!=r.indexOf(e0));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function pF(n,t,e){const i=t_(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(yh,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function oM(n,t,e){const r=t_(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(yh)}_isElementDescribedByMessage(e,i){const r=t_(e,"aria-describedby"),s=this._messageRegistry.get(i),c=s&&s.messageElement.id;return!!c&&-1!=r.indexOf(c)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ie),a.LFG(xi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function r0(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function Q1(n,t){n.id||(n.id=`${e0}-${t}-${t0++}`)}let Oc=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function yF(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function Lu(n){try{return n.frameElement}catch{return null}}(function n_(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===vh(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=vh(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Mr(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Vu(n){return!function cM(n){return function s0(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Ep(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function uM(n){return function dM(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||jo(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(xi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jo(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function vh(n){if(!jo(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class oo{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(jt(1)).subscribe(t)}}let Bu=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new oo(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Oc),a.LFG(a.R0b),a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bh=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Bn(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Bn(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=_p(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Bu),a.Y36(ie))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[a.TTD]}),n})();function Uu(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Hu(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Ch=new a.OlP("cdk-input-modality-detector-options"),X1={ignoreKeys:[18,17,224,91,16]},ju=gp({passive:!0,capture:!0});let J1=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new kn(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(d=>d===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ac(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Uu(c)?"keyboard":"mouse"),this._mostRecentTarget=Ac(c))},this._onTouchstart=c=>{Hu(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ac(c))},this._options={...X1,...s},this.modalityDetected=this._modality.pipe(G1(1)),this.modalityChanged=this.modalityDetected.pipe(Yg()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ju),r.addEventListener("mousedown",this._onMousedown,ju),r.addEventListener("touchstart",this._onTouchstart,ju)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ju),document.removeEventListener("mousedown",this._onMousedown,ju),document.removeEventListener("touchstart",this._onTouchstart,ju))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(xi),a.LFG(a.R0b),a.LFG(ie),a.LFG(Ch,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eE=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function tE(){return null}}),nE=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let a0=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(eE,8),a.LFG(a.R0b),a.LFG(ie),a.LFG(nE,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fM=new a.OlP("cdk-focus-monitor-default-options"),i_=gp({passive:!0,capture:!0});let $l=(()=>{class n{constructor(e,i,r,s,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ht.x,this._rootNodeFocusAndBlurListener=d=>{for(let _=Ac(d);_;_=_.parentElement)"focus"===d.type?this._onFocus(d,_):this._onBlur(d,_)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(e,i=!1){const r=Va(e);if(!this._platform.isBrowser||1!==r.nodeType)return et(null);const s=function ph(n){if(function AA(){if(null==S1){const n=typeof document<"u"?document.head:null;S1=!(!n||!n.createShadowRoot&&!n.attachShadow)}return S1}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new ht.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=Va(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Va(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Ac(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,i_),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,i_)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(yn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,i_),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,i_),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(xi),a.LFG(J1),a.LFG(ie,8),a.LFG(fM,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pM=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new a.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36($l))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const l0="cdk-high-contrast-black-on-white",r_="cdk-high-contrast-white-on-black",Mp="cdk-high-contrast-active";let iE=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,a.f3M)(Rc).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Mp,l0,r_),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Mp,l0):2===i&&e.add(Mp,r_)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(xi),a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wh=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(iE))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[wp]}),n})();var s_=B(1144);const c0=["addListener","removeListener"],mM=["addEventListener","removeEventListener"],o_=["on","off"];function Ba(n,t,e,i){if((0,Zi.m)(e)&&(i=e,e=void 0),i)return Ba(n,t,e).pipe(Ml(i));const[r,s]=function sE(n){return(0,Zi.m)(n.addEventListener)&&(0,Zi.m)(n.removeEventListener)}(n)?mM.map(c=>d=>n[c](t,d,e)):function rE(n){return(0,Zi.m)(n.addListener)&&(0,Zi.m)(n.removeListener)}(n)?c0.map(u0(n,t)):function d0(n){return(0,Zi.m)(n.on)&&(0,Zi.m)(n.off)}(n)?o_.map(u0(n,t)):[];if(!r&&(0,s_.z)(n))return(0,S.z)(c=>Ba(c,t,e))((0,zr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Ln.y(c=>{const d=(...p)=>c.next(1<p.length?p:p[0]);return r(d),()=>s(d)})}function u0(n,t){return e=>i=>n[e](t,i)}var h0=B(4408);const $u={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=$u;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Ti.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=$u;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=$u;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var oE=B(7565);new class aE extends oE.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class f0 extends h0.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=$u.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&($u.cancelAnimationFrame(e),t._scheduled=void 0)}});let p0,cE=1;const xp={};function m0(n){return n in xp&&(delete xp[n],!0)}const g0={setImmediate(n){const t=cE++;return xp[t]=!0,p0||(p0=Promise.resolve()),p0.then(()=>m0(t)&&n()),t},clearImmediate(n){m0(n)}},{setImmediate:dE,clearImmediate:hE}=g0,kp={setImmediate(...n){const{delegate:t}=kp;return(t?.setImmediate||dE)(...n)},clearImmediate(n){const{delegate:t}=kp;return(t?.clearImmediate||hE)(n)},delegate:void 0};new class pE extends oE.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class fE extends h0.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=kp.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(kp.clearImmediate(e),t._scheduled=void 0)}});var vF=B(3532);function _0(n,t=bp.z){return function gE(n){return(0,wn.e)((t,e)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const _=r;r=null,e.next(_)}c&&e.complete()},p=()=>{s=null,c&&e.complete()};t.subscribe((0,Vn.x)(e,_=>{i=!0,r=_,s||(0,zr.Xf)(n(_)).subscribe(s=(0,Vn.x)(e,d,p))},()=>{c=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function vM(n=0,t,e=bp.P){let i=-1;return null!=t&&((0,vF.K)(t)?e=t:i=t),new Ln.y(r=>{let s=function yM(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}const bM=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function qi(){return(0,a.f3M)(ie)}}),_E=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let $o=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new a.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function CM(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?_E.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(bM,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),Eh=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ht.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ln.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(_0(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):et()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(_n(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Va(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ba(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(xi),a.LFG(ie,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a_=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new ht.x,this._elementScrolled=new Ln.y(c=>this.ngZone.runOutsideAngular(()=>Ba(this.elementRef.nativeElement,"scroll").pipe(yn(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=fh()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==fh()?e.left=e.right:1==fh()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;I1()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==fh()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:c&&1==fh()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Eh),a.Y36(a.R0b),a.Y36($o,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Pp=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new ht.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(_0(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(xi),a.LFG(a.R0b),a.LFG(ie,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),yE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Rp,zu,Rp,zu]}),n})();class c_{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Gl extends c_{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class Dh extends c_{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class xM extends c_{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class Np{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Gl?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Dh?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof xM?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class v0 extends Np{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Pc=(()=>{class n extends Np{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(ie))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),Gu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var zo=B(6451);const C0=I1();class bE{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ki(-this._previousScrollPosition.left),t.style.top=ki(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),C0&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),C0&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class FM{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class CE{enable(){}disable(){}attach(){}}function w0(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function wE(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class LM{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();w0(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let VM=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new CE,this.close=c=>new FM(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new bE(this._viewportRuler,this._document),this.reposition=c=>new LM(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Eh),a.LFG(Pp),a.LFG(a.R0b),a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class u_{constructor(t){if(this.scrollStrategy=new CE,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class BM{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let EE=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UM=(()=>{class n extends EE{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const d=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ie),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HM=(()=>{class n extends EE{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Ac(s)},this._clickListener=s=>{const c=Ac(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const b=p[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(c)||b.overlayElement.contains(d))break;const D=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(s)):D.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ie),a.LFG(xi),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d_=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||mh()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),mh()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ie),a.LFG(xi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ih{constructor(t,e,i,r,s,c,d,p,_,b=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new ht.x,this._attachments=new ht.x,this._detachments=new ht.x,this._locationChanges=Ti.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new ht.x,this._outsidePointerEvents=new ht.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(jt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ki(this._config.width),t.height=ki(this._config.height),t.minWidth=ki(this._config.minWidth),t.minHeight=ki(this._config.minHeight),t.maxWidth=ki(this._config.maxWidth),t.maxHeight=ki(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Cp(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(yn((0,zo.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const E0="cdk-overlay-connected-position-bounding-box",DE=/([A-Za-z%]+)$/;class D0{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ht.x,this._resizeSubscription=Ti.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(E0),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(t,r,d),_=this._getOverlayPoint(p,e,d),b=this._getOverlayFit(_,e,i,d);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(b,_,i)?s.push({position:d,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<b.visibleArea)&&(c={overlayFit:b,overlayPoint:_,originPoint:p,position:d,overlayRect:e})}if(s.length){let d=null,p=-1;for(const _ of s){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>p&&(p=b,d=_)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Nc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(E0),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?c:d}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=S0(e);let{x:c,y:d}=t,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(c+=p),_&&(d+=_);let M=0-d,P=d+s.height-i.height,L=this._subtractOverflows(s.width,0-c,c+s.width-i.width),K=this._subtractOverflows(s.height,M,P),se=L*K;return{visibleArea:se,isCompletelyWithinViewport:s.width*s.height===se,fitsInViewportVertically:K===s.height,fitsInViewportHorizontally:L==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,c=I0(this._overlayRef.getConfig().minHeight),d=I0(this._overlayRef.getConfig().minWidth),_=t.fitsInViewportHorizontally||null!=d&&d<=s;return(t.fitsInViewportVertically||null!=c&&c<=r)&&_}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=S0(e),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),p=Math.max(s.top-i.top-t.y,0),_=Math.max(s.left-i.left-t.x,0);let b=0,D=0;return b=r.width<=s.width?_||-c:t.x<this._viewportMargin?s.left-i.left-t.x:0,D=r.height<=s.height?p||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:b,y:D},{x:t.x+b,y:t.y+D}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new BM(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,c,d,b,D,M;if("top"===e.overlayY)c=t.y,s=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const P=Math.min(i.bottom-t.y+i.top,t.y),L=this._lastBoundingBoxSize.height;s=2*P,c=t.y-P,s>L&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-L/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)M=i.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)D=t.x,b=i.right-t.x;else{const P=Math.min(i.right-t.x+i.left,t.x),L=this._lastBoundingBoxSize.width;b=2*P,D=t.x-P,b>L&&!this._isInitialRender&&!this._growAfterOpen&&(D=t.x-L/2)}return{top:c,left:D,bottom:d,right:M,width:b,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=ki(i.height),r.top=ki(i.top),r.bottom=ki(i.bottom),r.width=ki(i.width),r.left=ki(i.left),r.right=ki(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ki(s)),c&&(r.maxWidth=ki(c))}this._lastBoundingBoxSize=i,Nc(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Nc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Nc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();Nc(i,this._getExactOverlayY(e,t,b)),Nc(i,this._getExactOverlayX(e,t,b))}else i.position="static";let d="",p=this._getOffset(e,"x"),_=this._getOffset(e,"y");p&&(d+=`translateX(${p}px) `),_&&(d+=`translateY(${_}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=ki(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=ki(c.maxWidth):s&&(i.maxWidth="")),Nc(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ki(s.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ki(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wE(t,i),isOriginOutsideView:w0(t,i),isOverlayClipped:wE(e,i),isOverlayOutsideView:w0(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Cp(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Nc(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function I0(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(DE);return e&&"px"!==e?null:parseFloat(t)}return n||null}function S0(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const h_="cdk-global-overlay-wrapper";class T0{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(h_),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),b=this._xPosition,D=this._xOffset,M="rtl"===this._overlayRef.getConfig().direction;let P="",L="",K="";p?K="flex-start":"center"===b?(K="center",M?L=D:P=D):M?"left"===b||"end"===b?(K="flex-end",P=D):("right"===b||"start"===b)&&(K="flex-start",L=D):"left"===b||"start"===b?(K="flex-start",P=D):("right"===b||"end"===b)&&(K="flex-end",L=D),t.position=this._cssPosition,t.marginLeft=p?"0":P,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":L,e.justifyContent=K,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(h_),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Wu=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new T0}flexibleConnectedTo(e){return new D0(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pp),a.LFG(ie),a.LFG(xi),a.LFG(d_))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zM=0,As=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,D,M,P){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=_,this._directionality=b,this._location=D,this._outsideClickDispatcher=M,this._animationsModuleType=P}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new u_(e);return c.direction=c.direction||this._directionality.value,new Ih(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+zM++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new v0(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(VM),a.LFG(d_),a.LFG(a._Vd),a.LFG(Wu),a.LFG(UM),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(ie),a.LFG($o),a.LFG(Ve),a.LFG(HM),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const TE={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[As],useFactory:function SE(n){return()=>n.scrollStrategies.reposition()}};let Lp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[As,TE],imports:[Rp,Gu,yE,yE]}),n})();function GM(n,t){}class f_{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let Zu=(()=>{class n extends Np{constructor(e,i,r,s,c,d,p,_){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=c,this._ngZone=d,this._overlayRef=p,this._focusMonitor=_,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>{this._portalOutlet.hasAttached();const D=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),D},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=_p(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=_p();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=_p())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Bu),a.Y36(ie,8),a.Y36(f_),a.Y36(Oc),a.Y36(a.R0b),a.Y36(Ih),a.Y36($l))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&a.Gf(Pc,7),2&e){let r;a.iGM(r=a.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&a.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&a.YNc(0,GM,0,0,"ng-template",0)},dependencies:[Pc],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class A0{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new ht.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!La(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const Vp=new a.OlP("DialogScrollStrategy"),p_=new a.OlP("DialogData"),wi=new a.OlP("DefaultDialogConfig"),AE={provide:Vp,deps:[As],useFactory:function NF(n){return()=>n.scrollStrategies.block()}};let ME=0,xE=(()=>{class n{constructor(e,i,r,s,c,d){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ht.x,this._afterOpenedAtThisLevel=new ht.x,this._ariaHiddenElements=new Map,this.afterAllClosed=yr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ai(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new f_,...i}).id=i.id||"cdk-dialog-"+ME++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),c=this._overlay.create(s),d=new A0(c,i),p=this._attachContainer(c,d,i);return d.containerInstance=p,this._attachDialogContent(e,d,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){m_(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){m_(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),m_(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new u_({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,c=[{provide:f_,useValue:r},{provide:A0,useValue:i},{provide:Ih,useValue:e}];let d;r.container?"function"==typeof r.container?d=r.container:(d=r.container.type,c.push(...r.container.providers(r))):d=Zu;const p=new Gl(d,r.viewContainerRef,a.zs3.create({parent:s||this._injector,providers:c}),r.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,i,r,s){if(e instanceof a.Rgc){const c=this._createInjector(s,i,r,void 0);let d={$implicit:s.data,dialogRef:i};s.templateContext&&(d={...d,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new Dh(e,null,d,c))}else{const c=this._createInjector(s,i,r,this._injector),d=r.attachComponentPortal(new Gl(e,s.viewContainerRef,c,s.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(e,i,r,s){const c=e.injector||e.viewContainerRef?.injector,d=[{provide:p_,useValue:e.data},{provide:A0,useValue:i}];return e.providers&&("function"==typeof e.providers?d.push(...e.providers(i,e,r)):d.push(...e.providers)),e.direction&&(!c||!c.get($o,null,a.XFs.Optional))&&d.push({provide:$o,useValue:{value:e.direction,change:et()}}),a.zs3.create({parent:c||s,providers:d})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,c)=>{s?c.setAttribute("aria-hidden",s):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(As),a.LFG(a.zs3),a.LFG(wi,8),a.LFG(n,12),a.LFG(d_),a.LFG(Vp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function m_(n,t){let e=n.length;for(;e--;)t(n[e])}let kE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[xE,AE],imports:[Lp,Gu,wh,Gu]}),n})();const OE=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function __(){return!0}});let hn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!mh()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(iE),a.LFG(OE,8),a.LFG(ie))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Rp,Rp]}),n})();function Sh(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Bn(t)}}}function Th(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Bp(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Bn(t)}}}function PE(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}const NE=new a.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function YM(){return(0,a.f3M)(a.soG)}});class ar{constructor(){this._localeChanges=new ht.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const qu=new a.OlP("mat-date-formats"),KM=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function FE(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let $F=(()=>{class n extends ar{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return FE(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return FE(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return FE(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(KM.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(NE,8),a.LFG(xi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const zF={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let GF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:ar,useClass:$F}]}),n})(),LE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:qu,useValue:zF}],imports:[GF]}),n})(),VE=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Wl(n,t,e){n.nativeElement.classList.toggle(t,e)}let v_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[hn,hn]}),n})();class QM{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const UE={enterDuration:225,exitDuration:150},R0=gp({passive:!0}),O0=["mousedown","touchstart"],HE=["mouseup","mouseleave","touchend","touchcancel"];class JM{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Va(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...UE,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function Up(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,p=e-r.top,_=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=d-c+"px",b.style.top=p-c+"px",b.style.height=2*c+"px",b.style.width=2*c+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b);const D=window.getComputedStyle(b),P=D.transitionDuration,L="none"===D.transitionProperty||"0s"===P||"0s, 0s"===P,K=new QM(this,b,i,L);b.style.transform="scale3d(1, 1, 1)",K.state=0,i.persistent||(this._mostRecentTransientRipple=K);let se=null;return!L&&(_||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Oe=()=>this._finishRippleTransition(K),Ze=()=>this._destroyRipple(K);b.addEventListener("transitionend",Oe),b.addEventListener("transitioncancel",Ze),se={onTransitionEnd:Oe,onTransitionCancel:Ze}}),this._activeRipples.set(K,se),(L||!_)&&this._finishRippleTransition(K),K}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...UE,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Va(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(O0))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(HE),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Uu(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Hu(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,R0)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(O0.forEach(t=>{this._triggerElement.removeEventListener(t,this,R0)}),this._pointerUpEventsRegistered&&HE.forEach(t=>{this._triggerElement.removeEventListener(t,this,R0)}))}}const ex=new a.OlP("mat-ripple-global-options");let Hp=(()=>{class n{constructor(e,i,r,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new JM(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(xi),a.Y36(ex,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),P0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[hn,hn]}),n})(),$E=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[hn]}),n})();class WE{}const Zl="*";function ql(n,t){return{type:7,name:n,definitions:t,options:{}}}function xr(n,t=null){return{type:4,styles:t,timings:n}}function ZE(n,t=null){return{type:3,steps:n,options:t}}function qE(n,t=null){return{type:2,steps:n,options:t}}function Dn(n){return{type:6,styles:n,offset:null}}function cs(n,t,e){return{type:0,name:n,styles:t,options:e}}function N0(n){return{type:5,steps:n}}function kr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function YE(n=null){return{type:9,options:n}}function KE(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function b_(n){Promise.resolve().then(n)}class Ah{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){b_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class C_{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?b_(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function ax(n,t){}const Fc={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},lx={dialogContainer:ql("dialogContainer",[cs("void, exit",Dn({opacity:0,transform:"scale(0.7)"})),cs("enter",Dn({transform:"none"})),kr("* => enter",ZE([xr("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Dn({transform:"none",opacity:1})),KE("@*",YE(),{optional:!0})]),Fc),kr("* => void, * => exit",ZE([xr("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Dn({opacity:0})),KE("@*",YE(),{optional:!0})]),Fc)])};class jp{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Fc.params.enterAnimationDuration,this.exitAnimationDuration=Fc.params.exitAnimationDuration}}let Mh=(()=>{class n extends Zu{constructor(e,i,r,s,c,d,p,_){super(e,i,r,s,c,d,p,_),this._animationStateChanged=new a.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Bu),a.Y36(ie,8),a.Y36(jp),a.Y36(Oc),a.Y36(a.R0b),a.Y36(Ih),a.Y36($l))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],features:[a.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),XE=(()=>{class n extends Mh{constructor(e,i,r,s,c,d,p,_,b){super(e,i,r,s,c,d,p,b),this._changeDetectorRef=_,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Fc.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Fc.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Bu),a.Y36(ie,8),a.Y36(jp),a.Y36(Oc),a.Y36(a.R0b),a.Y36(Ih),a.Y36(a.sBO),a.Y36($l))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&a.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(a.Ikx("id",i._config.id),a.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),a.d8E("@dialogContainer",i._getAnimationState()))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&a.YNc(0,ax,0,0,"ng-template",0)},dependencies:[Pc],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[lx.dialogContainer]}}),n})();class xh{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new ht.x,this._beforeClosed=new ht.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(_n(r=>"opened"===r.state),jt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(_n(r=>"closed"===r.state),jt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,zo.T)(this.backdropClick(),this.keydownEvents().pipe(_n(r=>27===r.keyCode&&!this.disableClose&&!La(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),cx(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(_n(e=>"closing"===e.state),jt(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function cx(n,t,e){return n._closeInteractionType=t,n.close(e)}const $p=new a.OlP("MatDialogData"),L0=new a.OlP("mat-dialog-default-options"),JE=new a.OlP("mat-dialog-scroll-strategy"),tD={provide:JE,deps:[As],useFactory:function ux(n){return()=>n.scrollStrategies.block()}};let V0=0,nD=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,D){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ht.x,this._afterOpenedAtThisLevel=new ht.x,this._idPrefix="mat-dialog-",this.afterAllClosed=yr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ai(void 0))),this._scrollStrategy=d,this._dialog=i.get(xE)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new jp,...i}).id=i.id||`${this._idPrefix}${V0++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:jp,useValue:i},{provide:f_,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,d,p)=>(r=new this._dialogRefConstructor(c,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Yu=(()=>{class n extends nD{constructor(e,i,r,s,c,d,p,_){super(e,i,s,d,p,c,xh,XE,$p,_)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(As),a.LFG(a.zs3),a.LFG(Ve,8),a.LFG(L0,8),a.LFG(JE),a.LFG(n,12),a.LFG(d_),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),iD=0,w_=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=rD(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){cx(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(xh,8),a.Y36(a.SBq),a.Y36(Yu))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&a.NdJ("click",function(s){return i._onButtonClick(s)}),2&e&&a.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[a.TTD]}),n})(),B0=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+iD++}ngOnInit(){this._dialogRef||(this._dialogRef=rD(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(xh,8),a.Y36(a.SBq),a.Y36(Yu))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&a.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),U0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),H0=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function rD(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let sD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Yu,tD],imports:[kE,Lp,Gu,hn,hn]}),n})();const eL=["mat-button",""],oD=["*"],nL=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],iL=Th(Sh(Bp(class{constructor(n){this._elementRef=n}})));let ao=(()=>{class n extends iL{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of nL)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36($l),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&a.Gf(Hp,5),2&e){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:eL,ngContentSelectors:oD,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&e&&(a.xp6(2),a.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Hp],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),j0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[P0,hn,hn]}),n})(),hx=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(xh),a.Y36($p))},n.\u0275cmp=a.Xpm({type:n,selectors:[["dialog-content-example-dialog"]],decls:23,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,i){1&e&&(a.TgZ(0,"h2",0),a._uU(1,"Please Verify Your Email"),a.qZA(),a.TgZ(2,"mat-dialog-content",1)(3,"p")(4,"strong"),a._uU(5),a._UZ(6,"br"),a.qZA(),a._uU(7," Your Email id : "),a.TgZ(8,"strong"),a._uU(9),a.qZA(),a._uU(10," is not verified yet."),a._UZ(11,"br"),a.TgZ(12,"strong"),a._uU(13,"You need to verify your email. You will not able to use system untill you verify your email."),a.qZA(),a._UZ(14,"br"),a._uU(15," We will sent you an email with an "),a.TgZ(16,"strong"),a._uU(17,"verification link on your registered email."),a.qZA(),a._UZ(18,"br"),a._uU(19," Please press procced to verify your email. "),a.qZA()(),a.TgZ(20,"mat-dialog-actions",2)(21,"button",3),a._uU(22,"Procced"),a.qZA()()),2&e&&(a.xp6(5),a.hij("Hello ",i.data.name||"User",","),a.xp6(4),a.Oqu(i.data.email),a.xp6(12),a.Q6J("mat-dialog-close",!0))},dependencies:[w_,B0,U0,H0,ao],encapsulation:2}),n})(),fx=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(xh),a.Y36($p))},n.\u0275cmp=a.Xpm({type:n,selectors:[["dialog-content-example-dialog"]],decls:14,vars:0,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","","mat-dialog-close","","routerLink",""]],template:function(e,i){1&e&&(a.TgZ(0,"h2",0),a._uU(1,"Verification Email sent"),a.qZA(),a.TgZ(2,"mat-dialog-content",1)(3,"p"),a._uU(4," We have sent an verificaion email on your registered email."),a._UZ(5,"br"),a.TgZ(6,"strong"),a._uU(7,"Please click on verificaion link to verify and Login again."),a.qZA(),a._UZ(8,"br")(9,"br"),a._uU(10," Note: You will not able to use system untill you verify your email. "),a.qZA()(),a.TgZ(11,"mat-dialog-actions",2)(12,"button",3),a._uU(13,"Close"),a.qZA()())},dependencies:[Oa,w_,B0,U0,H0,ao],encapsulation:2}),n})(),px=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(xh),a.Y36($p))},n.\u0275cmp=a.Xpm({type:n,selectors:[["dialog-content-example-dialog"]],decls:10,vars:0,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","","mat-dialog-close","","routerLink","/login"]],template:function(e,i){1&e&&(a.TgZ(0,"h2",0),a._uU(1,"Access Denied by Admin."),a.qZA(),a.TgZ(2,"mat-dialog-content",1)(3,"p"),a._uU(4," You have no access fot this tool."),a._UZ(5,"br"),a._uU(6," Please contact to Admin. "),a.qZA()(),a.TgZ(7,"mat-dialog-actions",2)(8,"button",3),a._uU(9,"Close"),a.qZA()())},dependencies:[Oa,w_,B0,U0,H0,ao],encapsulation:2}),n})();var Tt=B(5813);function $0(){return(0,wn.e)((n,t)=>{let e,i=!1;n.subscribe((0,Vn.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var yt,Yi=B(2011),z0=(B(5881),B(3942)),we=B(5861),aD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$a={},E_=E_||{},Gt=aD||self;function zp(){}function D_(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function I_(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var G0="closure_uid_"+(1e9*Math.random()>>>0),mx=0;function gx(n,t,e){return n.call.apply(n.bind,arguments)}function _x(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Bi(n,t,e){return(Bi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gx:_x).apply(null,arguments)}function S_(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ki(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function vr(){this.s=this.s,this.o=this.o}vr.prototype.s=!1,vr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function lD(n){Object.prototype.hasOwnProperty.call(n,G0)&&n[G0]||(n[G0]=++mx)}(this)},vr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Gp=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function Ku(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function cD(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(D_(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let c=0;c<s;c++)n[r+c]=i[c]}else n.push(i)}}function Rr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Rr.prototype.h=function(){this.defaultPrevented=!0};var vx=function(){if(!Gt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Gt.addEventListener("test",zp,t),Gt.removeEventListener("test",zp,t)}catch{}return n}();function Qu(n){return/^[\s\xa0]*$/.test(n)}var Wp=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function W0(n,t){return n<t?-1:n>t?1:0}function T_(){var n=Gt.navigator;return n&&(n=n.userAgent)?n:""}function Go(n){return-1!=T_().indexOf(n)}function A_(n){return A_[" "](n),n}A_[" "]=zp;var Rh,n,uD=Go("Opera"),kh=Go("Trident")||Go("MSIE"),dD=Go("Edge"),hD=dD||kh,M_=Go("Gecko")&&!(-1!=T_().toLowerCase().indexOf("webkit")&&!Go("Edge"))&&!(Go("Trident")||Go("MSIE"))&&!Go("Edge"),q0=-1!=T_().toLowerCase().indexOf("webkit")&&!Go("Edge");function Y0(){var n=Gt.document;return n?n.documentMode:void 0}e:{var Zp="",K0=(n=T_(),M_?/rv:([^\);]+)(\)|;)/.exec(n):dD?/Edge\/([\d\.]+)/.exec(n):kh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):q0?/WebKit\/(\S+)/.exec(n):uD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(K0&&(Zp=K0?K0[1]:""),kh){var Q0=Y0();if(null!=Q0&&Q0>parseFloat(Zp)){Rh=String(Q0);break e}}Rh=Zp}var bx={};var fD=Gt.document&&kh&&(Y0()||parseInt(Rh,10))||void 0;function Oh(n,t){if(Rr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(M_){e:{try{A_(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:pD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Oh.X.h.call(this)}}Ki(Oh,Rr);var pD={2:"touch",3:"pen",4:"mouse"};Oh.prototype.h=function(){Oh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ph="closure_listenable_"+(1e6*Math.random()|0),wx=0;function mD(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++wx,this.ba=this.ea=!1}function qp(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function X0(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function J0(n){const t={};for(const e in n)t[e]=n[e];return t}const gD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Or(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<gD.length;s++)e=gD[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Yl(n){this.src=n,this.g={},this.h=0}function eb(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=Gp(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(qp(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function tb(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==t&&s.capture==!!e&&s.ha==i)return r}return-1}Yl.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=tb(n,t,i,r);return-1<c?(t=n[c],e||(t.ea=!1)):((t=new mD(t,this.src,s,!!i,r)).ea=e,n.push(t)),t};var _D="closure_lm_"+(1e6*Math.random()|0),yD={};function nb(n,t,e,i,r){if(i&&i.once)return vD(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)nb(n,t[s],e,i,r);return null}return e=Kp(e),n&&n[Ph]?n.N(t,e,I_(i)?!!i.capture:!!i,r):ib(n,t,e,!1,i,r)}function ib(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var c=I_(r)?!!r.capture:!!r,d=ob(n);if(d||(n[_D]=d=new Yl(n)),(e=d.add(t,e,i,c,s)).proxy)return e;if(i=function Yp(){const t=Ex;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)vx||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(sb(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function vD(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)vD(n,t[s],e,i,r);return null}return e=Kp(e),n&&n[Ph]?n.O(t,e,I_(i)?!!i.capture:!!i,r):ib(n,t,e,!0,i,r)}function R_(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)R_(n,t[s],e,i,r);else i=I_(i)?!!i.capture:!!i,e=Kp(e),n&&n[Ph]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=tb(s=n.g[t],e,i,r))&&(qp(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=ob(n))&&(t=n.g[t.toString()],n=-1,t&&(n=tb(t,e,i,r)),(e=-1<n?t[n]:null)&&rb(e))}function rb(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[Ph])eb(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(sb(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=ob(t))?(eb(e,n),0==e.h&&(e.src=null,t[_D]=null)):qp(n)}}}function sb(n){return n in yD?yD[n]:yD[n]="on"+n}function Ex(n,t){if(n.ba)n=!0;else{t=new Oh(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&rb(n),n=e.call(i,t)}return n}function ob(n){return(n=n[_D])instanceof Yl?n:null}var ab="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kp(n){return"function"==typeof n?n:(n[ab]||(n[ab]=function(t){return n.handleEvent(t)}),n[ab])}function Qi(){vr.call(this),this.i=new Yl(this),this.P=this,this.I=null}function lr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Rr(t,n);else if(t instanceof Rr)t.target=t.target||n;else{var r=t;Or(t=new Rr(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];r=Xu(c,i,!0,t)&&r}if(r=Xu(c=t.g=n,i,!0,t)&&r,r=Xu(c,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Xu(c=t.g=e[s],i,!1,t)&&r}function Xu(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ba&&c.capture==e){var d=c.listener,p=c.ha||c.src;c.ea&&eb(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}Ki(Qi,vr),Qi.prototype[Ph]=!0,Qi.prototype.removeEventListener=function(n,t,e,i){R_(this,n,t,e,i)},Qi.prototype.M=function(){if(Qi.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)qp(e[i]);delete n.g[t],n.h--}}this.I=null},Qi.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Qi.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Qp=Gt.JSON.stringify;function aL(){var n=ID;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var O_,CD=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new wD,n=>n.reset());class wD{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Nh(n){Gt.setTimeout(()=>{throw n},0)}function ED(n,t){O_||function lb(){var n=Gt.Promise.resolve(void 0);O_=function(){n.then(lL)}}(),DD||(O_(),DD=!0),ID.add(n,t)}var DD=!1,ID=new class bD{constructor(){this.h=this.g=null}add(t,e){const i=CD.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function lL(){for(var n;n=aL();){try{n.h.call(n.g)}catch(e){Nh(e)}var t=CD;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}DD=!1}function P_(n,t){Qi.call(this),this.h=n||1,this.g=t||Gt,this.j=Bi(this.lb,this),this.l=Date.now()}function cb(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function ub(n,t,e){if("function"==typeof n)e&&(n=Bi(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Bi(n.handleEvent,n)}return 2147483647<Number(t)?-1:Gt.setTimeout(n,t||0)}function db(n){n.g=ub(()=>{n.g=null,n.i&&(n.i=!1,db(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Ki(P_,Qi),(yt=P_.prototype).ca=!1,yt.R=null,yt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),lr(this,"tick"),this.ca&&(cb(this),this.start()))}},yt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yt.M=function(){P_.X.M.call(this),cb(this),delete this.g};class SD extends vr{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:db(this)}M(){super.M(),this.g&&(Gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xp(n){vr.call(this),this.h=n,this.g={}}Ki(Xp,vr);var hb=[];function fb(n,t,e,i){Array.isArray(e)||(e&&(hb[0]=e.toString()),e=hb);for(var r=0;r<e.length;r++){var s=nb(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function TD(n){X0(n.g,function(t,e){this.g.hasOwnProperty(e)&&rb(t)},n),n.g={}}function N_(){this.g=!0}function Ju(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function xD(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return Qp(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Xp.prototype.M=function(){Xp.X.M.call(this),TD(this)},Xp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},N_.prototype.Aa=function(){this.g=!1},N_.prototype.info=function(){};var Lc={},kD=null;function F_(){return kD=kD||new Qi}function Ix(n){Rr.call(this,Lc.Pa,n)}function Fh(n){const t=F_();lr(t,new Ix(t))}function Sx(n,t){Rr.call(this,Lc.STAT_EVENT,n),this.stat=t}function us(n){const t=F_();lr(t,new Sx(t,n))}function Tx(n,t){Rr.call(this,Lc.Qa,n),this.size=t}function L_(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Gt.setTimeout(function(){n()},t)}Lc.Pa="serverreachability",Ki(Ix,Rr),Lc.STAT_EVENT="statevent",Ki(Sx,Rr),Lc.Qa="timingevent",Ki(Tx,Rr);var pb={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ax={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function RD(){}function Jp(){}RD.prototype.h=null;var U_,V_={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function B_(){Rr.call(this,"d")}function Lh(){Rr.call(this,"c")}function em(){}function H_(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new Xp(this),this.O=OD,this.T=new P_(n=hD?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new j_}function j_(){this.i=null,this.g="",this.h=!1}Ki(B_,Rr),Ki(Lh,Rr),Ki(em,RD),em.prototype.g=function(){return new XMLHttpRequest},em.prototype.i=function(){return{}},U_=new em;var OD=45e3,mb={},tm={};function PD(n,t,e){n.K=1,n.v=W_(Xi(t)),n.s=e,n.P=!0,ND(n,null)}function ND(n,t){n.F=Date.now(),nm(n),n.A=Xi(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),q_(e.i,"t",i),n.C=0,e=n.l.H,n.h=new j_,n.g=$x(n.l,e?t:null,!n.s),0<n.N&&(n.L=new SD(Bi(n.La,n,n.g),n.N)),fb(n.S,n.g,"readystatechange",n.ib),t=n.H?J0(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),Fh(),function AD(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),p=0;p<d.length;p++){var _=d[p].split("=");if(1<_.length){var b=_[0];_=_[1];var D=b.split("_");c=2<=D.length&&"type"==D[1]?c+(b+"=")+_+"&":c+(b+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function FD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function LD(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=$_(n,e),r==tm){4==t&&(n.o=4,us(14),i=!1),Ju(n.j,n.m,null,"[Incomplete Response]");break}if(r==mb){n.o=4,us(15),Ju(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Ju(n.j,n.m,r,null),_b(n,r)}FD(n)&&r!=tm&&r!=mb&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,us(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),om(t),t.K=!0,us(11))):(Ju(n.j,n.m,e,"[Invalid Chunked Response]"),ed(n),z_(n))}function $_(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?tm:(e=Number(t.substring(e,i)),isNaN(e)?mb:(i+=1)+e>t.length?tm:(t=t.substr(i,e),n.C=i+e,t))}function nm(n){n.V=Date.now()+n.O,xx(n,n.O)}function xx(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=L_(Bi(n.gb,n),t)}function gb(n){n.B&&(Gt.clearTimeout(n.B),n.B=null)}function z_(n){0==n.l.G||n.I||X_(n.l,n)}function ed(n){gb(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,cb(n.T),TD(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function _b(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||Cb(e.h,n)))if(!n.J&&Cb(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;zh(e),Mb(e)}sm(e),us(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=L_(Bi(e.cb,e),6e3));if(1>=WD(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else Gh(e,11)}else if((n.J||e.g==n)&&zh(e),!Qu(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let _=r[t];if(e.T=_[0],_=_[1],2==e.G)if("c"==_[0]){e.I=_[1],e.ka=_[2];const b=_[3];null!=b&&(e.ma=b,e.j.info("VER="+e.ma));const D=_[4];null!=D&&(e.Ca=D,e.j.info("SVER="+e.Ca));const M=_[5];null!=M&&"number"==typeof M&&0<M&&(e.J=i=1.5*M,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const P=n.g;if(P){const L=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(L){var s=i.h;s.g||-1==L.indexOf("spdy")&&-1==L.indexOf("quic")&&-1==L.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(wb(s,s.h),s.h=null))}if(i.D){const K=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(i.za=K,mn(i.F,i.D,K))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var c=n;if((i=e).sa=jx(i,i.H?i.ka:null,i.V),c.J){ZD(i.h,c);var d=c,p=i.J;p&&d.setTimeout(p),d.B&&(gb(d),nm(d)),i.g=c}else xb(i);0<e.i.length&&id(e)}else"stop"!=_[0]&&"close"!=_[0]||Gh(e,7);else 3==e.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Gh(e,7):rI(e):"noop"!=_[0]&&e.l&&e.l.wa(_),e.A=0)}Fh()}catch{}}function VD(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(D_(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function cL(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(D_(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function kx(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(D_(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(yt=H_.prototype).setTimeout=function(n){this.O=n},yt.ib=function(n){n=n.target;const t=this.L;t&&3==Kl(n)?t.l():this.La(n)},yt.La=function(n){try{if(n==this.g)e:{const b=Kl(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>b)&&(3!=b||hD||this.g&&(this.h.h||this.g.fa()||tI(this.g)))){this.I||4!=b||7==t||Fh(),gb(this);var e=this.g.aa();this.Y=e;t:if(FD(this)){var i=tI(this.g);n="";var r=i.length,s=4==Kl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ed(this),z_(this);var c="";break t}this.h.i=new Gt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==e,function Dx(n,t,e,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.U,b,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qu(d)){var _=d;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,us(12),ed(this),z_(this);break e}Ju(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_b(this,e)}this.P?(LD(this,b,c),hD&&this.i&&3==b&&(fb(this.S,this.T,"tick",this.hb),this.T.start())):(Ju(this.j,this.m,c,null),_b(this,c)),4==b&&ed(this),this.i&&!this.I&&(4==b?X_(this.l,this):(this.i=!1,nm(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,us(12)):(this.o=0,us(13)),ed(this),z_(this)}}}catch{}},yt.hb=function(){if(this.g){var n=Kl(this.g),t=this.g.fa();this.C<t.length&&(gb(this),LD(this,n,t),this.i&&4!=n&&nm(this))}},yt.cancel=function(){this.I=!0,ed(this)},yt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function MD(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Fh(),us(17)),ed(this),this.o=2,z_(this)):xx(this,this.V-n)};var yb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vh(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Vh){this.h=void 0!==t?t:n.h,G_(this,n.j),this.s=n.s,this.g=n.g,Bh(this,n.m),this.l=n.l,t=n.i;var e=new Uh;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),UD(this,e),this.o=n.o}else n&&(e=String(n).match(yb))?(this.h=!!t,G_(this,e[1]||"",!0),this.s=td(e[2]||""),this.g=td(e[3]||"",!0),Bh(this,e[4]),this.l=td(e[5]||"",!0),UD(this,e[6]||"",!0),this.o=td(e[7]||"")):(this.h=!!t,this.i=new Uh(null,this.h))}function Xi(n){return new Vh(n)}function G_(n,t,e){n.j=e?td(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Bh(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function UD(n,t,e){t instanceof Uh?(n.i=t,function GD(n,t){t&&!n.j&&(Vc(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(vb(this,i),q_(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=im(t,Ox)),n.i=new Uh(t,n.h))}function mn(n,t,e){n.i.set(t,e)}function W_(n){return mn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function td(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function im(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Rx),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Rx(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Vh.prototype.toString=function(){var n=[],t=this.j;t&&n.push(im(t,Z_,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(im(t,Z_,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(im(e,"/"==e.charAt(0)?jD:HD,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",im(e,$D)),n.join("")};var Z_=/[#\/\?@]/g,HD=/[#\?:]/g,jD=/[#\?]/g,Ox=/[#\?@]/g,$D=/#/g;function Uh(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Vc(n){n.g||(n.g=new Map,n.h=0,n.i&&function BD(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function vb(n,t){Vc(n),t=Ms(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function zD(n,t){return Vc(n),t=Ms(n,t),n.g.has(t)}function q_(n,t,e){vb(n,t),0<e.length&&(n.i=null,n.g.set(Ms(n,t),Ku(e)),n.h+=e.length)}function Ms(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function za(n){this.l=n||Px,n=Gt.PerformanceNavigationTiming?0<(n=Gt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Gt.g&&Gt.g.Ga&&Gt.g.Ga()&&Gt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(yt=Uh.prototype).add=function(n,t){Vc(this),this.i=null,n=Ms(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},yt.forEach=function(n,t){Vc(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},yt.oa=function(){Vc(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},yt.W=function(n){Vc(this);let t=[];if("string"==typeof n)zD(this,n)&&(t=t.concat(this.g.get(Ms(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},yt.set=function(n,t){return Vc(this),this.i=null,zD(this,n=Ms(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},yt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},yt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=s;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var Px=10;function Nx(n){return!!n.h||!!n.g&&n.g.size>=n.j}function WD(n){return n.h?1:n.g?n.g.size:0}function Cb(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function wb(n,t){n.g?n.g.add(t):n.h=t}function ZD(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Eb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Ku(n.i)}function qD(){}function YD(){this.g=new qD}function Fx(n,t,e){const i=e||"";try{VD(n,function(r,s){let c=r;I_(r)&&(c=Qp(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Db(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function nd(n){this.l=n.ac||null,this.j=n.jb||!1}function rm(n,t){Qi.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Y_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}za.prototype.cancel=function(){if(this.i=Eb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},qD.prototype.stringify=function(n){return Gt.JSON.stringify(n,void 0)},qD.prototype.parse=function(n){return Gt.JSON.parse(n,void 0)},Ki(nd,RD),nd.prototype.g=function(){return new rm(this.l,this.j)},nd.prototype.i=function(n){return function(){return n}}({}),Ki(rm,Qi);var Y_=0;function Ib(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Hh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,jh(n)}function jh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(yt=rm.prototype).open=function(n,t){if(this.readyState!=Y_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,jh(this)},yt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Gt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},yt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hh(this)),this.readyState=Y_},yt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,jh(this)),this.g&&(this.readyState=3,jh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Gt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ib(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},yt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Hh(this):jh(this),3==this.readyState&&Ib(this)}},yt.Va=function(n){this.g&&(this.response=this.responseText=n,Hh(this))},yt.Ua=function(n){this.g&&(this.response=n,Hh(this))},yt.ga=function(){this.g&&Hh(this)},yt.setRequestHeader=function(n,t){this.v.append(n,t)},yt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},yt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(rm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var K_=Gt.JSON.parse;function ti(n){Qi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Sb,this.K=this.L=!1}Ki(ti,Qi);var Sb="",Lx=/^https?$/i,QD=["POST","PUT"];function JD(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,eI(n),Tb(n)}function eI(n){n.D||(n.D=!0,lr(n,"complete"),lr(n,"error"))}function Vx(n){if(n.h&&typeof E_<"u"&&(!n.C[1]||4!=Kl(n)||2!=n.aa()))if(n.v&&4==Kl(n))ub(n.Ha,0,n);else if(lr(n,"readystatechange"),4==Kl(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(yb)[1]||null;if(!r&&Gt.self&&Gt.self.location){var s=Gt.self.location.protocol;r=s.substr(0,s.length-1)}i=!Lx.test(r?r.toLowerCase():"")}e=i}if(e)lr(n,"complete"),lr(n,"success");else{n.m=6;try{var c=2<Kl(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",eI(n)}}finally{Tb(n)}}}function Tb(n,t){if(n.g){Ab(n);const e=n.g,i=n.C[0]?zp:null;n.g=null,n.C=null,t||lr(n,"ready");try{e.onreadystatechange=i}catch{}}}function Ab(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Gt.clearTimeout(n.A),n.A=null)}function Kl(n){return n.g?n.g.readyState:0}function tI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Sb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function nI(n){let t="";return X0(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function iI(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=nI(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):mn(n,t,e))}function Q_(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Bx(n){this.Ca=0,this.i=[],this.j=new N_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Q_("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Q_("baseRetryDelayMs",5e3,n),this.bb=Q_("retryDelaySeedMs",1e4,n),this.$a=Q_("forwardChannelMaxRetries",2,n),this.ta=Q_("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new za(n&&n.concurrentRequestLimit),this.Fa=new YD,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function rI(n){if(sI(n),3==n.G){var t=n.U++,e=Xi(n.F);mn(e,"SID",n.I),mn(e,"RID",t),mn(e,"TYPE","terminate"),$h(n,e),(t=new H_(n,n.j,t,void 0)).K=2,t.v=W_(Xi(e)),e=!1,Gt.navigator&&Gt.navigator.sendBeacon&&(e=Gt.navigator.sendBeacon(t.v.toString(),"")),!e&&Gt.Image&&((new Image).src=t.v,e=!0),e||(t.g=$x(t.l,null),t.g.da(t.v)),t.F=Date.now(),nm(t)}Hx(n)}function Mb(n){n.g&&(om(n),n.g.cancel(),n.g=null)}function sI(n){Mb(n),n.u&&(Gt.clearTimeout(n.u),n.u=null),zh(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Gt.clearTimeout(n.m),n.m=null)}function id(n){Nx(n.h)||n.m||(n.m=!0,ED(n.Ja,n),n.C=0)}function oI(n,t){var e;e=t?t.m:n.U++;const i=Xi(n.F);mn(i,"SID",n.I),mn(i,"RID",e),mn(i,"AID",n.T),$h(n,i),n.o&&n.s&&iI(i,n.o,n.s),e=new H_(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=Bc(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),wb(n.h,e),PD(e,i,t)}function $h(n,t){n.ia&&X0(n.ia,function(e,i){mn(t,i,e)}),n.l&&VD({},function(e,i){mn(t,i,e)})}function Bc(n,t,e){e=Math.min(n.i.length,e);var i=n.l?Bi(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let p=0;p<e;p++){let _=r[p].h;const b=r[p].g;if(_-=s,0>_)s=Math.max(0,r[p].h-100),d=!1;else try{Fx(b,c,"req"+_+"_")}catch{i&&i(b)}}if(d){i=c.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function xb(n){n.g||n.u||(n.Z=1,ED(n.Ia,n),n.A=0)}function sm(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=L_(Bi(n.Ia,n),am(n,n.A)),n.A++,0))}function om(n){null!=n.B&&(Gt.clearTimeout(n.B),n.B=null)}function aI(n){n.g=new H_(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=Xi(n.sa);mn(t,"RID","rpc"),mn(t,"SID",n.I),mn(t,"CI",n.L?"0":"1"),mn(t,"AID",n.T),mn(t,"TYPE","xmlhttp"),$h(n,t),n.o&&n.s&&iI(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=W_(Xi(t)),e.s=null,e.P=!0,ND(e,n)}function zh(n){null!=n.v&&(Gt.clearTimeout(n.v),n.v=null)}function X_(n,t){var e=null;if(n.g==t){zh(n),om(n),n.g=null;var i=2}else{if(!Cb(n.h,t))return;e=t.D,ZD(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;lr(i=F_(),new Tx(i,e)),id(n)}else xb(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function Ux(n,t){return!(WD(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=L_(Bi(n.Ja,n,t),am(n,n.C)),n.C++,0)))}(n,t)||2==i&&sm(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:Gh(n,5);break;case 4:Gh(n,10);break;case 3:Gh(n,6);break;default:Gh(n,2)}}function am(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function Gh(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=Bi(n.kb,n);e||(e=new Vh("//www.google.com/images/cleardot.gif"),Gt.location&&"http"==Gt.location.protocol||G_(e,"https"),W_(e)),function KD(n,t){const e=new N_;if(Gt.Image){const i=new Image;i.onload=S_(Db,e,i,"TestLoadImage: loaded",!0,t),i.onerror=S_(Db,e,i,"TestLoadImage: error",!1,t),i.onabort=S_(Db,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=S_(Db,e,i,"TestLoadImage: timeout",!1,t),Gt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else us(2);n.G=0,n.l&&n.l.va(t),Hx(n),sI(n)}function Hx(n){if(n.G=0,n.la=[],n.l){const t=Eb(n.h);(0!=t.length||0!=n.i.length)&&(cD(n.la,t),cD(n.la,n.i),n.h.i.length=0,Ku(n.i),n.i.length=0),n.l.ua()}}function jx(n,t,e){var i=e instanceof Vh?Xi(e):new Vh(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),Bh(i,i.m);else{var r=Gt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Vh(null,void 0);i&&G_(s,i),t&&(s.g=t),r&&Bh(s,r),e&&(s.l=e),i=s}return t=n.za,(e=n.D)&&t&&mn(i,e,t),mn(i,"VER",n.ma),$h(n,i),i}function $x(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ti(e&&n.Da&&!n.ra?new nd({jb:!0}):n.ra)).Ka(n.H),t}function kb(){}function J_(){if(kh&&!(10<=Number(fD)))throw Error("Environmental error: no available transport.")}function xs(n,t){Qi.call(this),this.g=new Bx(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!Qu(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Qu(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new rd(this)}function lI(n){B_.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function cI(){Lh.call(this),this.status=1}function rd(n){this.g=n}(yt=ti.prototype).Ka=function(n){this.L=n},yt.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():U_.g(),this.C=function Mx(n){return n.h||(n.h=n.i())}(this.u?this.u:U_),this.g.onreadystatechange=Bi(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void JD(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Gt.FormData&&n instanceof Gt.FormData,!(0<=Gp(QD,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of e)this.g.setRequestHeader(s,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ab(this),0<this.B&&((this.K=function XD(n){return kh&&function Cx(){return function Z0(n){var t=bx;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=Wp(String(Rh)).split("."),e=Wp("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",s=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=W0(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||W0(0==r[2].length,0==s[2].length)||W0(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bi(this.qa,this)):this.A=ub(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){JD(this,s)}},yt.qa=function(){typeof E_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lr(this,"timeout"),this.abort(8))},yt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,lr(this,"complete"),lr(this,"abort"),Tb(this))},yt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tb(this,!0)),ti.X.M.call(this)},yt.Ha=function(){this.s||(this.F||this.v||this.l?Vx(this):this.fb())},yt.fb=function(){Vx(this)},yt.aa=function(){try{return 2<Kl(this)?this.g.status:-1}catch{return-1}},yt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},yt.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),K_(t)}},yt.Ea=function(){return this.m},yt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(yt=Bx.prototype).ma=8,yt.G=1,yt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new H_(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=J0(s),Or(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=Bc(this,r,t),mn(e=Xi(this.F),"RID",n),mn(e,"CVER",22),this.D&&mn(e,"X-HTTP-Session-Id",this.D),$h(this,e),s&&(this.N?t="headers="+encodeURIComponent(String(nI(s)))+"&"+t:this.o&&iI(e,this.o,s)),wb(this.h,r),this.Ya&&mn(e,"TYPE","init"),this.O?(mn(e,"$req",t),mn(e,"SID","null"),r.Z=!0,PD(r,e,null)):PD(r,e,t),this.G=2}}else 3==this.G&&(n?oI(this,n):0==this.i.length||Nx(this.h)||oI(this))},yt.Ia=function(){if(this.u=null,aI(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=L_(Bi(this.eb,this),n)}},yt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,us(10),Mb(this),aI(this))},yt.cb=function(){null!=this.v&&(this.v=null,Mb(this),sm(this),us(19))},yt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),us(2)):(this.j.info("Failed to ping google.com"),us(1))},(yt=kb.prototype).xa=function(){},yt.wa=function(){},yt.va=function(){},yt.ua=function(){},yt.Ra=function(){},J_.prototype.g=function(n,t){return new xs(n,t)},Ki(xs,Qi),xs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;us(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=jx(n,null,n.V),id(n)},xs.prototype.close=function(){rI(this.g)},xs.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Qp(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&id(t)},xs.prototype.M=function(){this.g.l=null,delete this.j,rI(this.g),delete this.g,xs.X.M.call(this)},Ki(lI,B_),Ki(cI,Lh),Ki(rd,kb),rd.prototype.xa=function(){lr(this.g,"a")},rd.prototype.wa=function(n){lr(this.g,new lI(n))},rd.prototype.va=function(n){lr(this.g,new cI)},rd.prototype.ua=function(){lr(this.g,"b")},J_.prototype.createWebChannel=J_.prototype.g,xs.prototype.send=xs.prototype.u,xs.prototype.open=xs.prototype.m,xs.prototype.close=xs.prototype.close,pb.NO_ERROR=0,pb.TIMEOUT=8,pb.HTTP_ERROR=6,Ax.COMPLETE="complete",Jp.EventType=V_,V_.OPEN="a",V_.CLOSE="b",V_.ERROR="c",V_.MESSAGE="d",Qi.prototype.listen=Qi.prototype.N,ti.prototype.listenOnce=ti.prototype.O,ti.prototype.getLastError=ti.prototype.Oa,ti.prototype.getLastErrorCode=ti.prototype.Ea,ti.prototype.getStatus=ti.prototype.aa,ti.prototype.getResponseJson=ti.prototype.Sa,ti.prototype.getResponseText=ti.prototype.fa,ti.prototype.send=ti.prototype.da,ti.prototype.setWithCredentials=ti.prototype.Ka;var uI=$a.createWebChannelTransport=function(){return new J_},dI=$a.getStatEventTarget=function(){return F_()},Rb=$a.ErrorCode=pb,zx=$a.EventType=Ax,hI=$a.Event=Lc,ey=$a.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},uL=$a.FetchXmlHttpFactory=nd,lm=$a.WebChannel=Jp,Ob=$a.XhrIo=ti;const fI="@firebase/firestore";class cr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid"),cr.MOCK_USER=new cr("mock-user");let cm="9.13.0";const sd=new Uo.Yd("@firebase/firestore");function Pb(){return sd.logLevel}function ze(n,...t){if(sd.logLevel<=Uo.in.DEBUG){const e=t.map(pI);sd.debug(`Firestore (${cm}): ${n}`,...e)}}function Ui(n,...t){if(sd.logLevel<=Uo.in.ERROR){const e=t.map(pI);sd.error(`Firestore (${cm}): ${n}`,...e)}}function Wh(n,...t){if(sd.logLevel<=Uo.in.WARN){const e=t.map(pI);sd.warn(`Firestore (${cm}): ${n}`,...e)}}function pI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ft(n="Unexpected state"){const t=`FIRESTORE (${cm}) INTERNAL ASSERTION FAILED: `+n;throw Ui(t),new Error(t)}function Lt(n,t){n||ft()}function rt(n,t){return n}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends V.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Zx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(cr.UNAUTHENTICATED))}shutdown(){}}class o{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class l{constructor(t){this.t=t,this.currentUser=cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let c=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ur,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const _=c;t.enqueueRetryable((0,we.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ur)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Lt("string"==typeof i.accessToken),new Zx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Lt(null===t||"string"==typeof t),new cr(t)}}class u{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=cr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Lt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class h{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new u(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{null!=s.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.A;return this.A=s.token,ze("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Lt("string"==typeof e.token),this.A=e.token,new f(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function w(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class I{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=w(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function A(n,t){return n<t?-1:n>t?1:0}function R(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function U(n){return n+"\0"}class W{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ue(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ue(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ue(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ue(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return W.fromMillis(Date.now())}static fromDate(t){return W.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new W(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?A(this.nanoseconds,t.nanoseconds):A(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Q{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Q(t)}static min(){return new Q(new W(0,0))}static max(){return new Q(new W(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ie{constructor(t,e,i){void 0===e?e=0:e>t.length&&ft(),void 0===i?i=t.length-e:i>t.length-e&&ft(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Ie.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ie?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),c=e.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Se extends Ie{construct(t,e,i){return new Se(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ue(_e.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Se(e)}static emptyPath(){return new Se([])}}const tt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Ie{construct(t,e,i){return new Ye(t,e,i)}static isValidIdentifier(t){return tt.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ye(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ue(_e.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Ue(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ue(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new Ue(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(e)}static emptyPath(){return new Ye([])}}class Ee{constructor(t){this.path=t}static fromPath(t){return new Ee(Se.fromString(t))}static fromName(t){return new Ee(Se.fromString(t).popFirst(5))}static empty(){return new Ee(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Se.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Se.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ee(new Se(t.slice()))}}class Fe{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function kt(n){return n.fields.find(t=>2===t.kind)}function on(n){return n.fields.filter(t=>2!==t.kind)}Fe.UNKNOWN_ID=-1;class Ga{constructor(t,e){this.fieldPath=t,this.kind=e}}class od{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new od(0,Gr.min())}}function ty(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Q.fromTimestamp(1e9===i?new W(e+1,0):new W(e,i));return new Gr(r,Ee.empty(),t)}function ny(n){return new Gr(n.readTime,n.key,-1)}class Gr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Gr(Q.min(),Ee.empty(),-1)}static max(){return new Gr(Q.max(),Ee.empty(),-1)}}function um(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ee.comparator(n.documentKey,t.documentKey),0!==e?e:A(n.largestBatchId,t.largestBatchId))}const iy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ry{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Wa(n){return qx.apply(this,arguments)}function qx(){return qx=(0,we.Z)(function*(n){if(n.code!==_e.FAILED_PRECONDITION||n.message!==iy)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),qx.apply(this,arguments)}class fe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new fe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof fe?e:fe.resolve(e)}catch(e){return fe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):fe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):fe.reject(e)}static resolve(t){return new fe((e,i)=>{e(t)})}static reject(t){return new fe((e,i)=>{i(t)})}static waitFor(t){return new fe((e,i)=>{let r=0,s=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&e()},p=>i(p))}),c=!0,s===r&&e()})}static or(t){let e=fe.resolve(!1);for(const i of t)e=e.next(r=>r?fe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new fe((i,r)=>{const s=t.length,c=new Array(s);let d=0;for(let p=0;p<s;p++){const _=p;e(t[_]).next(b=>{c[_]=b,++d,d===s&&i(c)},b=>r(b))}})}static doWhile(t,e){return new fe((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class mI{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new ur,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new Fb(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=Yx(i.target.error);this.P.reject(new Fb(t,r))}}static open(t,e,i,r){try{return new mI(e,t.transaction(r,i))}catch(s){throw new Fb(e,s)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(ze("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new MU(e)}}class Ql{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===Ql.D((0,V.z$)())&&Ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ze("SimpleDb","Removing database:",t),dm(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,V.hl)())return!1;if(Ql.N())return!0;const t=(0,V.z$)(),e=Ql.D(t),i=0<e&&e<10,r=Ql.k(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,we.Z)(function*(){return e.db||(ze("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new Fb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Ue(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Ue(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new Fb(t,d))},s.onupgradeneeded=c=>{ze("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.S.$(c.target.result,s.transaction,c.oldVersion,e.version).next(()=>{ze("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,we.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{s.db=yield s.F(t);const p=mI.open(s.db,t,c?"readonly":"readwrite",i),_=r(p).next(b=>(p.V(),b)).catch(b=>(p.abort(b),fe.reject(b))).toPromise();return _.catch(()=>{}),yield p.v,_}catch(p){const _=p,b="FirebaseError"!==_.name&&d<3;if(ze("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),s.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class AU{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return dm(this.U.delete())}}class Fb extends Ue{constructor(t,e){super(_e.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Zh(n){return"IndexedDbTransactionError"===n.name}class MU{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(ze("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),dm(i)}add(t){return ze("SimpleDb","ADD",this.store.name,t,t),dm(this.store.add(t))}get(t){return dm(this.store.get(t)).next(e=>(void 0===e&&(e=null),ze("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return ze("SimpleDb","DELETE",this.store.name,t),dm(this.store.delete(t))}count(){return ze("SimpleDb","COUNT",this.store.name),dm(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new fe((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new fe((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(t,e){ze("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(s,c,d)=>d.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new fe((i,r)=>{e.onerror=s=>{const c=Yx(s.target.error);r(c)},e.onsuccess=s=>{const c=s.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}H(t,e){const i=[];return new fe((r,s)=>{t.onerror=c=>{s(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const p=new AU(d),_=e(d.primaryKey,d.value,p);if(_ instanceof fe){const b=_.catch(D=>(p.done(),fe.reject(D)));i.push(b)}p.isDone?r():null===p.G?d.continue():d.continue(p.G)}}).next(()=>fe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function dm(n){return new fe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=Yx(i.target.error);e(r)}})}let hL=!1;function Yx(n){const t=Ql.D((0,V.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hL||(hL=!0,setTimeout(()=>{throw i},0)),i}}return n}class xU{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;ze("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,we.Z)(function*(){e.task=null;try{ze("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){Zh(i)?ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Wa(i)}yield e.nt(6e4)}))}}class kU{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,we.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,s=!0;return fe.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return ze("IndexBackiller",`Processing collection: ${c}`),this.rt(t,c,r).next(d=>{r-=d,i.add(c)});s=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.ot(r,s)).next(d=>(ze("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>c.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,s)=>{const c=ny(s);um(c,i)>0&&(i=c)}),new Gr(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class lo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function fL(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function hm(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function pL(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}lo.at=-1;class Hi{constructor(t,e){this.comparator=t,this.root=e||Wr.EMPTY}insert(t,e){return new Hi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Wr.BLACK,null,null))}remove(t){return new Hi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gI(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gI(this.root,t,this.comparator,!1)}getReverseIterator(){return new gI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gI(this.root,t,this.comparator,!0)}}class gI{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Wr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Wr.RED,this.left=r??Wr.EMPTY,this.right=s??Wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Wr(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Wr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const t=this.left.check();if(t!==this.right.check())throw ft();return t+(this.isRed()?0:1)}}Wr.EMPTY=null,Wr.RED=!0,Wr.BLACK=!1,Wr.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Wr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yn{constructor(t){this.comparator=t,this.data=new Hi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new mL(this.data.getIterator())}getIteratorFrom(t){return new mL(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Yn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Yn(this.comparator);return e.data=t,e}}class mL{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sy(n){return n.hasNext()?n.getNext():void 0}class Wo{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new Wo([])}unionWith(t){let e=new Yn(Ye.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Wo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return R(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class br{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new br(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new br(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return A(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}br.EMPTY_BYTE_STRING=new br("");const OU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qh(n){if(Lt(!!n),"string"==typeof n){let t=0;const e=OU.exec(n);if(Lt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ji(n.seconds),nanos:ji(n.nanos)}}function ji(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function fm(n){return"string"==typeof n?br.fromBase64String(n):br.fromUint8Array(n)}function Kx(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function gL(n){const t=n.mapValue.fields.__previous_value__;return Kx(t)?gL(t):t}function Lb(n){const t=qh(n.mapValue.fields.__local_write_time__.timestampValue);return new W(t.seconds,t.nanos)}class PU{constructor(t,e,i,r,s,c,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class Yh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Yh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Yh&&t.projectId===this.projectId&&t.database===this.database}}function Vb(n){return null==n}function Bb(n){return 0===n&&1/n==-1/0}function _L(n){return"number"==typeof n&&Number.isInteger(n)&&!Bb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Kh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_I={nullValue:"NULL_VALUE"};function pm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Kx(n)?4:CL(n)?9007199254740991:10:ft()}function Uc(n,t){if(n===t)return!0;const e=pm(n);if(e!==pm(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Lb(n).isEqual(Lb(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=qh(i.timestampValue),c=qh(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,fm(n.bytesValue).isEqual(fm(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return ji(i.geoPointValue.latitude)===ji(r.geoPointValue.latitude)&&ji(i.geoPointValue.longitude)===ji(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ji(i.integerValue)===ji(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=ji(i.doubleValue),c=ji(r.doubleValue);return s===c?Bb(s)===Bb(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return R(n.arrayValue.values||[],t.arrayValue.values||[],Uc);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(fL(s)!==fL(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!Uc(s[d],c[d])))return!1;return!0}(n,t);default:return ft()}var r}function Ub(n,t){return void 0!==(n.values||[]).find(e=>Uc(e,t))}function Qh(n,t){if(n===t)return 0;const e=pm(n),i=pm(t);if(e!==i)return A(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return A(n.booleanValue,t.booleanValue);case 2:return function(r,s){const c=ji(r.integerValue||r.doubleValue),d=ji(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return yL(n.timestampValue,t.timestampValue);case 4:return yL(Lb(n),Lb(t));case 5:return A(n.stringValue,t.stringValue);case 6:return function(r,s){const c=fm(r),d=fm(s);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let p=0;p<c.length&&p<d.length;p++){const _=A(c[p],d[p]);if(0!==_)return _}return A(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const c=A(ji(r.latitude),ji(s.latitude));return 0!==c?c:A(ji(r.longitude),ji(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let p=0;p<c.length&&p<d.length;++p){const _=Qh(c[p],d[p]);if(_)return _}return A(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Kh.mapValue&&s===Kh.mapValue)return 0;if(r===Kh.mapValue)return 1;if(s===Kh.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),p=s.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let b=0;b<d.length&&b<_.length;++b){const D=A(d[b],_[b]);if(0!==D)return D;const M=Qh(c[d[b]],p[_[b]]);if(0!==M)return M}return A(d.length,_.length)}(n.mapValue,t.mapValue);default:throw ft()}}function yL(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return A(n,t);const e=qh(n),i=qh(t),r=A(e.seconds,i.seconds);return 0!==r?r:A(e.nanos,i.nanos)}function oy(n){return Qx(n)}function Qx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=qh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?fm(n.bytesValue).toBase64():"referenceValue"in n?Ee.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=Qx(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${Qx(i.fields[d])}`;return s+"}"}(n.mapValue):ft();var t}function mm(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Xx(n){return!!n&&"integerValue"in n}function Hb(n){return!!n&&"arrayValue"in n}function vL(n){return!!n&&"nullValue"in n}function bL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yI(n){return!!n&&"mapValue"in n}function jb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return hm(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=jb(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=jb(n.arrayValue.values[e]);return t}return Object.assign({},n)}function CL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function NU(n){return"nullValue"in n?_I:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?mm(Yh.empty(),Ee.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function FU(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?mm(Yh.empty(),Ee.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Kh:ft()}function wL(n,t){const e=Qh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function EL(n,t){const e=Qh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Zr{constructor(t){this.value=t}static empty(){return new Zr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!yI(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=jb(e)}setAll(t){let e=Ye.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=jb(c):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());yI(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Uc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];yI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){hm(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Zr(jb(this.value))}}function DL(n){const t=[];return hm(n.fields,(e,i)=>{const r=new Ye([e]);if(yI(i)){const s=DL(i.mapValue).fields;if(0===s.length)t.push(r);else for(const c of s)t.push(r.child(c))}else t.push(r)}),new Wo(t)}class ui{constructor(t,e,i,r,s,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(t){return new ui(t,0,Q.min(),Q.min(),Zr.empty(),0)}static newFoundDocument(t,e,i){return new ui(t,1,e,Q.min(),i,0)}static newNoDocument(t,e){return new ui(t,2,e,Q.min(),Zr.empty(),0)}static newUnknownDocument(t,e){return new ui(t,3,e,Q.min(),Zr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ui&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ui(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class LU{constructor(t,e=null,i=[],r=[],s=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.ht=null}}function IL(n,t=null,e=[],i=[],r=null,s=null,c=null){return new LU(n,t,e,i,r,s,c)}function gm(n){const t=rt(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+oy(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Vb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>oy(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>oy(i)).join(",")),t.ht=e}return t.ht}function $b(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!WU(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Uc(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!xL(n.startAt,t.startAt)&&xL(n.endAt,t.endAt)}function vI(n){return Ee.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function bI(n,t){return n.filters.filter(e=>e instanceof qr&&e.field.isEqual(t))}function SL(n,t,e){let i=_I,r=!0;for(const s of bI(n,t)){let c=_I,d=!0;switch(s.op){case"<":case"<=":c=NU(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=_I}wL({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];wL({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function TL(n,t,e){let i=Kh,r=!0;for(const s of bI(n,t)){let c=Kh,d=!0;switch(s.op){case">=":case">":c=FU(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=Kh}EL({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];EL({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class qr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new BU(t,e,i):"array-contains"===e?new jU(t,i):"in"===e?new $U(t,i):"not-in"===e?new zU(t,i):"array-contains-any"===e?new GU(t,i):new qr(t,e,i)}static lt(t,e,i){return"in"===e?new UU(t,i):new HU(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(Qh(e,this.value)):null!==e&&pm(this.value)===pm(e)&&this.ft(Qh(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ft()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class BU extends qr{constructor(t,e,i){super(t,e,i),this.key=Ee.fromName(i.referenceValue)}matches(t){const e=Ee.comparator(t.key,this.key);return this.ft(e)}}class UU extends qr{constructor(t,e){super(t,"in",e),this.keys=AL(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class HU extends qr{constructor(t,e){super(t,"not-in",e),this.keys=AL(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function AL(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class jU extends qr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Hb(e)&&Ub(e.arrayValue,this.value)}}class $U extends qr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Ub(this.value.arrayValue,e)}}class zU extends qr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ub(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Ub(this.value.arrayValue,e)}}class GU extends qr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Hb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Ub(this.value.arrayValue,i))}}class Xh{constructor(t,e){this.position=t,this.inclusive=e}}class ay{constructor(t,e="asc"){this.field=t,this.dir=e}}function WU(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function ML(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],c=n.position[r];if(i=s.field.isKeyField()?Ee.comparator(Ee.fromName(c.referenceValue),e.key):Qh(c,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function xL(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Uc(n.position[e],t.position[e]))return!1;return!0}class ad{constructor(t,e=null,i=[],r=[],s=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=p,this._t=null,this.wt=null}}function kL(n,t,e,i,r,s,c,d){return new ad(n,t,e,i,r,s,c,d)}function ly(n){return new ad(n)}function RL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Jx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ek(n){for(const t of n.filters)if(t.dt())return t.field;return null}function tk(n){return null!==n.collectionGroup}function cy(n){const t=rt(n);if(null===t._t){t._t=[];const e=ek(t),i=Jx(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new ay(e)),t._t.push(new ay(Ye.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new ay(Ye.keyField(),s))}}}return t._t}function ks(n){const t=rt(n);if(!t.wt)if("F"===t.limitType)t.wt=IL(t.path,t.collectionGroup,cy(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of cy(t))e.push(new ay(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Xh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xh(t.startAt.position,t.startAt.inclusive):null;t.wt=IL(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function CI(n,t,e){return new ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function zb(n,t){return $b(ks(n),ks(t))&&n.limitType===t.limitType}function OL(n){return`${gm(ks(n))}|lt:${n.limitType}`}function nk(n){return`Query(target=${function VU(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${oy(i.value)}`;var i}).join(", ")}]`),Vb(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>oy(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>oy(e)).join(",")),`Target(${t})`}(ks(n))}; limitType=${n.limitType})`}function ik(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Ee.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,c){const d=ML(r,s,c);return r.inclusive?d<=0:d<0}(e.startAt,cy(e),i)||e.endAt&&!function(r,s,c){const d=ML(r,s,c);return r.inclusive?d>=0:d>0}(e.endAt,cy(e),i)));var e,i}function PL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NL(n){return(t,e)=>{let i=!1;for(const r of cy(n)){const s=ZU(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function ZU(n,t,e){const i=n.field.isKeyField()?Ee.comparator(t.key,e.key):function(r,s,c){const d=s.data.field(r),p=c.data.field(r);return null!==d&&null!==p?Qh(d,p):ft()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ft()}}function FL(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bb(t)?"-0":t}}function LL(n){return{integerValue:""+n}}function VL(n,t){return _L(t)?LL(t):FL(n,t)}class wI{constructor(){this._=void 0}}function qU(n,t,e){return n instanceof uy?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof _m?UL(n,t):n instanceof ym?HL(n,t):function(i,r){const s=BL(i,r),c=jL(s)+jL(i.yt);return Xx(s)&&Xx(i.yt)?LL(c):FL(i.It,c)}(n,t)}function YU(n,t,e){return n instanceof _m?UL(n,t):n instanceof ym?HL(n,t):e}function BL(n,t){return n instanceof dy?Xx(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class uy extends wI{}class _m extends wI{constructor(t){super(),this.elements=t}}function UL(n,t){const e=$L(t);for(const i of n.elements)e.some(r=>Uc(r,i))||e.push(i);return{arrayValue:{values:e}}}class ym extends wI{constructor(t){super(),this.elements=t}}function HL(n,t){let e=$L(t);for(const i of n.elements)e=e.filter(r=>!Uc(r,i));return{arrayValue:{values:e}}}class dy extends wI{constructor(t,e){super(),this.It=t,this.yt=e}}function jL(n){return ji(n.integerValue||n.doubleValue)}function $L(n){return Hb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Gb{constructor(t,e){this.field=t,this.transform=e}}class QU{constructor(t,e){this.version=t,this.transformResults=e}}class Ei{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ei}static exists(t){return new Ei(void 0,t)}static updateTime(t){return new Ei(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function EI(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class DI{}function zL(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new fy(n.key,Ei.none()):new hy(n.key,n.data,Ei.none());{const e=n.data,i=Zr.empty();let r=new Yn(Ye.comparator);for(let s of t.fields)if(!r.has(s)){let c=e.field(s);null===c&&s.length>1&&(s=s.popLast(),c=e.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new ld(n.key,i,new Wo(r.toArray()),Ei.none())}}function XU(n,t,e){n instanceof hy?function(i,r,s){const c=i.value.clone(),d=ZL(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof ld?function(i,r,s){if(!EI(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=ZL(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(WL(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Wb(n,t,e,i){return n instanceof hy?function(r,s,c,d){if(!EI(r.precondition,s))return c;const p=r.value.clone(),_=qL(r.fieldTransforms,d,s);return p.setAll(_),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof ld?function(r,s,c,d){if(!EI(r.precondition,s))return c;const p=qL(r.fieldTransforms,d,s),_=s.data;return _.setAll(WL(r)),_.setAll(p),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,t,e,i):(c=e,EI(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function JU(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=BL(i.transform,r||null);null!=s&&(null===e&&(e=Zr.empty()),e.set(i.field,s))}return e||null}function GL(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&R(e,i,(r,s)=>function KU(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof _m&&i instanceof _m||e instanceof ym&&i instanceof ym?R(e.elements,i.elements,Uc):e instanceof dy&&i instanceof dy?Uc(e.yt,i.yt):e instanceof uy&&i instanceof uy);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class hy extends DI{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ld extends DI{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WL(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function ZL(n,t,e){const i=new Map;Lt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],c=s.transform,d=t.data.field(s.field);i.set(s.field,YU(c,d,e[r]))}return i}function qL(n,t,e){const i=new Map;for(const r of n){const s=r.transform,c=e.data.field(r.field);i.set(r.field,qU(s,c,t))}return i}class fy extends DI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rk extends DI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eH{constructor(t){this.count=t}}var dr,In;function YL(n){switch(n){default:return ft();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function KL(n){if(void 0===n)return Ui("GRPC error has no .code"),_e.UNKNOWN;switch(n){case dr.OK:return _e.OK;case dr.CANCELLED:return _e.CANCELLED;case dr.UNKNOWN:return _e.UNKNOWN;case dr.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case dr.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case dr.INTERNAL:return _e.INTERNAL;case dr.UNAVAILABLE:return _e.UNAVAILABLE;case dr.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case dr.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case dr.NOT_FOUND:return _e.NOT_FOUND;case dr.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case dr.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case dr.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case dr.ABORTED:return _e.ABORTED;case dr.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case dr.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case dr.DATA_LOSS:return _e.DATA_LOSS;default:return ft()}}(In=dr||(dr={}))[In.OK=0]="OK",In[In.CANCELLED=1]="CANCELLED",In[In.UNKNOWN=2]="UNKNOWN",In[In.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",In[In.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",In[In.NOT_FOUND=5]="NOT_FOUND",In[In.ALREADY_EXISTS=6]="ALREADY_EXISTS",In[In.PERMISSION_DENIED=7]="PERMISSION_DENIED",In[In.UNAUTHENTICATED=16]="UNAUTHENTICATED",In[In.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",In[In.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",In[In.ABORTED=10]="ABORTED",In[In.OUT_OF_RANGE=11]="OUT_OF_RANGE",In[In.UNIMPLEMENTED=12]="UNIMPLEMENTED",In[In.INTERNAL=13]="INTERNAL",In[In.UNAVAILABLE=14]="UNAVAILABLE",In[In.DATA_LOSS=15]="DATA_LOSS";class Jh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){hm(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return pL(this.inner)}size(){return this.innerSize}}const tH=new Hi(Ee.comparator);function co(){return tH}const QL=new Hi(Ee.comparator);function Zb(...n){let t=QL;for(const e of n)t=t.insert(e.key,e);return t}function XL(n){let t=QL;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Hc(){return qb()}function JL(){return qb()}function qb(){return new Jh(n=>n.toString(),(n,t)=>n.isEqual(t))}const nH=new Hi(Ee.comparator),iH=new Yn(Ee.comparator);function en(...n){let t=iH;for(const e of n)t=t.add(e);return t}const rH=new Yn(A);function II(){return rH}class Yb{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Kb.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Yb(Q.min(),r,II(),co(),en())}}class Kb{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Kb(i,e,en(),en(),en())}}class SI{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class e5{constructor(t,e){this.targetId=t,this.At=e}}class t5{constructor(t,e,i=br.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class n5{constructor(){this.Rt=0,this.bt=s5(),this.Pt=br.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=en(),e=en(),i=en();return this.bt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ft()}}),new Kb(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=s5()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Ot(t){this.Vt=!0,this.bt=this.bt.remove(t)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class sH{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=co(),this.qt=r5(),this.Kt=new Yn(A)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:ft()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const s=r.target;if(vI(s))if(0===i){const c=new Ee(s.path);this.jt(e,c,ui.newNoDocument(c,Q.min()))}else Lt(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((s,c)=>{const d=this.Xt(c);if(d){if(s.current&&vI(d.target)){const p=new Ee(d.target.path);null!==this.Ut.get(p)||this.ee(c,p)||this.jt(c,p,ui.newNoDocument(p,t))}s.Dt&&(e.set(c,s.xt()),s.Nt())}});let i=en();this.qt.forEach((s,c)=>{let d=!0;c.forEachWhile(p=>{const _=this.Xt(p);return!_||2===_.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Ut.forEach((s,c)=>c.setReadTime(t));const r=new Yb(t,e,this.Kt,this.Ut,i);return this.Ut=co(),this.qt=r5(),this.Kt=new Yn(A),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Ot(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Mt(t){this.zt(t).Mt()}zt(t){let e=this.Lt.get(t);return e||(e=new n5,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new Yn(A),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||ze("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new n5),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function r5(){return new Hi(Ee.comparator)}function s5(){return new Hi(Ee.comparator)}const oH={asc:"ASCENDING",desc:"DESCENDING"},aH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class lH{constructor(t,e){this.databaseId=t,this.gt=e}}function Qb(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function o5(n,t){return n.gt?t.toBase64():t.toUint8Array()}function cH(n,t){return Qb(n,t.toTimestamp())}function Pr(n){return Lt(!!n),Q.fromTimestamp(function(t){const e=qh(t);return new W(e.seconds,e.nanos)}(n))}function sk(n,t){return(e=n,new Se(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function a5(n){const t=Se.fromString(n);return Lt(m5(t)),t}function Xb(n,t){return sk(n.databaseId,t.path)}function jc(n,t){const e=a5(t);if(e.get(1)!==n.databaseId.projectId)throw new Ue(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ue(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ee(c5(e))}function ok(n,t){return sk(n.databaseId,t)}function l5(n){const t=a5(n);return 4===t.length?Se.emptyPath():c5(t)}function Jb(n){return new Se(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function c5(n){return Lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function u5(n,t,e){return{name:Xb(n,t),fields:e.value.mapValue.fields}}function d5(n,t,e){const i=jc(n,t.name),r=Pr(t.updateTime),s=new Zr({mapValue:{fields:t.fields}}),c=ui.newFoundDocument(i,r,s);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function eC(n,t){let e;if(t instanceof hy)e={update:u5(n,t.key,t.value)};else if(t instanceof fy)e={delete:Xb(n,t.key)};else if(t instanceof ld)e={update:u5(n,t.key,t.data),updateMask:yH(t.fieldMask)};else{if(!(t instanceof rk))return ft();e={verify:Xb(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof uy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof _m)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ym)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof dy)return{fieldPath:s.field.canonicalString(),increment:c.yt};throw ft()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:cH(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ft()),e;var r}function ak(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Ei.updateTime(Pr(r.updateTime)):void 0!==r.exists?Ei.exists(r.exists):Ei.none():Ei.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(Lt("REQUEST_TIME"===c.setToServerValue),d=new uy):"appendMissingElements"in c?d=new _m(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new ym(c.removeAllFromArray.values||[]):"increment"in c?d=new dy(s,c.increment):ft();const p=Ye.fromServerFormat(c.fieldPath);return new Gb(p,d)}(n,r)):[];var r;if(t.update){const r=jc(n,t.update.name),s=new Zr({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new Wo((t.updateMask.fieldPaths||[]).map(_=>Ye.fromServerFormat(_)));return new ld(r,s,c,e,i)}return new hy(r,s,e,i)}if(t.delete){const r=jc(n,t.delete);return new fy(r,e)}if(t.verify){const r=jc(n,t.verify);return new rk(r,e)}return ft()}function h5(n,t){return{documents:[ok(n,t.path)]}}function lk(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=ok(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=ok(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const _=p.map(b=>function(D){if("=="===D.op){if(bL(D.value))return{unaryFilter:{field:py(D.field),op:"IS_NAN"}};if(vL(D.value))return{unaryFilter:{field:py(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(bL(D.value))return{unaryFilter:{field:py(D.field),op:"IS_NOT_NAN"}};if(vL(D.value))return{unaryFilter:{field:py(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:py(D.field),op:mH(D.op),value:D.value}}}(b));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:py((b=_).field),direction:pH(b.dir)};var b})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=(_=t.limit,n.gt||Vb(_)?_:{value:_});var _,d,p;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function f5(n){let t=l5(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Lt(1===i);const b=e.from[0];b.allDescendants?r=b.collectionId:t=t.child(b.collectionId)}let s=[];e.where&&(s=p5(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(b=>{return new ay(my((D=b).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let d=null;e.limit&&(d=function(b){let D;return D="object"==typeof b?b.value:b,Vb(D)?null:D}(e.limit));let p=null;var b;e.startAt&&(p=new Xh((b=e.startAt).values||[],!!b.before));let _=null;return e.endAt&&(_=function(b){return new Xh(b.values||[],!b.before)}(e.endAt)),kL(t,r,c,s,d,"F",p,_)}function p5(n){return n?void 0!==n.unaryFilter?[_H(n)]:void 0!==n.fieldFilter?[gH(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>p5(t)).reduce((t,e)=>t.concat(e)):ft():[]}function pH(n){return oH[n]}function mH(n){return aH[n]}function py(n){return{fieldPath:n.canonicalString()}}function my(n){return Ye.fromServerFormat(n.fieldPath)}function gH(n){return qr.create(my(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(n.fieldFilter.op),n.fieldFilter.value)}function _H(n){switch(n.unaryFilter.op){case"IS_NAN":const t=my(n.unaryFilter.field);return qr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=my(n.unaryFilter.field);return qr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=my(n.unaryFilter.field);return qr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=my(n.unaryFilter.field);return qr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}function yH(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function m5(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Rs(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=g5(t)),t=vH(n.get(e),t);return g5(t)}function vH(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function g5(n){return n+"\x01\x01"}function $c(n){const t=n.length;if(Lt(t>=2),2===t)return Lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Se.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const c=n.indexOf("\x01",s);switch((c<0||c>e)&&ft(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:ft()}s=c+2}return new Se(i)}const _5=["userId","batchId"];function TI(n,t){return[n,Rs(t)]}function y5(n,t,e){return[n,Rs(t),e]}const bH={},CH=["prefixPath","collectionGroup","readTime","documentId"],wH=["prefixPath","collectionGroup","documentId"],EH=["collectionGroup","readTime","prefixPath","documentId"],DH=["canonicalId","targetId"],IH=["targetId","path"],SH=["path","targetId"],TH=["collectionId","parent"],AH=["indexId","uid"],MH=["uid","sequenceNumber"],xH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kH=["indexId","uid","orderedDocumentKey"],RH=["userId","collectionPath","documentId"],OH=["userId","collectionPath","largestBatchId"],PH=["userId","collectionGroup","largestBatchId"],v5=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],NH=[...v5,"documentOverlays"],b5=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],C5=b5,FH=[...C5,"indexConfiguration","indexState","indexEntries"];class ck extends ry{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function Nr(n,t){const e=rt(n);return Ql.M(e.ie,t)}class uk{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&XU(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Wb(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Wb(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=JL();return this.mutations.forEach(r=>{const s=t.get(r.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=e.has(r.key)?null:d;const p=zL(c,d);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Q.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),en())}isEqual(t){return this.batchId===t.batchId&&R(this.mutations,t.mutations,(e,i)=>GL(e,i))&&R(this.baseMutations,t.baseMutations,(e,i)=>GL(e,i))}}class dk{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Lt(t.mutations.length===i.length);let r=nH;const s=t.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new dk(t,e,i,r)}}class hk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ef{constructor(t,e,i,r,s=Q.min(),c=Q.min(),d=br.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new ef(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new ef(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new ef(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class w5{constructor(t){this.re=t}}function E5(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:AI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Xb(r=n.re,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Qb(r,s.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:vm(t.version)};else{if(!t.isUnknownDocument())return ft();i.unknownDocument={path:e.path.toArray(),version:vm(t.version)}}var r,s;return i}function AI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function vm(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function bm(n){const t=new W(n.seconds,n.nanoseconds);return Q.fromTimestamp(t)}function Cm(n,t){const e=(t.baseMutations||[]).map(s=>ak(n.re,s));for(let s=0;s<t.mutations.length-1;++s){const c=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(c.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>ak(n.re,s)),r=W.fromMillis(t.localWriteTimeMs);return new uk(t.batchId,r,e,i)}function tC(n){const t=bm(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?bm(n.lastLimboFreeSnapshotVersion):Q.min();let i;var r;return void 0!==n.query.documents?(Lt(1===(r=n.query).documents.length),i=ks(ly(l5(r.documents[0])))):i=ks(f5(n.query)),new ef(i,n.targetId,0,n.lastListenSequenceNumber,t,e,br.fromBase64String(n.resumeToken))}function D5(n,t){const e=vm(t.snapshotVersion),i=vm(t.lastLimboFreeSnapshotVersion);let r;r=vI(t.target)?h5(n.re,t.target):lk(n.re,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:gm(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function fk(n){const t=f5({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?CI(t,t.limit,"L"):t}function pk(n,t){return new hk(t.largestBatchId,ak(n.re,t.overlayMutation))}function I5(n,t){const e=t.path.lastSegment();return[n,Rs(t.path.popLast()),e]}function S5(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:vm(i.readTime),documentKey:Rs(i.documentKey.path),largestBatchId:i.largestBatchId}}class VH{getBundleMetadata(t,e){return T5(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:bm(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return T5(t).put({bundleId:(i=e).id,createTime:vm(Pr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return A5(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:fk(r.bundledQuery),readTime:bm(r.readTime)};var r})}saveNamedQuery(t,e){return A5(t).put({name:(i=e).name,readTime:vm(Pr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function T5(n){return Nr(n,"bundles")}function A5(n){return Nr(n,"namedQueries")}class MI{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new MI(t,e.uid||"")}getOverlay(t,e){return nC(t).get(I5(this.userId,e)).next(i=>i?pk(this.It,i):null)}getOverlays(t,e){const i=Hc();return fe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,c)=>{const d=new hk(e,c);r.push(this.ue(t,d))}),fe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(Rs(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(nC(t).Y("collectionPathOverlayIndex",d))}),fe.waitFor(s)}getOverlaysForCollection(t,e,i){const r=Hc(),s=Rs(e),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return nC(t).W("collectionPathOverlayIndex",c).next(d=>{for(const p of d){const _=pk(this.It,p);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=Hc();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return nC(t).Z({index:"collectionGroupOverlayIndex",range:d},(p,_,b)=>{const D=pk(this.It,_);s.size()<r||D.largestBatchId===c?(s.set(D.getKey(),D),c=D.largestBatchId):b.done()}).next(()=>s)}ue(t,e){return nC(t).put(function(i,r,s){const[c,d,p]=I5(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:eC(i.re,s.mutation)}}(this.It,this.userId,e))}}function nC(n){return Nr(n,"documentOverlays")}class wm{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(ji(t.integerValue));else if("doubleValue"in t){const i=ji(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),Bb(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(fm(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?CL(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):ft()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),Ee.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function BH(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function M5(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=BH(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}wm.Te=new wm;class UH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=M5(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=M5(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Oe(0),this.Oe(255)):255===e?(this.Oe(255),this.Oe(0)):this.Oe(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class HH{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class jH{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Me()}}class iC{constructor(){this.Be=new UH,this.Le=new HH(this.Be),this.Ue=new jH(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Em{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Em(this.indexId,this.documentKey,this.arrayValue,i)}}function Dm(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=x5(n.arrayValue,t.arrayValue),0!==e?e:(e=x5(n.directionalValue,t.directionalValue),0!==e?e:Ee.comparator(n.documentKey,t.documentKey)))}function x5(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class $H{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=kt(t);if(void 0!==e&&!this.ze(e))return!1;const i=on(t);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const c=i[r];if(!this.He(this.je,c)||!this.Je(this.Ge[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],c))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class zH{constructor(){this.Ye=new mk}addToCollectionParentIndex(t,e){return this.Ye.add(e),fe.resolve()}getCollectionParents(t,e){return fe.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return fe.resolve()}deleteFieldIndex(t,e){return fe.resolve()}getDocumentsMatchingTarget(t,e){return fe.resolve(null)}getIndexType(t,e){return fe.resolve(0)}getFieldIndexes(t,e){return fe.resolve([])}getNextCollectionGroupToUpdate(t){return fe.resolve(null)}getMinOffset(t,e){return fe.resolve(Gr.min())}getMinOffsetFromCollectionGroup(t,e){return fe.resolve(Gr.min())}updateCollectionGroup(t,e,i){return fe.resolve()}updateIndexEntries(t,e){return fe.resolve()}}class mk{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Yn(Se.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Yn(Se.comparator)).toArray()}}const xI=new Uint8Array(0);class GH{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new mk,this.Ze=new Jh(i=>gm(i),(i,r)=>$b(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const s={collectionId:i,parent:Rs(r)};return k5(t).put(s)}return fe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[U(e),""],!1,!0);return k5(t).W(r).next(s=>{for(const c of s){if(c.collectionId!==e)break;i.push($c(c.parent))}return i})}addFieldIndex(t,e){const i=kI(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const s=i.add(r);if(e.indexState){const c=sC(t);return s.next(d=>{c.put(S5(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=kI(t),r=sC(t),s=rC(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=rC(t);let r=!0;const s=new Map;return fe.forEach(this.tn(e),c=>this.en(t,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=en();const d=[];return fe.forEach(s,(p,_)=>{var b;ze("IndexedDbIndexManager",`Using index ${b=p,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Ke=>`${Ke.fieldPath}:${Ke.kind}`).join(",")}`} to execute ${gm(e)}`);const D=function(Ke,Xe){const Et=kt(Xe);if(void 0===Et)return null;for(const At of bI(Ke,Et.fieldPath))switch(At.op){case"array-contains-any":return At.value.arrayValue.values||[];case"array-contains":return[At.value]}return null}(_,p),M=function(Ke,Xe){const Et=new Map;for(const At of on(Xe))for(const cn of bI(Ke,At.fieldPath))switch(cn.op){case"==":case"in":Et.set(At.fieldPath.canonicalString(),cn.value);break;case"not-in":case"!=":return Et.set(At.fieldPath.canonicalString(),cn.value),Array.from(Et.values())}return null}(_,p),P=function(Ke,Xe){const Et=[];let At=!0;for(const cn of on(Xe)){const er=0===cn.kind?SL(Ke,cn.fieldPath,Ke.startAt):TL(Ke,cn.fieldPath,Ke.startAt);Et.push(er.value),At&&(At=er.inclusive)}return new Xh(Et,At)}(_,p),L=function(Ke,Xe){const Et=[];let At=!0;for(const cn of on(Xe)){const er=0===cn.kind?TL(Ke,cn.fieldPath,Ke.endAt):SL(Ke,cn.fieldPath,Ke.endAt);Et.push(er.value),At&&(At=er.inclusive)}return new Xh(Et,At)}(_,p),K=this.nn(p,_,P),se=this.nn(p,_,L),Oe=this.sn(p,_,M),Ze=this.rn(p.indexId,D,K,P.inclusive,se,L.inclusive,Oe);return fe.forEach(Ze,Ke=>i.J(Ke,e.limit).next(Xe=>{Xe.forEach(Et=>{const At=Ee.fromSegments(Et.documentKey);c.has(At)||(c=c.add(At),d.push(At))})}))}).next(()=>d)}return fe.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,s,c,d){const p=(null!=e?e.length:1)*Math.max(i.length,s.length),_=p/(null!=e?e.length:1),b=[];for(let D=0;D<p;++D){const M=e?this.on(e[D/_]):xI,P=this.un(t,M,i[D%_],r),L=this.cn(t,M,s[D%_],c),K=d.map(se=>this.un(t,M,se,!0));b.push(...this.createRange(P,L,K))}return b}un(t,e,i,r){const s=new Em(t,Ee.empty(),e,i);return r?s:s.Ke()}cn(t,e,i,r){const s=new Em(t,Ee.empty(),e,i);return r?s.Ke():s}en(t,e){const i=new $H(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let c=null;for(const d of s)i.We(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(t,e){let i=2;return fe.forEach(this.tn(e),r=>this.en(t,r).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new Yn(Ye.comparator),p=!1;for(const _ of c.filters){const b=_;b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?p=!0:d=d.add(b.field))}for(const _ of c.orderBy)_.field.isKeyField()||(d=d.add(_.field));return d.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new iC;for(const r of on(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const c=i.qe(r.kind);wm.Te.ce(s,c)}return i.$e()}on(t){const e=new iC;return wm.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new iC;return wm.Te.ce(mm(this.databaseId,e),i.qe(function(r){const s=on(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new iC);let s=0;for(const c of on(t)){const d=i[s++];for(const p of r)if(this.ln(e,c.fieldPath)&&Hb(d))r=this.fn(r,c,d);else{const _=p.qe(c.kind);wm.Te.ce(d,_)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const p=new iC;p.seed(d.$e()),wm.Te.ce(c,p.qe(e.kind)),s.push(p)}return s}ln(t,e){return!!t.filters.find(i=>i instanceof qr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=kI(t),r=sC(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const c=[];return fe.forEach(s,d=>r.get([d.indexId,this.uid]).next(p=>{c.push(function(_,b){const D=b?new od(b.sequenceNumber,new Gr(bm(b.readTime),new Ee($c(b.documentKey)),b.largestBatchId)):od.empty(),M=_.fields.map(([P,L])=>new Ga(Ye.fromServerFormat(P),L));return new Fe(_.indexId,_.collectionGroup,M,D)}(d,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:A(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=kI(t),s=sC(t);return this._n(t).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>fe.forEach(d,p=>s.put(S5(p.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return fe.forEach(e,(r,s)=>{const c=i.get(r.collectionGroup);return(c?fe.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),fe.forEach(d,p=>this.wn(t,r,p).next(_=>{const b=this.mn(s,p);return _.isEqual(b)?fe.resolve():this.gn(t,s,p,_,b)}))))})}yn(t,e,i,r){return rC(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return rC(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=rC(t);let s=new Yn(Dm);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(c,d)=>{s=s.add(new Em(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>s)}mn(t,e){let i=new Yn(Dm);const r=this.an(e,t);if(null==r)return i;const s=kt(e);if(null!=s){const c=t.data.field(s.fieldPath);if(Hb(c))for(const d of c.arrayValue.values||[])i=i.add(new Em(e.indexId,t.key,this.on(d),r))}else i=i.add(new Em(e.indexId,t.key,xI,r));return i}gn(t,e,i,r,s){ze("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(d,p,_,b,D){const M=d.getIterator(),P=p.getIterator();let L=sy(M),K=sy(P);for(;L||K;){let se=!1,Oe=!1;if(L&&K){const Ze=_(L,K);Ze<0?Oe=!0:Ze>0&&(se=!0)}else null!=L?Oe=!0:se=!0;se?(b(K),K=sy(P)):Oe?(D(L),L=sy(M)):(L=sy(M),K=sy(P))}}(r,s,Dm,d=>{c.push(this.yn(t,e,i,d))},d=>{c.push(this.pn(t,e,i,d))}),fe.waitFor(c)}_n(t){let e=1;return sC(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>Dm(c,d)).filter((c,d,p)=>!d||0!==Dm(c,p[d-1]));const r=[];r.push(t);for(const c of i){const d=Dm(c,t),p=Dm(c,e);if(0===d)r[0]=t.Ke();else if(d>0&&p<0)r.push(c),r.push(c.Ke());else if(p>0)break}r.push(e);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,xI,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,xI,[]]));return s}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(R5)}getMinOffset(t,e){return fe.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||ft())).next(R5)}}function k5(n){return Nr(n,"collectionParents")}function rC(n){return Nr(n,"indexEntries")}function kI(n){return Nr(n,"indexConfiguration")}function sC(n){return Nr(n,"indexState")}function R5(n){Lt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;um(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Gr(t.readTime,t.documentKey,e)}const O5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class uo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new uo(t,uo.DEFAULT_COLLECTION_PERCENTILE,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function P5(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(e.batchId);let d=0;const p=i.Z({range:c},(b,D,M)=>(d++,M.delete()));s.push(p.next(()=>{Lt(1===d)}));const _=[];for(const b of e.mutations){const D=y5(t,b.key.path,e.batchId);s.push(r.delete(D)),_.push(b.key)}return fe.waitFor(s).next(()=>_)}function RI(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ft();t=n.noDocument}return JSON.stringify(t).length}uo.DEFAULT_COLLECTION_PERCENTILE=10,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uo.DEFAULT=new uo(41943040,uo.DEFAULT_COLLECTION_PERCENTILE,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uo.DISABLED=new uo(-1,0,0);class OI{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){Lt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new OI(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tf(t).Z({index:"userMutationsIndex",range:i},(r,s,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=gy(t),c=tf(t);return c.add({}).next(d=>{Lt("number"==typeof d);const p=new uk(d,e,i,r),_=function(M,P,L){const K=L.baseMutations.map(Oe=>eC(M.re,Oe)),se=L.mutations.map(Oe=>eC(M.re,Oe));return{userId:P,batchId:L.batchId,localWriteTimeMs:L.localWriteTime.toMillis(),baseMutations:K,mutations:se}}(this.It,this.userId,p),b=[];let D=new Yn((M,P)=>A(M.canonicalString(),P.canonicalString()));for(const M of r){const P=y5(this.userId,M.key.path,d);D=D.add(M.key.path.popLast()),b.push(c.put(_)),b.push(s.put(P,bH))}return D.forEach(M=>{b.push(this.indexManager.addToCollectionParentIndex(t,M))}),t.addOnCommittedListener(()=>{this.In[d]=p.keys()}),fe.waitFor(b).next(()=>p)})}lookupMutationBatch(t,e){return tf(t).get(e).next(i=>i?(Lt(i.userId===this.userId),Cm(this.It,i)):null)}Tn(t,e){return this.In[e]?fe.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return tf(t).Z({index:"userMutationsIndex",range:r},(c,d,p)=>{d.userId===this.userId&&(Lt(d.batchId>=i),s=Cm(this.It,d)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return tf(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tf(t).W("userMutationsIndex",e).next(i=>i.map(r=>Cm(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=TI(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return gy(t).Z({range:r},(c,d,p)=>{const[_,b,D]=c,M=$c(b);if(_===this.userId&&e.path.isEqual(M))return tf(t).get(D).next(P=>{if(!P)throw ft();Lt(P.userId===this.userId),s.push(Cm(this.It,P))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Yn(A);const r=[];return e.forEach(s=>{const c=TI(this.userId,s.path),d=IDBKeyRange.lowerBound(c),p=gy(t).Z({range:d},(_,b,D)=>{const[M,P,L]=_,K=$c(P);M===this.userId&&s.path.isEqual(K)?i=i.add(L):D.done()});r.push(p)}),fe.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=TI(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new Yn(A);return gy(t).Z({range:c},(p,_,b)=>{const[D,M,P]=p,L=$c(M);D===this.userId&&i.isPrefixOf(L)?L.length===r&&(d=d.add(P)):b.done()}).next(()=>this.En(t,d))}En(t,e){const i=[],r=[];return e.forEach(s=>{r.push(tf(t).get(s).next(c=>{if(null===c)throw ft();Lt(c.userId===this.userId),i.push(Cm(this.It,c))}))}),fe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return P5(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),fe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return fe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return gy(t).Z({range:i},(s,c,d)=>{if(s[0]===this.userId){const p=$c(s[1]);r.push(p)}else d.done()}).next(()=>{Lt(0===r.length)})})}containsKey(t,e){return N5(t,this.userId,e)}Rn(t){return F5(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function N5(n,t,e){const i=TI(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return gy(n).Z({range:s,X:!0},(d,p,_)=>{const[b,D,M]=d;b===t&&D===r&&(c=!0),_.done()}).next(()=>c)}function tf(n){return Nr(n,"mutations")}function gy(n){return Nr(n,"documentMutations")}function F5(n){return Nr(n,"mutationQueues")}class Im{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Im(0)}static vn(){return new Im(-1)}}class WH{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new Im(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Q.fromTimestamp(new W(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>_y(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(Lt(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return _y(t).Z((c,d)=>{const p=tC(d);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(t,p)))}).next(()=>fe.waitFor(s)).next(()=>r)}forEachTarget(t,e){return _y(t).Z((i,r)=>{const s=tC(r);e(s)})}Vn(t){return L5(t).get("targetGlobalKey").next(e=>(Lt(null!==e),e))}Sn(t,e){return L5(t).put("targetGlobalKey",e)}Dn(t,e){return _y(t).put(D5(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=gm(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return _y(t).Z({range:r,index:"queryTargetsIndex"},(c,d,p)=>{const _=tC(d);$b(e,_.target)&&(s=_,p.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=nf(t);return e.forEach(c=>{const d=Rs(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,c))}),fe.waitFor(r)}removeMatchingKeys(t,e,i){const r=nf(t);return fe.forEach(e,s=>{const c=Rs(s.path);return fe.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=nf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=nf(t);let s=en();return r.Z({range:i,X:!0},(c,d,p)=>{const _=$c(c[1]),b=new Ee(_);s=s.add(b)}).next(()=>s)}containsKey(t,e){const i=Rs(e.path),r=IDBKeyRange.bound([i],[U(i)],!1,!0);let s=0;return nf(t).Z({index:"documentTargetsIndex",X:!0,range:r},([c,d],p,_)=>{0!==c&&(s++,_.done())}).next(()=>s>0)}se(t,e){return _y(t).get(e).next(i=>i?tC(i):null)}}function _y(n){return Nr(n,"targets")}function L5(n){return Nr(n,"targetGlobal")}function nf(n){return Nr(n,"targetDocuments")}function V5([n,t],[e,i]){const r=A(n,e);return 0===r?A(t,i):r}class ZH{constructor(t){this.xn=t,this.buffer=new Yn(V5),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();V5(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class qH{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;ze("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,we.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Zh(i)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Wa(i)}yield e.Fn(3e5)}))}}class YH{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return fe.resolve(lo.at);const i=new ZH(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(O5)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O5):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,s,c,d,p,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,c=Date.now(),this.nthSequenceNumber(t,r))).next(D=>(i=D,d=Date.now(),this.removeTargets(t,i,e))).next(D=>(s=D,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(D=>(_=Date.now(),Pb()<=Uo.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-b}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(p-d)+`ms\n\tRemoved ${D} documents in `+(_-p)+`ms\nTotal Duration: ${_-b}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:D})))}}class KH{constructor(t,e){this.db=t,this.garbageCollector=new YH(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return PI(t,i)}removeReference(t,e,i){return PI(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return PI(t,e)}Gn(t,e){return function(i,r){let s=!1;return F5(i).tt(c=>N5(i,c,r).next(d=>(d&&(s=!0),fe.resolve(!d)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(t,(c,d)=>{if(d<=e){const p=this.Gn(t,c).next(_=>{if(!_)return s++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Q.min()),nf(t).delete([0,Rs(c.path)])))});r.push(p)}}).next(()=>fe.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return PI(t,e)}Kn(t,e){const i=nf(t);let r,s=lo.at;return i.Z({index:"documentTargetsIndex"},([c,d],{path:p,sequenceNumber:_})=>{0===c?(s!==lo.at&&e(new Ee($c(r)),s),s=_,r=p):s=lo.at}).next(()=>{s!==lo.at&&e(new Ee($c(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function PI(n,t){return nf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Rs(t.path),sequenceNumber:i}));var i}class B5{constructor(){this.changes=new Jh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ui.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?fe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class QH{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Sm(t).put(i)}removeEntry(t,e,i){return Sm(t).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],AI(s),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=ui.newInvalidDocument(e);return Sm(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(oC(e))},(r,s)=>{i=this.jn(e,s)}).next(()=>i)}Wn(t,e){let i={size:0,document:ui.newInvalidDocument(e)};return Sm(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(oC(e))},(r,s)=>{i={document:this.jn(e,s),size:RI(s)}}).next(()=>i)}getEntries(t,e){let i=co();return this.zn(t,e,(r,s)=>{const c=this.jn(r,s);i=i.insert(r,c)}).next(()=>i)}Hn(t,e){let i=co(),r=new Hi(Ee.comparator);return this.zn(t,e,(s,c)=>{const d=this.jn(s,c);i=i.insert(s,d),r=r.insert(s,RI(c))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return fe.resolve();let r=new Yn($5);e.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(oC(r.first()),oC(r.last())),c=r.getIterator();let d=c.getNext();return Sm(t).Z({index:"documentKeyIndex",range:s},(p,_,b)=>{const D=Ee.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;d&&$5(d,D)<0;)i(d,null),d=c.getNext();d&&d.isEqual(D)&&(i(d,_),d=c.hasNext()?c.getNext():null),d?b.j(oC(d)):b.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),AI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Sm(t).W(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=co();for(const p of c){const _=this.jn(Ee.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(_.key,_)}return d})}getAllFromCollectionGroup(t,e,i,r){let s=co();const c=j5(e,i),d=j5(e,Gr.max());return Sm(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(p,_,b)=>{const D=this.jn(Ee.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(D.key,D),s.size===r&&b.done()}).next(()=>s)}newChangeBuffer(t){return new XH(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return H5(t).get("remoteDocumentGlobalKey").next(e=>(Lt(!!e),e))}Qn(t,e){return H5(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function LH(n,t){let e;if(t.document)e=d5(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ee.fromSegments(t.noDocument.path),r=bm(t.noDocument.readTime);e=ui.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ft();{const i=Ee.fromSegments(t.unknownDocument.path),r=bm(t.unknownDocument.version);e=ui.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new W(i[0],i[1]);return Q.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(Q.min()))return i}return ui.newInvalidDocument(t)}}function U5(n){return new QH(n)}class XH extends B5{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new Jh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Yn((s,c)=>A(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Xn.get(s);if(e.push(this.Yn.removeEntry(t,s,d.readTime)),c.isValidDocument()){const p=E5(this.Yn.It,c);r=r.add(s.path.popLast()),i+=RI(p)-d.size,e.push(this.Yn.addEntry(t,s,p))}else if(i-=d.size,this.trackRemovals){const p=E5(this.Yn.It,c.convertToNoDocument(Q.min()));e.push(this.Yn.addEntry(t,s,p))}}),r.forEach(s=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Yn.updateMetadata(t,i)),fe.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((s,c)=>{this.Xn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function H5(n){return Nr(n,"remoteDocumentGlobal")}function Sm(n){return Nr(n,"remoteDocumentsV14")}function oC(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function j5(n,t){const e=t.documentKey.path.toArray();return[n,AI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function $5(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=A(e[s],i[s]),r)return r;return r=A(e.length,i.length),r||(r=A(e[e.length-2],i[i.length-2]),r||A(e[e.length-1],i[i.length-1]))}class JH{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class z5{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&Wb(i.mutation,r,Wo.empty(),W.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,en()).next(()=>i))}getLocalViewOfDocuments(t,e,i=en()){const r=Hc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let c=Zb();return s.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=Hc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,en()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,r){let s=co();const c=qb(),d=qb();return e.forEach((p,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof ld)?s=s.insert(_.key,_):void 0!==b&&(c.set(_.key,b.mutation.getFieldMask()),Wb(b.mutation,_,b.mutation.getFieldMask(),W.now()))}),this.recalculateAndSaveOverlays(t,s).next(p=>(p.forEach((_,b)=>c.set(_,b)),e.forEach((_,b)=>{var D;return d.set(_,new JH(b,null!==(D=c.get(_))&&void 0!==D?D:null))}),d))}recalculateAndSaveOverlays(t,e){const i=qb();let r=new Hi((c,d)=>c-d),s=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=e.get(p);if(null===_)return;let b=i.get(p)||Wo.empty();b=d.applyToLocalView(_,b),i.set(p,b);const D=(r.get(d.batchId)||en()).add(p);r=r.insert(d.batchId,D)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,b=p.value,D=JL();b.forEach(M=>{if(!s.has(M)){const P=zL(e.get(M),i.get(M));null!==P&&D.set(M,P),s=s.add(M)}}),c.push(this.documentOverlayCache.saveOverlays(t,_,D))}return fe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Ee.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):tk(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):fe.resolve(Hc());let d=-1,p=s;return c.next(_=>fe.forEach(_,(b,D)=>(d<D.largestBatchId&&(d=D.largestBatchId),s.get(b)?fe.resolve():this.getBaseDocument(t,b,D).next(M=>{p=p.insert(b,M)}))).next(()=>this.populateOverlays(t,_,s)).next(()=>this.computeViews(t,p,_,en())).next(b=>({batchId:d,changes:XL(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ee(e)).next(i=>{let r=Zb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=Zb();return this.indexManager.getCollectionParents(t,r).next(c=>fe.forEach(c,d=>{const p=(_=e,b=d.child(r),new ad(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(_=>{_.forEach((b,D)=>{s=s.insert(b,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((d,p)=>{const _=p.getKey();null===r.get(_)&&(r=r.insert(_,ui.newInvalidDocument(_)))});let c=Zb();return r.forEach((d,p)=>{const _=s.get(d);void 0!==_&&Wb(_.mutation,p,Wo.empty(),W.now()),ik(e,p)&&(c=c.insert(d,p))}),c})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):fe.resolve(ui.newInvalidDocument(e))}}class ej{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return fe.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Pr(i.createTime)}),fe.resolve()}getNamedQuery(t,e){return fe.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:fk(i.bundledQuery),readTime:Pr(i.readTime)}),fe.resolve();var i}}class tj{constructor(){this.overlays=new Hi(Ee.comparator),this.es=new Map}getOverlay(t,e){return fe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Hc();return fe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ue(t,e,s)}),fe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),fe.resolve()}getOverlaysForCollection(t,e,i){const r=Hc(),s=e.length+1,c=new Ee(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return fe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Hi((_,b)=>_-b);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let b=s.get(_.largestBatchId);null===b&&(b=Hc(),s=s.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const d=Hc(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,b)=>d.set(_,b)),!(d.size()>=r)););return fe.resolve(d)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new hk(e,i));let s=this.es.get(e);void 0===s&&(s=en(),this.es.set(e,s)),this.es.set(e,s.add(i.key))}}class gk{constructor(){this.ns=new Yn(Fr.ss),this.rs=new Yn(Fr.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new Fr(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new Fr(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new Ee(new Se([])),i=new Fr(e,t),r=new Fr(e,t+1),s=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),s.push(c.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Ee(new Se([])),i=new Fr(e,t),r=new Fr(e,t+1);let s=en();return this.rs.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new Fr(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Fr{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Ee.comparator(t.key,e.key)||A(t._s,e._s)}static os(t,e){return A(t._s,e._s)||Ee.comparator(t.key,e.key)}}class nj{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Yn(Fr.ss)}checkEmpty(t){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++;const c=new uk(s,e,i,r);this.mutationQueue.push(c);for(const d of r)this.gs=this.gs.add(new Fr(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(t,e){return fe.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),s=r<0?0:r;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Fr(e,0),r=new Fr(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],c=>{const d=this.ys(c._s);s.push(d)}),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Yn(A);return e.forEach(r=>{const s=new Fr(r,0),c=new Fr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,c],d=>{i=i.add(d._s)})}),fe.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Ee.isDocumentKey(s)||(s=s.child(""));const c=new Fr(new Ee(s),0);let d=new Yn(A);return this.gs.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(d=d.add(p._s)),!0)},c),fe.resolve(this.Is(d))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Lt(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return fe.forEach(e.mutations,r=>{const s=new Fr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new Fr(e,0),r=this.gs.firstAfterOrEqual(i);return fe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return fe.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class ij{constructor(t){this.Es=t,this.docs=new Hi(Ee.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,c=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return fe.resolve(i?i.document.mutableCopy():ui.newInvalidDocument(e))}getEntries(t,e){let i=co();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ui.newInvalidDocument(r))}),fe.resolve(i)}getAllFromCollection(t,e,i){let r=co();const s=new Ee(e.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||um(ny(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return fe.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ft()}As(t,e){return fe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new rj(this)}getSize(t){return fe.resolve(this.size)}}class rj extends B5{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),fe.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class sj{constructor(t){this.persistence=t,this.Rs=new Jh(e=>gm(e),$b),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.bs=0,this.Ps=new gk,this.targetCount=0,this.vs=Im.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),fe.resolve()}getLastRemoteSnapshotVersion(t){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return fe.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),fe.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Im(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,fe.resolve()}updateTargetData(t,e){return this.Dn(e),fe.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,fe.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Rs.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Rs.delete(c),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),fe.waitFor(s).next(()=>r)}getTargetCount(t){return fe.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return fe.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),fe.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(c=>{s.push(r.markPotentiallyOrphaned(t,c))}),fe.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),fe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return fe.resolve(i)}containsKey(t,e){return fe.resolve(this.Ps.containsKey(e))}}class G5{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new lo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new sj(this),this.indexManager=new zH,this.remoteDocumentCache=new ij(i=>this.referenceDelegate.xs(i)),this.It=new w5(e),this.Ns=new ej(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new tj,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new nj(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){ze("MemoryPersistence","Starting transaction:",t);const r=new oj(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(t,e){return fe.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class oj extends ry{constructor(t){super(),this.currentSequenceNumber=t}}class NI{constructor(t){this.persistence=t,this.Fs=new gk,this.$s=null}static Bs(t){return new NI(t)}get Ls(){if(this.$s)return this.$s;throw ft()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),fe.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),fe.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Ls,i=>{const r=Ee.fromPath(i);return this.Us(t,r).next(s=>{s||e.removeEntry(r,Q.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return fe.or([()=>fe.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class aj{constructor(t){this.It=t}$(t,e,i,r){const s=new mI("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_5,{unique:!0}),d.createObjectStore("documentMutations"),W5(t),function(d){d.createObjectStore("remoteDocuments")}(t));let c=fe.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),W5(t)),c=c.next(()=>function(d){const p=d.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Q.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,p){return p.store("mutations").W().next(_=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_5,{unique:!0});const b=p.store("mutations"),D=_.map(M=>b.put(M));return fe.waitFor(D)})}(t,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.qs(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(s)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(s))),i<8&&r>=8&&(c=c.next(()=>this.Qs(t,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.js(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:RH});p.createIndex("collectionPathOverlayIndex",OH,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",PH,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:CH});p.createIndex("documentKeyIndex",wH),p.createIndex("collectionGroupIndex",EH)}(t)).next(()=>this.Ws(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(t,s))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:AH}).createIndex("sequenceNumberIndex",MH,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:xH}).createIndex("documentKeyIndex",kH,{unique:!1})}(t))),c}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=RI(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>fe.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(d=>fe.forEach(d,p=>{Lt(p.userId===s.userId);const _=Cm(this.It,p);return P5(t,s.userId,_).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((c,d)=>{const p=new Se(c),_=[0,Rs(p)];s.push(e.get(_).next(b=>b?fe.resolve():e.put({targetId:0,path:Rs(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>fe.waitFor(s))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:TH});const i=e.store("collectionParents"),r=new mk,s=c=>{if(r.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:Rs(p)})}};return e.store("remoteDocuments").Z({X:!0},(c,d)=>{const p=new Se(c);return s(p.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([c,d,p],_)=>{const b=$c(d);return s(b.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const s=tC(r),c=D5(this.It,s);return e.put(c)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((s,c)=>{const d=e.store("remoteDocumentsV14"),p=(_=c,_.document?new Ee(Se.fromString(_.document.name).popFirst(5)):_.noDocument?Ee.fromSegments(_.noDocument.path):_.unknownDocument?Ee.fromSegments(_.unknownDocument.path):ft()).path.toArray();var _;const b={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(b))}).next(()=>fe.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=U5(this.It),s=new G5(NI.Bs,this.It.re);return i.W().next(c=>{const d=new Map;return c.forEach(p=>{var _;let b=null!==(_=d.get(p.userId))&&void 0!==_?_:en();Cm(this.It,p).keys().forEach(D=>b=b.add(D)),d.set(p.userId,b)}),fe.forEach(d,(p,_)=>{const b=new cr(_),D=MI.oe(this.It,b),M=s.getIndexManager(b),P=OI.oe(b,this.It,M,s.referenceDelegate);return new z5(r,P,D,M).recalculateAndSaveOverlaysForDocumentKeys(new ck(e,lo.at),p).next()})})}}function W5(n){n.createObjectStore("targetDocuments",{keyPath:IH}).createIndex("documentTargetsIndex",SH,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",DH,{unique:!0}),n.createObjectStore("targetGlobal")}const _k="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yk{constructor(t,e,i,r,s,c,d,p,_,b,D=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=s,this.window=c,this.document=d,this.Js=_,this.Ys=b,this.Xs=D,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=M=>Promise.resolve(),!yk.C())throw new Ue(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new KH(this,r),this.ii=e+"main",this.It=new w5(p),this.ri=new Ql(this.ii,this.Xs,new aj(this.It)),this.Cs=new WH(this.referenceDelegate,this.It),this.remoteDocumentCache=U5(this.It),this.Ns=new VH,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===b&&Ui("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(_e.FAILED_PRECONDITION,_k);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new lo(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,we.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,we.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,we.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>FI(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Zh(t))return ze("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return aC(t).get("owner").next(e=>fe.resolve(this.mi(e)))}gi(t){return FI(t).delete(this.clientId)}yi(){var t=this;return(0,we.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Nr(i,"clientMetadata");return r.W().next(s=>{const c=t.Ii(s,18e5),d=s.filter(p=>-1===c.indexOf(p));return fe.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?fe.resolve(!0):aC(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Ue(_e.FAILED_PRECONDITION,_k);return!1}}return!(!this.networkEnabled||!this.inForeground)||FI(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&ze("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,we.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new ck(e,lo.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>FI(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return OI.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new GH(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return MI.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){ze("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(c=this.Xs)?FH:14===c?C5:13===c?b5:12===c?NH:11===c?v5:void ft();var c;let d;return this.ri.runTransaction(t,r,s,p=>(d=new ck(p,this.Ss?this.Ss.next():lo.at),"readwrite-primary"===e?this.fi(d).next(_=>!!_||this.di(d)).next(_=>{if(!_)throw Ui(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ue(_e.FAILED_PRECONDITION,iy);return i(d)}).next(_=>this.wi(d).next(()=>_)):this.Vi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}Vi(t){return aC(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ue(_e.FAILED_PRECONDITION,_k)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return aC(t).put("owner",e)}static C(){return Ql.C()}_i(t){const e=aC(t);return e.get("owner").next(i=>this.mi(i)?(ze("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):fe.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Ui(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,V.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return ze("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ui("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Ui("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function aC(n){return Nr(n,"owner")}function FI(n){return Nr(n,"clientMetadata")}function vk(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class bk{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=en(),r=en();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new bk(t,e.fromCache,i,r)}}class Z5{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(s=>s||this.Oi(t,e,r,i)).next(s=>s||this.Mi(t,e))}ki(t,e){if(RL(e))return fe.resolve(null);let i=ks(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=CI(e,null,"F"),i=ks(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const c=en(...s);return this.Ni.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,i).next(p=>{const _=this.Fi(e,d);return this.$i(e,_,c,p.readTime)?this.ki(t,CI(e,null,"F")):this.Bi(t,_,e,p)}))})))}Oi(t,e,i,r){return RL(e)||r.isEqual(Q.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(s=>{const c=this.Fi(e,s);return this.$i(e,c,i,r)?this.Mi(t,e):(Pb()<=Uo.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nk(e)),this.Bi(t,c,e,ty(r,-1)))})}Fi(t,e){let i=new Yn(NL(t));return e.forEach((r,s)=>{ik(t,s)&&(i=i.add(s))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(t,e){return Pb()<=Uo.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",nk(e)),this.Ni.getDocumentsMatchingQuery(t,e,Gr.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(c=>{s=s.insert(c.key,c)}),s))}}class lj{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new Hi(A),this.qi=new Jh(s=>gm(s),$b),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new z5(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function q5(n,t,e,i){return new lj(n,t,e,i)}function Y5(n,t){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,we.Z)(function*(n,t){const e=rt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let p=en();for(const _ of r){c.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of s){d.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return e.localDocuments.getDocuments(i,p).next(_=>({ji:_,removedBatchIds:c,addedBatchIds:d}))})})}),Ck.apply(this,arguments)}function cj(n,t){const e=rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(c,d,p,_){const b=p.batch,D=b.keys();let M=fe.resolve();return D.forEach(P=>{M=M.next(()=>_.getEntry(d,P)).next(L=>{const K=p.docVersions.get(P);Lt(null!==K),L.version.compareTo(K)<0&&(b.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),_.addEntry(L)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(d,b))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=en();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function K5(n){const t=rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function uj(n,t){const e=rt(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const d=[];t.targetChanges.forEach((b,D)=>{const M=r.get(D);if(!M)return;d.push(e.Cs.removeMatchingKeys(s,b.removedDocuments,D).next(()=>e.Cs.addMatchingKeys(s,b.addedDocuments,D)));let P=M.withSequenceNumber(s.currentSequenceNumber);var L,K,se;t.targetMismatches.has(D)?P=P.withResumeToken(br.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):b.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(b.resumeToken,i)),r=r.insert(D,P),K=P,se=b,(0===(L=M).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8||se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0)&&d.push(e.Cs.updateTargetData(s,P))});let p=co(),_=en();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,b))}),d.push(Q5(s,c,t.documentUpdates).next(b=>{p=b.Wi,_=b.zi})),!i.isEqual(Q.min())){const b=e.Cs.getLastRemoteSnapshotVersion(s).next(D=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(b)}return fe.waitFor(d).next(()=>c.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,p,_)).next(()=>p)}).then(s=>(e.Ui=r,s))}function Q5(n,t,e){let i=en(),r=en();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let c=co();return e.forEach((d,p)=>{const _=s.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(Q.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):ze("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Wi:c,zi:r}})}function dj(n,t){const e=rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function yy(n,t){const e=rt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(s=>s?(r=s,fe.resolve(r)):e.Cs.allocateTargetId(i).next(c=>(r=new ef(t,c,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function vy(n,t,e){return wk.apply(this,arguments)}function wk(){return wk=(0,we.Z)(function*(n,t,e){const i=rt(n),r=i.Ui.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Zh(c))throw c;ze("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),wk.apply(this,arguments)}function LI(n,t,e){const i=rt(n);let r=Q.min(),s=en();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,_){const b=rt(d),D=b.qi.get(_);return void 0!==D?fe.resolve(b.Ui.get(D)):b.Cs.getTargetData(p,_)}(i,c,ks(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{s=p})}).next(()=>i.Li.getDocumentsMatchingQuery(c,t,e?r:Q.min(),e?s:en())).next(d=>(e3(i,PL(t),d),{documents:d,Hi:s})))}function X5(n,t){const e=rt(n),i=rt(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.se(s,t).next(c=>c?c.target:null))}function J5(n,t){const e=rt(n),i=e.Ki.get(t)||Q.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,ty(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(e3(e,t,r),r))}function e3(n,t,e){let i=n.Ki.get(t)||Q.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(t,i)}function Ek(){return Ek=(0,we.Z)(function*(n,t,e,i){const r=rt(n);let s=en(),c=co();for(const _ of e){const b=t.Ji(_.metadata.name);_.document&&(s=s.add(b));const D=t.Yi(_);D.setReadTime(t.Xi(_.metadata.readTime)),c=c.insert(b,D)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),p=yield yy(r,(_=i,ks(ly(Se.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>Q5(_,d,c).next(b=>(d.apply(_),b)).next(b=>r.Cs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>r.Cs.addMatchingKeys(_,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,b.Wi,b.zi)).next(()=>b.Wi)))}),Ek.apply(this,arguments)}function fj(n,t){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,we.Z)(function*(n,t,e=en()){const i=yield yy(n,ks(fk(t.bundledQuery))),r=rt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=Pr(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(s,t);const d=i.withResumeToken(br.EMPTY_BYTE_STRING,c);return r.Ui=r.Ui.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,t))})}),Dk.apply(this,arguments)}function t3(n,t){return`firestore_clients_${n}_${t}`}function n3(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function Ik(n,t){return`firestore_targets_${n}_${t}`}class VI{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Ue(r.error.code,r.error.message))),c?new VI(t,e,r.state,s):(Ui("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class lC{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ue(i.error.code,i.error.message))),s?new lC(t,i.state,r):(Ui("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class BI{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=II();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=_L(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new BI(t,s):(Ui("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Sk{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Sk(e.clientId,e.onlineState):(Ui("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Tk{constructor(){this.activeTargetIds=II()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ak{constructor(t,e,i,r,s){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Hi(A),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=t3(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Tk),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,we.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const s=t.getItem(t3(t.persistenceKey,r));if(s){const c=BI.Zi(r,s);c&&(t.ur=t.ur.insert(c.clientId,c))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(Ik(this.persistenceKey,t));if(i){const r=lC.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Ik(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return ze("SharedClientState","READ",t,e),e}setItem(t,e){ze("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){ze("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(ze("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Ui("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,we.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(s){let c=lo.at;if(null!=s)try{const d=JSON.parse(s);Lt("number"==typeof d),c=d}catch(d){Ui("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==lo.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Mr(s)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new VI(this.currentUser,t,e,i),s=n3(this.persistenceKey,this.currentUser,t);this.setItem(s,r.tr())}Er(t){const e=n3(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=Ik(this.persistenceKey,t),s=new lC(t,e,i);this.setItem(r,s.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return BI.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return VI.Zi(new cr(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return lC.Zi(r,e)}yr(t){return Sk.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,we.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);ze("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),s=this.Ir(i),c=[],d=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||d.push(p)}),this.syncEngine.Br(c,d).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=II();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class r3{constructor(){this.Lr=new Tk,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new Tk,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class pj{qr(t){}shutdown(){}}class s3{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const mj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gj{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class _j extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,s){const c=this.ho(t,e);ze("RestConnection","Sending: ",c,i);const d={};return this.lo(d,r,s),this.fo(t,c,d,i).then(p=>(ze("RestConnection","Received: ",p),p),p=>{throw Wh("RestConnection",`${t} failed with error: `,p,"url: ",c,"request:",i),p})}_o(t,e,i,r,s,c){return this.ao(t,e,i,r,s)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+cm,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ho(t,e){return`${this.oo}/v1/${e}:${mj[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((s,c)=>{const d=new Ob;d.setWithCredentials(!0),d.listenOnce(zx.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Rb.NO_ERROR:const _=d.getResponseJson();ze("Connection","XHR received:",JSON.stringify(_)),s(_);break;case Rb.TIMEOUT:ze("Connection",'RPC "'+t+'" timed out'),c(new Ue(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Rb.HTTP_ERROR:const b=d.getStatus();if(ze("Connection",'RPC "'+t+'" failed with status:',b,"response text:",d.getResponseText()),b>0){const D=d.getResponseJson().error;if(D&&D.status&&D.message){const M=function(P){const L=P.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(L)>=0?L:_e.UNKNOWN}(D.status);c(new Ue(M,D.message))}else c(new Ue(_e.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ue(_e.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{ze("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);d.send(e,"POST",p,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=uI(),c=dI(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new uL({})),this.lo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const p=r.join("");ze("Connection","Creating WebChannel: "+p,d);const _=s.createWebChannel(p,d);let b=!1,D=!1;const M=new gj({Hr:L=>{D?ze("Connection","Not sending because WebChannel is closed:",L):(b||(ze("Connection","Opening WebChannel transport."),_.open(),b=!0),ze("Connection","WebChannel sending:",L),_.send(L))},Jr:()=>_.close()}),P=(L,K,se)=>{L.listen(K,Oe=>{try{se(Oe)}catch(Ze){setTimeout(()=>{throw Ze},0)}})};return P(_,lm.EventType.OPEN,()=>{D||ze("Connection","WebChannel transport opened.")}),P(_,lm.EventType.CLOSE,()=>{D||(D=!0,ze("Connection","WebChannel transport closed"),M.io())}),P(_,lm.EventType.ERROR,L=>{D||(D=!0,Wh("Connection","WebChannel transport errored:",L),M.io(new Ue(_e.UNAVAILABLE,"The operation could not be completed")))}),P(_,lm.EventType.MESSAGE,L=>{var K;if(!D){const se=L.data[0];Lt(!!se);const Oe=se,Ze=Oe.error||(null===(K=Oe[0])||void 0===K?void 0:K.error);if(Ze){ze("Connection","WebChannel received error:",Ze);const Ke=Ze.status;let Xe=function(At){const cn=dr[At];if(void 0!==cn)return KL(cn)}(Ke),Et=Ze.message;void 0===Xe&&(Xe=_e.INTERNAL,Et="Unknown error status: "+Ke+" with message "+Ze.message),D=!0,M.io(new Ue(Xe,Et)),_.close()}else ze("Connection","WebChannel received:",se),M.ro(se)}}),P(c,hI.STAT_EVENT,L=>{L.stat===ey.PROXY?ze("Connection","Detected buffering proxy"):L.stat===ey.NOPROXY&&ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.so()},0),M}}function o3(){return typeof window<"u"?window:null}function UI(){return typeof document<"u"?document:null}function cC(n){return new lH(n,!0)}class Mk{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&ze("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class a3{constructor(t,e,i,r,s,c,d,p){this.Hs=t,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Mk(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,we.Z)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,we.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,we.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===_e.RESOURCE_EXHAUSTED?(Ui(e.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===_e.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new Ue(_e.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,we.Z)(function*(){t.state=0,t.start()}))}Qo(t){return ze("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yj extends a3{constructor(t,e,i,r,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.It=s}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function dH(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:ft(),r=t.targetChange.targetIds||[],s=function(p,_){return p.gt?(Lt(void 0===_||"string"==typeof _),br.fromBase64String(_||"")):(Lt(void 0===_||_ instanceof Uint8Array),br.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const _=void 0===p.code?_e.UNKNOWN:KL(p.code);return new Ue(_,p.message||"")}(c);e=new t5(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=jc(n,i.document.name),s=Pr(i.document.updateTime),c=new Zr({mapValue:{fields:i.document.fields}}),d=ui.newFoundDocument(r,s,c);e=new SI(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=jc(n,i.document),s=i.readTime?Pr(i.readTime):Q.min(),c=ui.newNoDocument(r,s);e=new SI([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=jc(n,i.document);e=new SI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ft();{const i=t.filter,s=new eH(i.count||0);e=new e5(i.targetId,s)}}var p;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return Q.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Q.min():s.readTime?Pr(s.readTime):Q.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=Jb(this.It),e.addTarget=function(r,s){let c;const d=s.target;return c=vI(d)?{documents:h5(r,d)}:{query:lk(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=o5(r,s.resumeToken):s.snapshotVersion.compareTo(Q.min())>0&&(c.readTime=Qb(r,s.snapshotVersion.toTimestamp())),c}(this.It,t);const i=function fH(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ft()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=Jb(this.It),e.removeTarget=t,this.Bo(e)}}class vj extends a3{constructor(t,e,i,r,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(Lt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function hH(n,t){return n&&n.length>0?(Lt(void 0!==t),n.map(e=>function(i,r){let s=Pr(i.updateTime?i.updateTime:r);return s.isEqual(Q.min())&&(s=Pr(r)),new QU(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Pr(t.commitTime);return this.listener.Zo(i,e)}return Lt(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Jb(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>eC(this.It,i))};this.Bo(e)}}class bj extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Ue(_e.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ue(_e.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection._o(t,e,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ue(_e.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class wj{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ui(e),this.ou=!1):ze("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Ej{constructor(t,e,i,r,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(d=>{i.enqueueAndForget((0,we.Z)(function*(){var p;cd(c)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,we.Z)(function*(_){const b=rt(_);b._u.add(4),yield by(b),b.gu.set("Unknown"),b._u.delete(4),yield uC(b)}),function(_){return p.apply(this,arguments)})(c))}))}),this.gu=new wj(i,r)}}function uC(n){return kk.apply(this,arguments)}function kk(){return kk=(0,we.Z)(function*(n){if(cd(n))for(const t of n.wu)yield t(!0)}),kk.apply(this,arguments)}function by(n){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,we.Z)(function*(n){for(const t of n.wu)yield t(!1)}),Rk.apply(this,arguments)}function HI(n,t){const e=rt(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),Nk(e)?Pk(e):wy(e).ko()&&Ok(e,t))}function dC(n,t){const e=rt(n),i=wy(e);e.du.delete(t),i.ko()&&l3(e,t),0===e.du.size&&(i.ko()?i.Fo():cd(e)&&e.gu.set("Unknown"))}function Ok(n,t){n.yu.Mt(t.targetId),wy(n).zo(t)}function l3(n,t){n.yu.Mt(t),wy(n).Ho(t)}function Pk(n){n.yu=new sH({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),wy(n).start(),n.gu.uu()}function Nk(n){return cd(n)&&!wy(n).No()&&n.du.size>0}function cd(n){return 0===rt(n)._u.size}function c3(n){n.yu=void 0}function Dj(n){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,we.Z)(function*(n){n.du.forEach((t,e)=>{Ok(n,t)})}),Fk.apply(this,arguments)}function Ij(n,t){return Lk.apply(this,arguments)}function Lk(){return Lk=(0,we.Z)(function*(n,t){c3(n),Nk(n)?(n.gu.hu(t),Pk(n)):n.gu.set("Unknown")}),Lk.apply(this,arguments)}function Sj(n,t,e){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,we.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof t5&&2===t.state&&t.cause)try{yield(i=(0,we.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){ze("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield jI(n,i)}else if(t instanceof SI?n.yu.Gt(t):t instanceof e5?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(Q.min()))try{const i=yield K5(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const c=r.yu.te(s);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=r.du.get(p);_&&r.du.set(p,_.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const p=r.du.get(d);if(!p)return;r.du.set(d,p.withResumeToken(br.EMPTY_BYTE_STRING,p.snapshotVersion)),l3(r,d);const _=new ef(p.target,d,1,p.sequenceNumber);Ok(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){ze("RemoteStore","Failed to raise snapshot:",i),yield jI(n,i)}var i}),Vk.apply(this,arguments)}function jI(n,t,e){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,we.Z)(function*(n,t,e){if(!Zh(t))throw t;n._u.add(1),yield by(n),n.gu.set("Offline"),e||(e=()=>K5(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield uC(n)}))}),Bk.apply(this,arguments)}function u3(n,t){return t().catch(e=>jI(n,e,t))}function Cy(n){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,we.Z)(function*(n){const t=rt(n),e=rf(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;Tj(t);)try{const r=yield dj(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,Aj(t,r)}catch(r){yield jI(t,r)}d3(t)&&h3(t)}),Uk.apply(this,arguments)}function Tj(n){return cd(n)&&n.fu.length<10}function Aj(n,t){n.fu.push(t);const e=rf(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function d3(n){return cd(n)&&!rf(n).No()&&n.fu.length>0}function h3(n){rf(n).start()}function Mj(n){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,we.Z)(function*(n){rf(n).eu()}),Hk.apply(this,arguments)}function xj(n){return jk.apply(this,arguments)}function jk(){return jk=(0,we.Z)(function*(n){const t=rf(n);for(const e of n.fu)t.Xo(e.mutations)}),jk.apply(this,arguments)}function kj(n,t,e){return $k.apply(this,arguments)}function $k(){return $k=(0,we.Z)(function*(n,t,e){const i=n.fu.shift(),r=dk.from(i,t,e);yield u3(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Cy(n)}),$k.apply(this,arguments)}function Rj(n,t){return zk.apply(this,arguments)}function zk(){return zk=(0,we.Z)(function*(n,t){var e;t&&rf(n).Yo&&(yield(e=(0,we.Z)(function*(i,r){if(YL(s=r.code)&&s!==_e.ABORTED){const c=i.fu.shift();rf(i).Mo(),yield u3(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Cy(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),d3(n)&&h3(n)}),zk.apply(this,arguments)}function f3(n,t){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,we.Z)(function*(n,t){const e=rt(n);e.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const i=cd(e);e._u.add(3),yield by(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield uC(e)}),Gk.apply(this,arguments)}function Wk(n,t){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,we.Z)(function*(n,t){const e=rt(n);t?(e._u.delete(2),yield uC(e)):t||(e._u.add(2),yield by(e),e.gu.set("Unknown"))}),Zk.apply(this,arguments)}function wy(n){return n.pu||(n.pu=function(t,e,i){const r=rt(t);return r.su(),new yj(e,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:Dj.bind(null,n),Zr:Ij.bind(null,n),Wo:Sj.bind(null,n)}),n.wu.push(function(){var t=(0,we.Z)(function*(e){e?(n.pu.Mo(),Nk(n)?Pk(n):n.gu.set("Unknown")):(yield n.pu.stop(),c3(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function rf(n){return n.Iu||(n.Iu=function(t,e,i){const r=rt(t);return r.su(),new vj(e,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:Mj.bind(null,n),Zr:Rj.bind(null,n),tu:xj.bind(null,n),Zo:kj.bind(null,n)}),n.wu.push(function(){var t=(0,we.Z)(function*(e){e?(n.Iu.Mo(),yield Cy(n)):(yield n.Iu.stop(),n.fu.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class qk{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,s){const c=Date.now()+i,d=new qk(t,e,c,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(_e.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(n,t){if(Ui("AsyncQueue",`${t}: ${n}`),Zh(n))return new Ue(_e.UNAVAILABLE,`${t}: ${n}`);throw n}class Dy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ee.comparator(e.key,i.key):(e,i)=>Ee.comparator(e.key,i.key),this.keyedMap=Zb(),this.sortedSet=new Hi(this.comparator)}static emptySet(t){return new Dy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Dy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Dy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class p3{constructor(){this.Tu=new Hi(Ee.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):ft():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Iy{constructor(t,e,i,r,s,c,d,p,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,e,i,r,s){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new Iy(t,e,Dy.emptySet(e),c,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Oj{constructor(){this.Au=void 0,this.listeners=[]}}class Pj{constructor(){this.queries=new Jh(t=>OL(t),zb),this.onlineState="Unknown",this.Ru=new Set}}function Yk(n,t){return Kk.apply(this,arguments)}function Kk(){return Kk=(0,we.Z)(function*(n,t){const e=rt(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new Oj),r)try{s.Au=yield e.onListen(i)}catch(c){const d=Ey(c,`Initialization of query '${nk(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.bu(e.onlineState),s.Au&&t.Pu(s.Au)&&Jk(e)}),Kk.apply(this,arguments)}function Qk(n,t){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,we.Z)(function*(n,t){const e=rt(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),Xk.apply(this,arguments)}function Nj(n,t){const e=rt(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Pu(r)&&(i=!0);c.Au=r}}i&&Jk(e)}function Fj(n,t,e){const i=rt(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function Jk(n){n.Ru.forEach(t=>{t.next()})}class e2{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Iy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=Iy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class Lj{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class m3{constructor(t){this.It=t}Ji(t){return jc(this.It,t)}Yi(t){return t.metadata.exists?d5(this.It,t.document,!1):ui.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Pr(t)}}class Vj{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=g3(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=Se.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new m3(this.It);for(const r of t)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const d=(e.get(c)||en()).add(s);e.set(c,d)}}return e}complete(){var t=this;return(0,we.Z)(function*(){const e=yield function hj(n,t,e,i){return Ek.apply(this,arguments)}(t.localStore,new m3(t.It),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield fj(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function g3(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _3{constructor(t){this.key=t}}class y3{constructor(t){this.key=t}}class v3{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=en(),this.mutatedKeys=en(),this.Gu=NL(t),this.Qu=new Dy(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new p3,r=e?e.Qu:this.Qu;let s=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((b,D)=>{const M=r.get(b),P=ik(this.query,D)?D:null,L=!!M&&this.mutatedKeys.has(M.key),K=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let se=!1;M&&P?M.data.isEqual(P.data)?L!==K&&(i.track({type:3,doc:P}),se=!0):this.Hu(M,P)||(i.track({type:2,doc:P}),se=!0,(p&&this.Gu(P,p)>0||_&&this.Gu(P,_)<0)&&(d=!0)):!M&&P?(i.track({type:0,doc:P}),se=!0):M&&!P&&(i.track({type:1,doc:M}),se=!0,(p||_)&&(d=!0)),se&&(P?(c=c.add(P),s=K?s.add(b):s.delete(b)):(c=c.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{Qu:c,zu:i,$i:d,mutatedKeys:s}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const s=t.zu.Eu();s.sort((_,b)=>function(D,M){const P=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return P(D)-P(M)}(_.type,b.type)||this.Gu(_.doc,b.doc)),this.Ju(i);const c=e?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,p=d!==this.qu;return this.qu=d,0!==s.length||p?{snapshot:new Iy(this.query,t.Qu,r,s,t.mutatedKeys,0===d,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new p3,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=en(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new y3(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new _3(i))}),e}tc(t){this.Uu=t.Hi,this.Ku=en();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return Iy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Bj{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Uj{constructor(t){this.key=t,this.nc=!1}}class Hj{constructor(t,e,i,r,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Jh(d=>OL(d),zb),this.rc=new Map,this.oc=new Set,this.uc=new Hi(Ee.comparator),this.cc=new Map,this.ac=new gk,this.hc={},this.lc=new Map,this.fc=Im.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function jj(n,t){return t2.apply(this,arguments)}function t2(){return t2=(0,we.Z)(function*(n,t){const e=I2(n);let i,r;const s=e.ic.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const c=yield yy(e.localStore,ks(t));e.isPrimaryClient&&HI(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield n2(e,t,i,"current"===d,c.resumeToken)}return r}),t2.apply(this,arguments)}function n2(n,t,e,i,r){return r2.apply(this,arguments)}function r2(){return r2=(0,we.Z)(function*(n,t,e,i,r){n._c=(D,M,P)=>{return(L=(0,we.Z)(function*(K,se,Oe,Ze){let Ke=se.view.Wu(Oe);Ke.$i&&(Ke=yield LI(K.localStore,se.query,!1).then(({documents:At})=>se.view.Wu(At,Ke)));const Xe=Ze&&Ze.targetChanges.get(se.targetId),Et=se.view.applyChanges(Ke,K.isPrimaryClient,Xe);return p2(K,se.targetId,Et.Xu),Et.snapshot}),function(K,se,Oe,Ze){return L.apply(this,arguments)})(n,D,M,P);var L};const s=yield LI(n.localStore,t,!0),c=new v3(t,s.Hi),d=c.Wu(s.documents),p=Kb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),_=c.applyChanges(d,n.isPrimaryClient,p);p2(n,e,_.Xu);const b=new Bj(t,e,c);return n.ic.set(t,b),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),_.snapshot}),r2.apply(this,arguments)}function $j(n,t){return s2.apply(this,arguments)}function s2(){return s2=(0,we.Z)(function*(n,t){const e=rt(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(s=>!zb(s,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield vy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),dC(e.remoteStore,i.targetId),Sy(e,i.targetId)}).catch(Wa))):(Sy(e,i.targetId),yield vy(e.localStore,i.targetId,!0))}),s2.apply(this,arguments)}function o2(){return o2=(0,we.Z)(function*(n,t,e){const i=S2(n);try{const r=yield function(s,c){const d=rt(s),p=W.now(),_=c.reduce((M,P)=>M.add(P.key),en());let b,D;return d.persistence.runTransaction("Locally write mutations","readwrite",M=>{let P=co(),L=en();return d.Gi.getEntries(M,_).next(K=>{P=K,P.forEach((se,Oe)=>{Oe.isValidDocument()||(L=L.add(se))})}).next(()=>d.localDocuments.getOverlayedDocuments(M,P)).next(K=>{b=K;const se=[];for(const Oe of c){const Ze=JU(Oe,b.get(Oe.key).overlayedDocument);null!=Ze&&se.push(new ld(Oe.key,Ze,DL(Ze.value.mapValue),Ei.exists(!0)))}return d.mutationQueue.addMutationBatch(M,p,se,c)}).next(K=>{D=K;const se=K.applyToLocalDocumentSet(b,L);return d.documentOverlayCache.saveOverlays(M,K.batchId,se)})}).then(()=>({batchId:D.batchId,changes:XL(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let p=s.hc[s.currentUser.toKey()];p||(p=new Hi(A)),p=p.insert(c,d),s.hc[s.currentUser.toKey()]=p}(i,r.batchId,e),yield ud(i,r.changes),yield Cy(i.remoteStore)}catch(r){const s=Ey(r,"Failed to persist write");e.reject(s)}}),o2.apply(this,arguments)}function b3(n,t){return a2.apply(this,arguments)}function a2(){return a2=(0,we.Z)(function*(n,t){const e=rt(n);try{const i=yield uj(e.localStore,t);t.targetChanges.forEach((r,s)=>{const c=e.cc.get(s);c&&(Lt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.nc=!0:r.modifiedDocuments.size>0?Lt(c.nc):r.removedDocuments.size>0&&(Lt(c.nc),c.nc=!1))}),yield ud(e,i,t)}catch(i){yield Wa(i)}}),a2.apply(this,arguments)}function C3(n,t,e){const i=rt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((s,c)=>{const d=c.view.bu(t);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=rt(s);d.onlineState=c;let p=!1;d.queries.forEach((_,b)=>{for(const D of b.listeners)D.bu(c)&&(p=!0)}),p&&Jk(d)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Gj(n,t,e){return l2.apply(this,arguments)}function l2(){return l2=(0,we.Z)(function*(n,t,e){const i=rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),s=r&&r.key;if(s){let c=new Hi(Ee.comparator);c=c.insert(s,ui.newNoDocument(s,Q.min()));const d=en().add(s),p=new Yb(Q.min(),new Map,new Yn(A),c,d);yield b3(i,p),i.uc=i.uc.remove(s),i.cc.delete(t),m2(i)}else yield vy(i.localStore,t,!1).then(()=>Sy(i,t,e)).catch(Wa)}),l2.apply(this,arguments)}function Wj(n,t){return c2.apply(this,arguments)}function c2(){return c2=(0,we.Z)(function*(n,t){const e=rt(n),i=t.batch.batchId;try{const r=yield cj(e.localStore,t);f2(e,i,null),h2(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield ud(e,r)}catch(r){yield Wa(r)}}),c2.apply(this,arguments)}function Zj(n,t,e){return u2.apply(this,arguments)}function u2(){return u2=(0,we.Z)(function*(n,t,e){const i=rt(n);try{const r=yield function(s,c){const d=rt(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,c).next(b=>(Lt(null!==b),_=b.keys(),d.mutationQueue.removeMutationBatch(p,b))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(i.localStore,t);f2(i,t,e),h2(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield ud(i,r)}catch(r){yield Wa(r)}}),u2.apply(this,arguments)}function d2(){return d2=(0,we.Z)(function*(n,t){const e=rt(n);cd(e.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=rt(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=Ey(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),d2.apply(this,arguments)}function h2(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function f2(n,t,e){const i=rt(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function Sy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||w3(n,i)})}function w3(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(dC(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),m2(n))}function p2(n,t,e){for(const i of e)i instanceof _3?(n.ac.addReference(i.key,t),Yj(n,i)):i instanceof y3?(ze("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||w3(n,i.key)):ft()}function Yj(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||(ze("SyncEngine","New document in limbo: "+e),n.oc.add(i),m2(n))}function m2(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new Ee(Se.fromString(t)),i=n.fc.next();n.cc.set(i,new Uj(e)),n.uc=n.uc.insert(e,i),HI(n.remoteStore,new ef(ks(ly(e.path)),i,2,lo.at))}}function ud(n,t,e){return g2.apply(this,arguments)}function g2(){return g2=(0,we.Z)(function*(n,t,e){const i=rt(n),r=[],s=[],c=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,p)=>{c.push(i._c(p,t,e).then(_=>{if((_||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_?.fromCache?"not-current":"current"),_){r.push(_);const b=bk.Ci(p.targetId,_);s.push(b)}}))}),yield Promise.all(c),i.sc.Wo(r),yield(d=(0,we.Z)(function*(p,_){const b=rt(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>fe.forEach(_,M=>fe.forEach(M.Si,P=>b.persistence.referenceDelegate.addReference(D,M.targetId,P)).next(()=>fe.forEach(M.Di,P=>b.persistence.referenceDelegate.removeReference(D,M.targetId,P)))))}catch(D){if(!Zh(D))throw D;ze("LocalStore","Failed to update sequence numbers: "+D)}for(const D of _){const M=D.targetId;if(!D.fromCache){const P=b.Ui.get(M),K=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);b.Ui=b.Ui.insert(M,K)}}}),function(p,_){return d.apply(this,arguments)})(i.localStore,s))}),g2.apply(this,arguments)}function Kj(n,t){return _2.apply(this,arguments)}function _2(){return _2=(0,we.Z)(function*(n,t){const e=rt(n);if(!e.currentUser.isEqual(t)){ze("SyncEngine","User change. New user:",t.toKey());const i=yield Y5(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(c=>{c.forEach(d=>{d.reject(new Ue(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield ud(e,i.ji)}var r}),_2.apply(this,arguments)}function Qj(n,t){const e=rt(n),i=e.cc.get(t);if(i&&i.nc)return en().add(i.key);{let r=en();const s=e.rc.get(t);if(!s)return r;for(const c of s){const d=e.ic.get(c);r=r.unionWith(d.view.ju)}return r}}function Xj(n,t){return y2.apply(this,arguments)}function y2(){return y2=(0,we.Z)(function*(n,t){const e=rt(n),i=yield LI(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&p2(e,t.targetId,r.Xu),r}),y2.apply(this,arguments)}function Jj(n,t){return v2.apply(this,arguments)}function v2(){return v2=(0,we.Z)(function*(n,t){const e=rt(n);return J5(e.localStore,t).then(i=>ud(e,i))}),v2.apply(this,arguments)}function e$(n,t,e,i){return b2.apply(this,arguments)}function b2(){return b2=(0,we.Z)(function*(n,t,e,i){const r=rt(n),s=yield function(c,d){const p=rt(c),_=rt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Tn(b,d).next(D=>D?p.localDocuments.getDocuments(b,D):fe.resolve(null)))}(r.localStore,t);var d;null!==s?("pending"===e?yield Cy(r.remoteStore):"acknowledged"===e||"rejected"===e?(f2(r,t,i||null),h2(r,t),d=t,rt(rt(r.localStore).mutationQueue).An(d)):ft(),yield ud(r,s)):ze("SyncEngine","Cannot apply mutation batch with id: "+t)}),b2.apply(this,arguments)}function C2(){return C2=(0,we.Z)(function*(n,t){const e=rt(n);if(I2(e),S2(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield E3(e,i.toArray());e.dc=!0,yield Wk(e.remoteStore,!0);for(const s of r)HI(e.remoteStore,s)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((s,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Sy(e,c),vy(e.localStore,c,!0))),dC(e.remoteStore,c)}),yield r,yield E3(e,i),function(s){const c=rt(s);c.cc.forEach((d,p)=>{dC(c.remoteStore,p)}),c.ac.fs(),c.cc=new Map,c.uc=new Hi(Ee.comparator)}(e),e.dc=!1,yield Wk(e.remoteStore,!1)}}),C2.apply(this,arguments)}function E3(n,t,e){return w2.apply(this,arguments)}function w2(){return w2=(0,we.Z)(function*(n,t,e){const i=rt(n),r=[],s=[];for(const c of t){let d;const p=i.rc.get(c);if(p&&0!==p.length){d=yield yy(i.localStore,ks(p[0]));for(const _ of p){const b=i.ic.get(_),D=yield Xj(i,b);D.snapshot&&s.push(D.snapshot)}}else{const _=yield X5(i.localStore,c);d=yield yy(i.localStore,_),yield n2(i,D3(_),c,!1,d.resumeToken)}r.push(d)}return i.sc.Wo(s),r}),w2.apply(this,arguments)}function D3(n){return kL(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function n$(n){const t=rt(n);return rt(rt(t.localStore).persistence).vi()}function i$(n,t,e,i){return E2.apply(this,arguments)}function E2(){return E2=(0,we.Z)(function*(n,t,e,i){const r=rt(n);if(r.dc)return void ze("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const c=yield J5(r.localStore,PL(s[0])),d=Yb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,br.EMPTY_BYTE_STRING);yield ud(r,c,d);break}case"rejected":yield vy(r.localStore,t,!0),Sy(r,t,i);break;default:ft()}}),E2.apply(this,arguments)}function r$(n,t,e){return D2.apply(this,arguments)}function D2(){return D2=(0,we.Z)(function*(n,t,e){const i=I2(n);if(i.dc){for(const r of t){if(i.rc.has(r)){ze("SyncEngine","Adding an already active target "+r);continue}const s=yield X5(i.localStore,r),c=yield yy(i.localStore,s);yield n2(i,D3(s),c.targetId,!1,c.resumeToken),HI(i.remoteStore,c)}for(const r of e)i.rc.has(r)&&(yield vy(i.localStore,r,!1).then(()=>{dC(i.remoteStore,r),Sy(i,r)}).catch(Wa))}}),D2.apply(this,arguments)}function I2(n){const t=rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=b3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Gj.bind(null,t),t.sc.Wo=Nj.bind(null,t.eventManager),t.sc.wc=Fj.bind(null,t.eventManager),t}function S2(n){const t=rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Zj.bind(null,t),t}class I3{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,we.Z)(function*(){e.It=cC(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return q5(this.persistence,new Z5,t.initialUser,this.It)}yc(t){return new G5(NI.Bs,this.It)}gc(t){return new r3}terminate(){var t=this;return(0,we.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class S3 extends I3{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield S2(i.Ac.syncEngine),yield Cy(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return q5(this.persistence,new Z5,t.initialUser,this.It)}Tc(t,e){return new qH(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new kU(e,this.persistence);return new xU(t.asyncQueue,i)}yc(t){const e=vk(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?uo.withCacheSize(this.cacheSizeBytes):uo.DEFAULT;return new yk(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,o3(),UI(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(t){return new r3}}class o$ extends S3{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof Ak&&(i.sharedClientState.syncEngine={Fr:e$.bind(null,r),$r:i$.bind(null,r),Br:r$.bind(null,r),vi:n$.bind(null,r),Mr:Jj.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,we.Z)(function*(c){yield function t$(n,t){return C2.apply(this,arguments)}(i.Ac.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}gc(t){const e=o3();if(!Ak.C(e))throw new Ue(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=vk(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ak(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class T2{initialize(t,e){var i=this;return(0,we.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>C3(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Kj.bind(null,i.syncEngine),yield Wk(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Pj}createDatastore(t){const e=cC(t.databaseInfo.databaseId),i=new _j(t.databaseInfo);return new bj(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>C3(this.syncEngine,d,0),c=s3.C()?new s3:new pj,new Ej(e,i,r,s,c);var e,i,r,s,c}createSyncEngine(t,e){return function(i,r,s,c,d,p,_){const b=new Hj(i,r,s,c,d,p);return _&&(b.dc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,we.Z)(function*(e){const i=rt(e);ze("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield by(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function A2(n,t,e){if(!e)throw new Ue(_e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function T3(n,t,e,i){if(!0===t&&!0===i)throw new Ue(_e.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function A3(n){if(!Ee.isDocumentKey(n))throw new Ue(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function M3(n){if(Ee.isDocumentKey(n))throw new Ue(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $I(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ft()}function gn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ue(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=$I(n);throw new Ue(_e.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function x3(n,t){if(t<=0)throw new Ue(_e.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const k3=new Map;class R3{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ue(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ue(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,T3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hC{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ue(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ue(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R3(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new dL;switch(e.type){case"gapi":return new h(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ue(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=k3.get(t);e&&(ze("ComponentProvider","Removing Datastore"),k3.delete(t),e.terminate())}(this),Promise.resolve()}}function O3(n,t,e,i={}){var r;const s=(n=gn(n,hC))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Wh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=cr.MOCK_USER;else{c=(0,V.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Ue(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new cr(p)}n._authCredentials=new o(new Zx(c,d))}}class yi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yi(this.firestore,t,this._key)}}class ds{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ds(this.firestore,t,this._query)}}class zc extends ds{constructor(t,e,i){super(t,e,ly(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yi(this.firestore,null,new Ee(t))}withConverter(t){return new zc(this.firestore,t,this._path)}}function P3(n,t,...e){if(n=(0,V.m9)(n),A2("collection","path",t),n instanceof hC){const i=Se.fromString(t,...e);return M3(i),new zc(n,null,i)}{if(!(n instanceof yi||n instanceof zc))throw new Ue(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Se.fromString(t,...e));return M3(i),new zc(n.firestore,null,i)}}function zI(n,t,...e){if(n=(0,V.m9)(n),1===arguments.length&&(t=I.R()),A2("doc","path",t),n instanceof hC){const i=Se.fromString(t,...e);return A3(i),new yi(n,null,new Ee(i))}{if(!(n instanceof yi||n instanceof zc))throw new Ue(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Se.fromString(t,...e));return A3(i),new yi(n.firestore,n instanceof zc?n.converter:null,new Ee(i))}}function N3(n,t){return n=(0,V.m9)(n),t=(0,V.m9)(t),(n instanceof yi||n instanceof zc)&&(t instanceof yi||t instanceof zc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function M2(n,t){return n=(0,V.m9)(n),t=(0,V.m9)(t),n instanceof ds&&t instanceof ds&&n.firestore===t.firestore&&zb(n._query,t._query)&&n.converter===t.converter}function F3(n,t=10240){let e=0;return{read:()=>(0,we.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class GI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):Ui("Uncaught Error in snapshot listener:",t)}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class l${constructor(t,e){this.Pc=t,this.It=e,this.metadata=new ur,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,we.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,we.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,we.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const s=yield t.Cc(r);return new Lj(JSON.parse(s),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,we.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,we.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,we.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class d${constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ue(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,we.Z)(function*(s,c){const d=rt(s),p=Jb(d.It)+"/documents",_={documents:c.map(P=>Xb(d.It,P))},b=yield d._o("BatchGetDocuments",p,_,c.length),D=new Map;b.forEach(P=>{const L=function uH(n,t){return"found"in t?function(e,i){Lt(!!i.found);const r=jc(e,i.found.name),s=Pr(i.found.updateTime),c=new Zr({mapValue:{fields:i.found.fields}});return ui.newFoundDocument(r,s,c)}(n,t):"missing"in t?function(e,i){Lt(!!i.missing),Lt(!!i.readTime);const r=jc(e,i.missing),s=Pr(i.readTime);return ui.newNoDocument(r,s)}(n,t):ft()}(d.It,P);D.set(L.key.toString(),L)});const M=[];return c.forEach(P=>{const L=D.get(P.toString());Lt(!!L),M.push(L)}),M}),function(s,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new fy(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Ee.fromPath(r);t.mutations.push(new rk(s,t.precondition(s)))}),yield(i=(0,we.Z)(function*(r,s){const c=rt(r),d=Jb(c.It)+"/documents",p={writes:s.map(_=>eC(c.It,_))};yield c.ao("Commit",d,p)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ft();e=Q.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ue(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Q.min())?Ei.exists(!1):Ei.updateTime(e):Ei.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Q.min()))throw new Ue(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ei.updateTime(e)}return Ei.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class h${constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.xo=new Mk(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,we.Z)(function*(){const e=new d$(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Fc(s)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!Vb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!YL(e)}return!1}}class f${constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=cr.UNAUTHENTICATED,this.clientId=I.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,we.Z)(function*(d){ze("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(ze("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,we.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ey(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function L3(n,t){return x2.apply(this,arguments)}function x2(){return x2=(0,we.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,we.Z)(function*(s){i.isEqual(s)||(yield Y5(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),x2.apply(this,arguments)}function V3(n,t){return k2.apply(this,arguments)}function k2(){return k2=(0,we.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield R2(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>f3(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>f3(t.remoteStore,s)),n.onlineComponents=t}),k2.apply(this,arguments)}function R2(n){return O2.apply(this,arguments)}function O2(){return O2=(0,we.Z)(function*(n){return n.offlineComponents||(ze("FirestoreClient","Using default OfflineComponentProvider"),yield L3(n,new I3)),n.offlineComponents}),O2.apply(this,arguments)}function WI(n){return P2.apply(this,arguments)}function P2(){return P2=(0,we.Z)(function*(n){return n.onlineComponents||(ze("FirestoreClient","Using default OnlineComponentProvider"),yield V3(n,new T2)),n.onlineComponents}),P2.apply(this,arguments)}function B3(n){return R2(n).then(t=>t.persistence)}function ZI(n){return R2(n).then(t=>t.localStore)}function N2(n){return WI(n).then(t=>t.remoteStore)}function F2(n){return WI(n).then(t=>t.syncEngine)}function Ty(n){return L2.apply(this,arguments)}function L2(){return L2=(0,we.Z)(function*(n){const t=yield WI(n),e=t.eventManager;return e.onListen=jj.bind(null,t.syncEngine),e.onUnlisten=$j.bind(null,t.syncEngine),e}),L2.apply(this,arguments)}function H3(n,t,e={}){const i=new ur;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,s,c,d,p){const _=new GI({next:D=>{s.enqueueAndForget(()=>Qk(r,b));const M=D.docs.has(c);!M&&D.fromCache?p.reject(new Ue(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&D.fromCache&&d&&"server"===d.source?p.reject(new Ue(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),b=new e2(ly(c.path),_,{includeMetadataChanges:!0,Nu:!0});return Yk(r,b)}(yield Ty(n),n.asyncQueue,t,e,i)})),i.promise}function j3(n,t,e={}){const i=new ur;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,s,c,d,p){const _=new GI({next:D=>{s.enqueueAndForget(()=>Qk(r,b)),D.fromCache&&"server"===d.source?p.reject(new Ue(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),b=new e2(c,_,{includeMetadataChanges:!0,Nu:!0});return Yk(r,b)}(yield Ty(n),n.asyncQueue,t,e,i)})),i.promise}class C${constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Mk(this,"async_queue_retry"),this.Wc=()=>{const e=UI();e&&ze("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=UI();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.Uc){this.Uc=!0,this.Qc=t||!1;const e=UI();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.Uc)return new Promise(()=>{});const e=new ur;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,we.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!Zh(e))throw e;ze("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,Ui("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=qk.createAndSchedule(this,t,e,i,s=>this.Yc(s));return this.qc.push(r),r}zc(){this.Kc&&ft()}verifyOperationInProgress(){}Xc(){var t=this;return(0,we.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.qc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.qc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.qc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.qc.indexOf(t);this.qc.splice(e,1)}}function V2(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class w${constructor(){this._progressObserver={},this._taskCompletionResolver=new ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class vi extends hC{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new C$,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$3(this),this._firestoreClient.terminate()}}function D$(n,t){const e="object"==typeof n?n:(0,Ci.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,Ci._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,V.P0)("firestore");s&&O3(r,...s)}return r}function Ji(n){return n._firestoreClient||$3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function $3(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new PU(n._databaseId,s,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new f$(n._authCredentials,n._appCheckCredentials,n._queue,i)}function z3(n,t,e){const i=new ur;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield L3(n,e),yield V3(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(c=s).name?c.code===_e.FAILED_PRECONDITION||c.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw s;Wh("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var c})).then(()=>i.promise)}function G3(n){if(n._initialized||n._terminated)throw new Ue(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gc(br.fromBase64String(t))}catch(e){throw new Ue(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Gc(br.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class dd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ue(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Tm{constructor(t){this._methodName=t}}class qI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ue(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ue(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return A(this._lat,t._lat)||A(this._long,t._long)}}const O$=/^__.*__$/;class P${constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new ld(t,this.data,this.fieldMask,e,this.fieldTransforms):new hy(t,this.data,e,this.fieldTransforms)}}class W3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new ld(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Z3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class YI{constructor(t,e,i,r,s,c){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new YI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return XI(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(Z3(this.sa)&&O$.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class N${constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||cC(t)}da(t,e,i,r=!1){return new YI({sa:t,methodName:e,fa:i,path:Ye.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Am(n){const t=n._freezeSettings(),e=cC(n._databaseId);return new N$(n._databaseId,!!t.ignoreUndefinedProperties,e)}function KI(n,t,e,i,r,s={}){const c=n.da(s.merge||s.mergeFields?2:0,t,e,r);j2("Data must be an object, but it was:",c,i);const d=K3(i,c);let p,_;if(s.merge)p=new Wo(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const b=[];for(const D of s.mergeFields){const M=$2(t,D,e);if(!c.contains(M))throw new Ue(_e.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);X3(b,M)||b.push(M)}p=new Wo(b),_=c.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,_=c.fieldTransforms;return new P$(new Zr(d),p,_)}class fC extends Tm{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof fC}}function q3(n,t,e){return new YI({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class B2 extends Tm{_toFieldTransform(t){return new Gb(t.path,new uy)}isEqual(t){return t instanceof B2}}class F$ extends Tm{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=q3(this,t,!0),i=this._a.map(s=>Mm(s,e)),r=new _m(i);return new Gb(t.path,r)}isEqual(t){return this===t}}class L$ extends Tm{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=q3(this,t,!0),i=this._a.map(s=>Mm(s,e)),r=new ym(i);return new Gb(t.path,r)}isEqual(t){return this===t}}class V$ extends Tm{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new dy(t.It,VL(t.It,this.wa));return new Gb(t.path,e)}isEqual(t){return this===t}}function U2(n,t,e,i){const r=n.da(1,t,e);j2("Data must be an object, but it was:",r,i);const s=[],c=Zr.empty();hm(i,(p,_)=>{const b=QI(t,p,e);_=(0,V.m9)(_);const D=r.ca(b);if(_ instanceof fC)s.push(b);else{const M=Mm(_,D);null!=M&&(s.push(b),c.set(b,M))}});const d=new Wo(s);return new W3(c,d,r.fieldTransforms)}function H2(n,t,e,i,r,s){const c=n.da(1,t,e),d=[$2(t,i,e)],p=[r];if(s.length%2!=0)throw new Ue(_e.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<s.length;M+=2)d.push($2(t,s[M])),p.push(s[M+1]);const _=[],b=Zr.empty();for(let M=d.length-1;M>=0;--M)if(!X3(_,d[M])){const P=d[M];let L=p[M];L=(0,V.m9)(L);const K=c.ca(P);if(L instanceof fC)_.push(P);else{const se=Mm(L,K);null!=se&&(_.push(P),b.set(P,se))}}const D=new Wo(_);return new W3(b,D,c.fieldTransforms)}function Y3(n,t,e,i=!1){return Mm(e,n.da(i?4:3,t))}function Mm(n,t){if(Q3(n=(0,V.m9)(n)))return j2("Unsupported field value:",t,n),K3(n,t);if(n instanceof Tm)return function(e,i){if(!Z3(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const c of e){let d=Mm(c,i.aa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,V.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return VL(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=W.fromDate(e);return{timestampValue:Qb(i.It,r)}}if(e instanceof W){const r=new W(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Qb(i.It,r)}}if(e instanceof qI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gc)return{bytesValue:o5(i.It,e._byteString)};if(e instanceof yi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:sk(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${$I(e)}`)}(n,t)}function K3(n,t){const e={};return pL(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hm(n,(i,r)=>{const s=Mm(r,t.ra(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function Q3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof W||n instanceof qI||n instanceof Gc||n instanceof yi||n instanceof Tm)}function j2(n,t,e){if(!Q3(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=$I(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function $2(n,t,e){if((t=(0,V.m9)(t))instanceof dd)return t._internalPath;if("string"==typeof t)return QI(n,t);throw XI("Field path arguments must be of type string or ",n,!1,void 0,e)}const B$=new RegExp("[~\\*/\\[\\]]");function QI(n,t,e){if(t.search(B$)>=0)throw XI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new dd(...t.split("."))._internalPath}catch{throw XI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function XI(n,t,e,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Ue(_e.INVALID_ARGUMENT,d+n+p)}function X3(n,t){return n.some(e=>e.isEqual(t))}class pC{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new U$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(JI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class U$ extends pC{data(){return super.data()}}function JI(n,t){return"string"==typeof t?QI(n,t):t instanceof dd?t._internalPath:t._delegate._internalPath}function J3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ue(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mC{}function sf(n,...t){for(const e of t)n=e._apply(n);return n}class H$ extends mC{constructor(t,e,i){super(),this.ma=t,this.ga=e,this.ya=i,this.type="where"}_apply(t){const e=Am(t.firestore),i=function(r,s,c,d,p,_,b){let D;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Ue(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){s4(b,_);const P=[];for(const L of b)P.push(r4(d,r,L));D={arrayValue:{values:P}}}else D=r4(d,r,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||s4(b,_),D=Y3(c,"where",b,"in"===_||"not-in"===_);const M=qr.create(p,_,D);return function(P,L){if(L.dt()){const se=ek(P);if(null!==se&&!se.isEqual(L.field))throw new Ue(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${se.toString()}' and '${L.field.toString()}'`);const Oe=Jx(P);null!==Oe&&o4(0,L.field,Oe)}const K=function(se,Oe){for(const Ze of se.filters)if(Oe.indexOf(Ze.op)>=0)return Ze.op;return null}(P,function(se){switch(se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(L.op));if(null!==K)throw new Ue(_e.INVALID_ARGUMENT,K===L.op?`Invalid query. You cannot use more than one '${L.op.toString()}' filter.`:`Invalid query. You cannot use '${L.op.toString()}' filters with '${K.toString()}' filters.`)}(r,M),M}(t._query,0,e,t.firestore._databaseId,this.ma,this.ga,this.ya);return new ds(t.firestore,t.converter,function(r,s){const c=r.filters.concat([s]);return new ad(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class $$ extends mC{constructor(t,e){super(),this.ma=t,this.pa=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Ue(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ue(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new ay(r,s);return function(d,p){if(null===Jx(d)){const _=ek(d);null!==_&&o4(0,_,p.field)}}(i,c),c}(t._query,this.ma,this.pa);return new ds(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new ad(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class e4 extends mC{constructor(t,e,i){super(),this.type=t,this.Ia=e,this.Ta=i}_apply(t){return new ds(t.firestore,t.converter,CI(t._query,this.Ia,this.Ta))}}class t4 extends mC{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=i4(t,this.type,this.Ea,this.Aa);return new ds(t.firestore,t.converter,(r=e,new ad((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class n4 extends mC{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=i4(t,this.type,this.Ea,this.Aa);return new ds(t.firestore,t.converter,(r=e,new ad((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function i4(n,t,e,i){if(e[0]=(0,V.m9)(e[0]),e[0]instanceof pC)return function(r,s,c,d,p){if(!d)throw new Ue(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const b of cy(r))if(b.field.isKeyField())_.push(mm(s,d.key));else{const D=d.data.field(b.field);if(Kx(D))throw new Ue(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const M=b.field.canonicalString();throw new Ue(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}_.push(D)}return new Xh(_,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Am(n.firestore);return function(s,c,d,p,_,b){const D=s.explicitOrderBy;if(_.length>D.length)throw new Ue(_e.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let P=0;P<_.length;P++){const L=_[P];if(D[P].field.isKeyField()){if("string"!=typeof L)throw new Ue(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof L}`);if(!tk(s)&&-1!==L.indexOf("/"))throw new Ue(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${L}' contains a slash.`);const K=s.path.child(Se.fromString(L));if(!Ee.isDocumentKey(K))throw new Ue(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const se=new Ee(K);M.push(mm(c,se))}else{const K=Y3(d,p,L);M.push(K)}}return new Xh(M,b)}(n._query,n.firestore._databaseId,r,t,e,i)}}function r4(n,t,e){if("string"==typeof(e=(0,V.m9)(e))){if(""===e)throw new Ue(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tk(t)&&-1!==e.indexOf("/"))throw new Ue(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Se.fromString(e));if(!Ee.isDocumentKey(i))throw new Ue(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return mm(n,new Ee(i))}if(e instanceof yi)return mm(n,e._key);throw new Ue(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$I(e)}.`)}function s4(n,t){if(!Array.isArray(n)||0===n.length)throw new Ue(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ue(_e.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function o4(n,t,e){if(!e.isEqual(t))throw new Ue(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class z2{convertValue(t,e="none"){switch(pm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ji(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(fm(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ft()}}convertObject(t,e){const i={};return hm(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new qI(ji(t.latitude),ji(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=gL(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Lb(t));default:return null}}convertTimestamp(t){const e=qh(t);return new W(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Se.fromString(t);Lt(m5(i));const r=new Yh(i.get(1),i.get(3)),s=new Ee(i.popFirst(5));return r.isEqual(e)||Ui(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function eS(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Q$ extends z2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new yi(this.firestore,null,e)}}class xm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class hd extends pC{constructor(t,e,i,r,s,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new gC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(JI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class gC extends hd{data(t={}){return super.data(t)}}class af{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new xm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new gC(this._firestore,this._userDataWriter,i.key,i,new xm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ue(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new gC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new xm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new gC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new xm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:X$(c.type),doc:d,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function X$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function a4(n,t){return n instanceof hd&&t instanceof hd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof af&&t instanceof af&&n._firestore===t._firestore&&M2(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class lf extends z2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new yi(this.firestore,null,e)}}function l4(n,t,e){n=gn(n,yi);const i=gn(n.firestore,vi),r=eS(n.converter,t,e);return Ay(i,[KI(Am(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ei.none())])}function c4(n,t,e,...i){n=gn(n,yi);const r=gn(n.firestore,vi),s=Am(r);let c;return c="string"==typeof(t=(0,V.m9)(t))||t instanceof dd?H2(s,"updateDoc",n._key,t,e,i):U2(s,"updateDoc",n._key,t),Ay(r,[c.toMutation(n._key,Ei.exists(!0))])}function u4(n,...t){var e,i,r;n=(0,V.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||V2(t[c])||(s=t[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(V2(t[c])){const D=t[c];t[c]=null===(e=D.next)||void 0===e?void 0:e.bind(D),t[c+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),t[c+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let p,_,b;if(n instanceof yi)_=gn(n.firestore,vi),b=ly(n._key.path),p={next:D=>{t[c]&&t[c](G2(_,n,D))},error:t[c+1],complete:t[c+2]};else{const D=gn(n,ds);_=gn(D.firestore,vi),b=D._query;const M=new lf(_);p={next:P=>{t[c]&&t[c](new af(_,M,D,P))},error:t[c+1],complete:t[c+2]},J3(n._query)}return function(D,M,P,L){const K=new GI(L),se=new e2(M,K,P);return D.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Yk(yield Ty(D),se)})),()=>{K.bc(),D.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Qk(yield Ty(D),se)}))}}(Ji(_),b,d,p)}function Ay(n,t){return function(e,i){const r=new ur;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function zj(n,t,e){return o2.apply(this,arguments)}(yield F2(e),i,r)})),r.promise}(Ji(n),t)}function G2(n,t,e){const i=e.docs.get(t._key),r=new lf(n);return new hd(n,r,t._key,i,new xm(e.hasPendingWrites,e.fromCache),t.converter)}const lz={maxAttempts:5};class d4{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Am(t)}set(t,e,i){this._verifyNotCommitted();const r=cf(t,this._firestore),s=eS(r.converter,e,i),c=KI(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Ei.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=cf(t,this._firestore);let c;return c="string"==typeof(e=(0,V.m9)(e))||e instanceof dd?H2(this._dataReader,"WriteBatch.update",s._key,e,i,r):U2(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(c.toMutation(s._key,Ei.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=cf(t,this._firestore);return this._mutations=this._mutations.concat(new fy(e._key,Ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cf(n,t){if((n=(0,V.m9)(n)).firestore!==t)throw new Ue(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class cz extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Am(t)}get(t){const e=cf(t,this._firestore),i=new Q$(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ft();const s=r[0];if(s.isFoundDocument())return new pC(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new pC(this._firestore,i,e._key,null,e.converter);throw ft()})}set(t,e,i){const r=cf(t,this._firestore),s=eS(r.converter,e,i),c=KI(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const s=cf(t,this._firestore);let c;return c="string"==typeof(e=(0,V.m9)(e))||e instanceof dd?H2(this._dataReader,"Transaction.update",s._key,e,i,r):U2(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,c),this}delete(t){const e=cf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=cf(t,this._firestore),i=new lf(this._firestore);return super.get(t).then(r=>new hd(this._firestore,i,e._key,r._document,new xm(!1,!1),e.converter))}}function W2(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function f4(){if(typeof Uint8Array>"u")throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function p4(){if(!function RU(){return typeof atob<"u"}())throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){cm=Ci.SDK_VERSION,(0,Ci._registerComponent)(new Ho.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),c=new vi(new l(e.getProvider("auth-internal")),new m(e.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ue(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yh(d.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Ci.registerVersion)(fI,"3.7.2",n),(0,Ci.registerVersion)(fI,"3.7.2","esm2017")}();class _C{constructor(t){this._delegate=t}static fromBase64String(t){return p4(),new _C(Gc.fromBase64String(t))}static fromUint8Array(t){return f4(),new _C(Gc.fromUint8Array(t))}toBase64(){return p4(),this._delegate.toBase64()}toUint8Array(){return f4(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Z2(n){return function yz(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class vz{enableIndexedDbPersistence(t,e){return function I$(n,t){G3(n=gn(n,vi));const e=Ji(n),i=n._freezeSettings(),r=new T2;return z3(e,r,new S3(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function S$(n){G3(n=gn(n,vi));const t=Ji(n),e=n._freezeSettings(),i=new T2;return z3(t,i,new o$(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function T$(n){if(n._initialized&&!n._terminated)throw new Ue(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ur;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(e=(0,we.Z)(function*(i){if(!Ql.C())return Promise.resolve();const r=i+"main";yield Ql.delete(r)}),function(i){return e.apply(this,arguments)})(vk(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class m4{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Yh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Wh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){O3(this._delegate,t,e,i)}enableNetwork(){return function M$(n){return function p$(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const t=yield B3(n),e=yield N2(n);return t.setNetworkEnabled(!0),function(i){const r=rt(i);return r._u.delete(0),uC(r)}(e)}))}(Ji(n=gn(n,vi)))}(this._delegate)}disableNetwork(){return function x$(n){return function m$(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const t=yield B3(n),e=yield N2(n);return t.setNetworkEnabled(!1),(i=(0,we.Z)(function*(r){const s=rt(r);s._u.add(0),yield by(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Ji(n=gn(n,vi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,T3("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function A$(n){return function(t){const e=new ur;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function qj(n,t){return d2.apply(this,arguments)}(yield F2(t),e)})),e.promise}(Ji(n=gn(n,vi)))}(this._delegate)}onSnapshotsInSync(t){return function az(n,t){return function y$(n,t){const e=new GI(t);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield Ty(n),r=e,rt(i).Ru.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield Ty(n),r=e,void rt(i).Ru.delete(r);var i,r}))}}(Ji(n=gn(n,vi)),V2(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new My(this,P3(this._delegate,t))}catch(e){throw Os(e,"collection()","Firestore.collection()")}}doc(t){try{return new Za(this,zI(this._delegate,t))}catch(e){throw Os(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ps(this,function a$(n,t){if(n=gn(n,hC),A2("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ue(_e.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ds(n,null,(e=t,new ad(Se.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Os(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function uz(n,t,e){n=gn(n,vi);const i=Object.assign(Object.assign({},lz),e);return function(r){if(r.maxAttempts<1)throw new Ue(_e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,c){const d=new ur;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const p=yield function U3(n){return WI(n).then(t=>t.datastore)}(r);new h$(r.asyncQueue,p,c,s,d).run()})),d.promise}(Ji(n),r=>t(new cz(n,r)),i)}(this._delegate,e=>t(new g4(this,e)))}batch(){return Ji(this._delegate),new _4(new d4(this._delegate,t=>Ay(this._delegate,t)))}loadBundle(t){return function k$(n,t){const e=Ji(n=gn(n,vi)),i=new w$;return function v$(n,t,e,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,_){if(p instanceof Uint8Array)return F3(p,_);if(p instanceof ArrayBuffer)return F3(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new l$(p,c);var p}(e,cC(t));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function s$(n,t,e){const i=rt(n);var r;(r=(0,we.Z)(function*(s,c,d){try{const p=yield c.getMetadata();if(yield function(M,P){const L=rt(M),K=Pr(P.createTime);return L.persistence.runTransaction("hasNewerBundle","readonly",se=>L.Ns.getBundleMetadata(se,P.id)).then(se=>!!se&&se.createTime.compareTo(K)>=0)}(s.localStore,p))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(M=p).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);d._updateProgress(g3(p));const _=new Vj(p,s.localStore,c.It);let b=yield c.mc();for(;b;){const M=yield _.Fu(b);M&&d._updateProgress(M),b=yield c.mc()}const D=yield _.complete();return yield ud(s,D.Lu,void 0),yield function(M,P){const L=rt(M);return L.persistence.runTransaction("Save bundle","readwrite",K=>L.Ns.saveBundleMetadata(K,P))}(s.localStore,p),d._completeWith(D.progress),Promise.resolve(D.Bu)}catch(p){return Wh("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var M}),function(s,c,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield F2(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function R$(n,t){return function b$(n,t){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(e,i){const r=rt(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield ZI(n),t)}))}(Ji(n=gn(n,vi)),t).then(e=>e?new ds(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ps(this,e):null)}}class tS extends z2{constructor(t){super(),this.firestore=t}convertBytes(t){return new _C(new Gc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Za.forKey(e,this.firestore,null)}}class g4{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new tS(t)}get(t){const e=Rm(t);return this._delegate.get(e).then(i=>new yC(this._firestore,new hd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Rm(t);return i?(W2("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Rm(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Rm(t);return this._delegate.delete(e),this}}class _4{constructor(t){this._delegate=t}set(t,e,i){const r=Rm(t);return i?(W2("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Rm(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Rm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class km{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new gC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new vC(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=km.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new km(t,new tS(t),e),r.set(e,s)),s}}km.INSTANCES=new WeakMap;class Za{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new tS(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Za(e,new yi(e._delegate,i,new Ee(t)))}static forKey(t,e,i){return new Za(e,new yi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new My(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new My(this.firestore,P3(this._delegate,t))}catch(e){throw Os(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,V.m9)(t))instanceof yi&&N3(this._delegate,t)}set(t,e){e=W2("DocumentReference.set",e);try{return e?l4(this._delegate,t,e):l4(this._delegate,t)}catch(i){throw Os(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?c4(this._delegate,t):c4(this._delegate,t,e,...i)}catch(r){throw Os(r,"updateDoc()","DocumentReference.update()")}}delete(){return function sz(n){return Ay(gn(n.firestore,vi),[new fy(n._key,Ei.none())])}(this._delegate)}onSnapshot(...t){const e=y4(t),i=v4(t,r=>new yC(this.firestore,new hd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return u4(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function ez(n){n=gn(n,yi);const t=gn(n.firestore,vi),e=Ji(t),i=new lf(t);return function g$(n,t){const e=new ur;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,s,c){try{const d=yield function(p,_){const b=rt(p);return b.persistence.runTransaction("read document","readonly",D=>b.localDocuments.getDocument(D,_))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Ue(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=Ey(d,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield ZI(n),t,e);var i})),e.promise}(e,n._key).then(r=>new hd(t,i,n._key,r,new xm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function tz(n){n=gn(n,yi);const t=gn(n.firestore,vi);return H3(Ji(t),n._key,{source:"server"}).then(e=>G2(t,n,e))}(this._delegate):function J$(n){n=gn(n,yi);const t=gn(n.firestore,vi);return H3(Ji(t),n._key).then(e=>G2(t,n,e))}(this._delegate),e.then(i=>new yC(this.firestore,new hd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Za(this.firestore,this._delegate.withConverter(t?km.getInstance(this.firestore,t):null))}}function Os(n,t,e){return n.message=n.message.replace(t,e),n}function y4(n){for(const t of n)if("object"==typeof t&&!Z2(t))return t;return{}}function v4(n,t){var e,i;let r;return r=Z2(n[0])?n[0]:Z2(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class yC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Za(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return a4(this._delegate,t._delegate)}}class vC extends yC{data(t){const e=this._delegate.data(t);return function Wx(n,t){n||ft()}(void 0!==e),e}}class Ps{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new tS(t)}where(t,e,i){try{return new Ps(this.firestore,sf(this._delegate,function j$(n,t,e){const i=t,r=JI("where",n);return new H$(r,i,e)}(t,e,i)))}catch(r){throw Os(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ps(this.firestore,sf(this._delegate,function z$(n,t="asc"){const e=t,i=JI("orderBy",n);return new $$(i,e)}(t,e)))}catch(i){throw Os(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ps(this.firestore,sf(this._delegate,function G$(n){return x3("limit",n),new e4("limit",n,"F")}(t)))}catch(e){throw Os(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ps(this.firestore,sf(this._delegate,function W$(n){return x3("limitToLast",n),new e4("limitToLast",n,"L")}(t)))}catch(e){throw Os(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ps(this.firestore,sf(this._delegate,function Z$(...n){return new t4("startAt",n,!0)}(...t)))}catch(e){throw Os(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ps(this.firestore,sf(this._delegate,function q$(...n){return new t4("startAfter",n,!1)}(...t)))}catch(e){throw Os(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ps(this.firestore,sf(this._delegate,function Y$(...n){return new n4("endBefore",n,!1)}(...t)))}catch(e){throw Os(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ps(this.firestore,sf(this._delegate,function K$(...n){return new n4("endAt",n,!0)}(...t)))}catch(e){throw Os(e,"endAt()","Query.endAt()")}}isEqual(t){return M2(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function iz(n){n=gn(n,ds);const t=gn(n.firestore,vi),e=Ji(t),i=new lf(t);return function _$(n,t){const e=new ur;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,s,c){try{const d=yield LI(r,s,!0),p=new v3(s,d.Hi),_=p.Wu(d.documents),b=p.applyChanges(_,!1);c.resolve(b.snapshot)}catch(d){const p=Ey(d,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield ZI(n),t,e);var i})),e.promise}(e,n._query).then(r=>new af(t,i,n,r))}(this._delegate):"server"===t?.source?function rz(n){n=gn(n,ds);const t=gn(n.firestore,vi),e=Ji(t),i=new lf(t);return j3(e,n._query,{source:"server"}).then(r=>new af(t,i,n,r))}(this._delegate):function nz(n){n=gn(n,ds);const t=gn(n.firestore,vi),e=Ji(t),i=new lf(t);return J3(n._query),j3(e,n._query).then(r=>new af(t,i,n,r))}(this._delegate),e.then(i=>new q2(this.firestore,new af(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=y4(t),i=v4(t,r=>new q2(this.firestore,new af(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return u4(this._delegate,e,i)}withConverter(t){return new Ps(this.firestore,this._delegate.withConverter(t?km.getInstance(this.firestore,t):null))}}class Cz{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new vC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class q2{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ps(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new vC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Cz(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new vC(this._firestore,i))})}isEqual(t){return a4(this._delegate,t._delegate)}}class My extends Ps{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Za(this.firestore,t):null}doc(t){try{return new Za(this.firestore,void 0===t?zI(this._delegate):zI(this._delegate,t))}catch(e){throw Os(e,"doc()","CollectionReference.doc()")}}add(t){return function oz(n,t){const e=gn(n.firestore,vi),i=zI(n),r=eS(n.converter,t);return Ay(e,[KI(Am(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ei.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Za(this.firestore,e))}isEqual(t){return N3(this._delegate,t._delegate)}withConverter(t){return new My(this.firestore,this._delegate.withConverter(t?km.getInstance(this.firestore,t):null))}}function Rm(n){return gn(n,yi)}class Y2{constructor(...t){this._delegate=new dd(...t)}static documentId(){return new Y2(Ye.keyField().canonicalString())}isEqual(t){return(t=(0,V.m9)(t))instanceof dd&&this._delegate._internalPath.isEqual(t._internalPath)}}class Om{constructor(t){this._delegate=t}static serverTimestamp(){const t=function hz(){return new B2("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Om(t)}static delete(){const t=function dz(){return new fC("deleteField")}();return t._methodName="FieldValue.delete",new Om(t)}static arrayUnion(...t){const e=function fz(...n){return new F$("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Om(e)}static arrayRemove(...t){const e=function pz(...n){return new L$("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Om(e)}static increment(t){const e=function mz(n){return new V$("increment",n)}(t);return e._methodName="FieldValue.increment",new Om(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const wz={Firestore:m4,GeoPoint:qI,Timestamp:W,Blob:_C,Transaction:g4,WriteBatch:_4,DocumentReference:Za,DocumentSnapshot:yC,Query:Ps,QueryDocumentSnapshot:vC,QuerySnapshot:q2,CollectionReference:My,FieldPath:Y2,FieldValue:Om,setLogLevel:function bz(n){!function Gx(n){sd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Dz(n){(function Ez(n,t){n.INTERNAL.registerComponent(new Ho.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},wz)))})(n,(t,e)=>new m4(t,e,new vz)),n.registerVersion("@firebase/firestore-compat","0.2.2")}(z0.Z);var nS=B(5363),Iz=B(6063);class Sz extends ht.x{constructor(t=1/0,e=1/0,i=Iz.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;e||(i.push(t),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!t.closed;c+=i?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=e.now();let d=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)d=p;d&&i.splice(0,d+1)}}}var K2=B(3099);function b4(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,K2.B)({connector:()=>new Sz(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function C4(n,t){return(0,Zi.m)(t)?Zn(()=>n,t):Zn(()=>n)}var Q2=B(9468),Wc=B(5867);class uf{constructor(t){return t}}class bC{constructor(){return(0,Wc.C6)()}}const X2=new a.OlP("angularfire2._apps"),Az={provide:uf,useFactory:function Tz(n){return n&&1===n.length?n[0]:new uf((0,Wc.Mq)())},deps:[[new a.FiY,X2]]},Mz={provide:bC,deps:[[new a.FiY,X2]]};function xz(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new uf(i)}}let kz=(()=>{class n{constructor(e){(0,Wc.KN)("angularfire",Tt.q4.full,"core"),(0,Wc.KN)("angularfire",Tt.q4.full,"app"),(0,Wc.KN)("angular",a.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.Lbi))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Az,Mz]}),n})();function Rz(n,...t){return{ngModule:kz,providers:[{provide:X2,useFactory:xz(n),multi:!0,deps:[a.R0b,a.zs3,Tt.HU,...t]}]}}const Oz=(0,Tt.u3)(Wc.ZF,!0),w4=new Map,Pz={activated:!1,tokenObservers:[]},Nz={initialized:!1,enabled:!1};function Lr(n){return w4.get(n)||Pz}function qa(n,t){w4.set(n,t)}function iS(){return Nz}class Uz{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,we.Z)(function*(){e.stop();try{e.pending=new V.BH,yield function Hz(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new V.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ns=new V.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function D4(n){if(!Lr(n).activated)throw Ns.create("use-before-activation",{appName:n.name})}function tR(n,t){return nR.apply(this,arguments)}function nR(){return nR=(0,we.Z)(function*({url:n,body:t},e){var i,r;const s={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const P=yield c.getHeartbeatsHeader();P&&(s["X-Firebase-Client"]=P)}const d={method:"POST",body:JSON.stringify(t),headers:s};let p,_;try{p=yield fetch(n,d)}catch(P){throw Ns.create("fetch-network-error",{originalErrorMessage:null===(i=P)||void 0===i?void 0:i.message})}if(200!==p.status)throw Ns.create("fetch-status-error",{httpStatus:p.status});try{_=yield p.json()}catch(P){throw Ns.create("fetch-parse-error",{originalErrorMessage:null===(r=P)||void 0===r?void 0:r.message})}const b=_.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Ns.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const D=1e3*Number(b[1]),M=Date.now();return{token:_.token,expireTimeMillis:M+D,issuedAtTimeMillis:M}}),nR.apply(this,arguments)}function Gz(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const CC="firebase-app-check-store";let oS=null;function S4(){return oS||(oS=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;t(Ns.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(CC,{keyPath:"compositeKey"})}}catch(i){t(Ns.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),oS)}function iR(){return iR=(0,we.Z)(function*(n,t){const i=(yield S4()).transaction(CC,"readwrite"),s=i.objectStore(CC).put({compositeKey:n,value:t});return new Promise((c,d)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var _;d(Ns.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})}),iR.apply(this,arguments)}const wC=new Uo.Yd("@firebase/app-check");function oR(n,t){return(0,V.hl)()?function Yz(n,t){return function T4(n,t){return iR.apply(this,arguments)}(function M4(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{wC.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function x4(){return iS().enabled}function k4(){return lR.apply(this,arguments)}function lR(){return lR=(0,we.Z)(function*(){const n=iS();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),lR.apply(this,arguments)}const tG={error:"UNKNOWN_ERROR"};function nG(n){return V.US.encodeString(JSON.stringify(n),!1)}function aS(n){return cR.apply(this,arguments)}function cR(){return cR=(0,we.Z)(function*(n,t=!1){const e=n.app;D4(e);const i=Lr(e);let s,r=i.token;if(r&&!xy(r)&&(qa(e,Object.assign(Object.assign({},i),{token:void 0})),r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(xy(p)?r=p:yield oR(e,void 0))}if(!t&&r&&xy(r))return{token:r.token};let d,c=!1;if(x4()){i.exchangeTokenPromise||(i.exchangeTokenPromise=tR(Gz(e,yield k4()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const p=yield i.exchangeTokenPromise;return yield oR(e,p),qa(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?wC.warn(p.message):wC.error(p),s=p}return r?s?d=xy(r)?{token:r.token,internalError:s}:P4(s):(d={token:r.token},qa(e,Object.assign(Object.assign({},i),{token:r})),yield oR(e,r)):d=P4(s),c&&O4(e,d),d}),cR.apply(this,arguments)}function dR(n,t){const e=Lr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),qa(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function R4(n){const{app:t}=n,e=Lr(t);let i=e.tokenRefresher;i||(i=function iG(n){const{app:t}=n;return new Uz((0,we.Z)(function*(){let i;if(i=Lr(t).token?yield aS(n,!0):yield aS(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Lr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),qa(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function O4(n,t){const e=Lr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function xy(n){return n.expireTimeMillis-Date.now()>0}function P4(n){return{token:nG(tG),error:n}}class rG{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Lr(this.app);for(const e of t)dR(this.app,e.next);return Promise.resolve()}}const j4="app-check-internal";!function yG(){(0,Ci._registerComponent)(new Ho.wA("app-check",n=>function sG(n,t){return new rG(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(j4).initialize()})),(0,Ci._registerComponent)(new Ho.wA(j4,n=>function oG(n){return{getToken:t=>aS(n,t),addTokenListener:t=>function uR(n,t,e,i){const{app:r}=n,s=Lr(r),c={next:e,error:i,type:t};if(qa(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&xy(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),R4(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>R4(n))}(n,"INTERNAL",t),removeTokenListener:t=>dR(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ci.registerVersion)("@firebase/app-check","0.5.16")}();class fd{constructor(){return(0,Tt.vb)("app-check")}}typeof window<"u"&&window;var cS=B(127);const gR=new a.OlP("angularfire2.auth.use-emulator"),_R=new a.OlP("angularfire2.auth.settings"),yR=new a.OlP("angularfire2.auth.tenant-id"),vR=new a.OlP("angularfire2.auth.langugage-code"),bR=new a.OlP("angularfire2.auth.use-device-language"),CR=new a.OlP("angularfire.auth.persistence"),wR=(n,t,e,i,r,s,c,d)=>(0,Yi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[_,b]of Object.entries(c))p.settings[_]=b;return d&&p.setPersistence(d),p},[e,i,r,s,c,d]);let ky=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,D,M,P){const L=new ht.x,K=et(void 0).pipe((0,nS.Q)(c.outsideAngular),Zn(()=>s.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,5881)))),(0,Qe.U)(()=>(0,Yi.on)(e,s,i)),(0,Qe.U)(se=>wR(se,s,d,_,b,D,p,M)),b4({bufferSize:1,refCount:!1}));if(Do(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{K.pipe(J()).subscribe();const Oe=K.pipe(Zn(Xe=>Xe.getRedirectResult().then(Et=>Et,()=>null)),Tt.iC,b4({bufferSize:1,refCount:!1})),Ze=K.pipe(Zn(Xe=>new Ln.y(Et=>({unsubscribe:s.runOutsideAngular(()=>Xe.onAuthStateChanged(At=>Et.next(At),At=>Et.error(At),()=>Et.complete()))})))),Ke=K.pipe(Zn(Xe=>new Ln.y(Et=>({unsubscribe:s.runOutsideAngular(()=>Xe.onIdTokenChanged(At=>Et.next(At),At=>Et.error(At),()=>Et.complete()))}))));this.authState=Oe.pipe(C4(Ze),(0,Q2.R)(c.outsideAngular),(0,nS.Q)(c.insideAngular)),this.user=Oe.pipe(C4(Ke),(0,Q2.R)(c.outsideAngular),(0,nS.Q)(c.insideAngular)),this.idToken=this.user.pipe(Zn(Xe=>Xe?(0,sn.D)(Xe.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(Zn(Xe=>Xe?(0,sn.D)(Xe.getIdTokenResult()):et(null))),this.credential=(0,zo.T)(Oe,L,this.authState.pipe(_n(Xe=>!Xe))).pipe((0,Qe.U)(Xe=>Xe?.user?Xe:null),(0,Q2.R)(c.outsideAngular),(0,nS.Q)(c.insideAngular))}return(0,Yi.pX)(this,K,s,{spy:{apply:(se,Oe,Ze)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&Ze.then(Ke=>L.next(Ke))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Yi.Dh),a.LFG(Yi.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Tt.HU),a.LFG(gR,8),a.LFG(_R,8),a.LFG(yR,8),a.LFG(vR,8),a.LFG(bR,8),a.LFG(CR,8),a.LFG(fd,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),DG=(()=>{class n{constructor(){cS.Z.registerVersion("angularfire",Tt.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[ky]}),n})();function z4(n,t){return function IG(n,t=bp.z){return new Ln.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function ER(n,t){return z4(n,t).pipe((0,Qe.U)(e=>({payload:e,type:"query"})))}function uS(n,t){return ER(n,t).pipe(ai(void 0),$0(),(0,Qe.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const p=r.find(b=>b.doc.ref.isEqual(c.ref)),_=e?.payload.docs.find(b=>b.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function G4(n,t,e){return uS(n,e).pipe(xt((i,r)=>function TG(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function AG(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return DR(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return DR(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return DR(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),Yg(),(0,Qe.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function DR(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function W4(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Z4{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=uS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Qe.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(ai(void 0),$0(),_n(([i,r])=>r.length>0||!i),(0,Qe.U)(([i,r])=>r),Tt.iC)}auditTrail(t){return this.stateChanges(t).pipe(xt((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=W4(t);return G4(this.query,e,this.afs.schedulers.outsideAngular).pipe(Tt.iC)}valueChanges(t={}){return ER(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Tt.iC)}get(t){return(0,sn.D)(this.query.get(t)).pipe(Tt.iC)}add(t){return this.ref.add(t)}doc(t){return new q4(this.ref.doc(t),this.afs)}}class q4{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=Q4(i,e);return new Z4(r,s,this.afs)}snapshotChanges(){return function SG(n,t){return z4(n,t).pipe(ai(void 0),$0(),(0,Qe.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Tt.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Qe.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,sn.D)(this.ref.get(t)).pipe(Tt.iC)}}class MG{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?uS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),_n(e=>e.length>0),Tt.iC):uS(this.query,this.afs.schedulers.outsideAngular).pipe(Tt.iC)}auditTrail(t){return this.stateChanges(t).pipe(xt((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=W4(t);return G4(this.query,e,this.afs.schedulers.outsideAngular).pipe(Tt.iC)}valueChanges(t={}){return ER(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Tt.iC)}get(t){return(0,sn.D)(this.query.get(t)).pipe(Tt.iC)}}const Y4=new a.OlP("angularfire2.enableFirestorePersistence"),K4=new a.OlP("angularfire2.firestore.persistenceSettings"),xG=new a.OlP("angularfire2.firestore.settings"),kG=new a.OlP("angularfire2.firestore.use-emulator");function Q4(n,t=(e=>e)){return{query:t(n),ref:n}}let EC=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,D,M,P,L,K,se,Oe,Ze){this.schedulers=p;const Ke=(0,Yi.on)(e,d,i),Xe=b;D&&wR(Ke,d,M,L,K,se,P,Oe),[this.firestore,this.persistenceEnabled$]=(0,Yi.cc)(`${Ke.name}.firestore`,"AngularFirestore",Ke.name,()=>{const Et=d.runOutsideAngular(()=>Ke.firestore());if(s&&Et.settings(s),Xe&&Et.useEmulator(...Xe),r&&!Do(c)){const At=()=>{try{return(0,sn.D)(Et.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(cn){return typeof console<"u"&&console.warn(cn),et(!1)}};return[Et,d.runOutsideAngular(At)]}return[Et,et(!1)]},[s,Xe,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:c}=Q4(r,i),d=this.schedulers.ngZone.run(()=>s);return new Z4(d,c,this)}collectionGroup(e,i){const r=i||(c=>c),s=this.firestore.collectionGroup(e);return new MG(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new q4(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Yi.Dh),a.LFG(Yi.xv,8),a.LFG(Y4,8),a.LFG(xG,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Tt.HU),a.LFG(K4,8),a.LFG(kG,8),a.LFG(ky,8),a.LFG(gR,8),a.LFG(_R,8),a.LFG(yR,8),a.LFG(vR,8),a.LFG(bR,8),a.LFG(CR,8),a.LFG(fd,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),RG=(()=>{class n{constructor(){cS.Z.registerVersion("angularfire",Tt.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:Y4,useValue:!0},{provide:K4,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[EC]}),n})();function OG(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2)(1,"button",3),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.action())}),a._uU(2),a.qZA()()}if(2&n){const e=a.oxw();a.xp6(2),a.Oqu(e.data.action)}}function PG(n,t){}const X4=new a.OlP("MatSnackBarData");class dS{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const NG=Math.pow(2,31)-1;class IR{constructor(t,e){this._overlayRef=e,this._afterDismissed=new ht.x,this._afterOpened=new ht.x,this._onAction=new ht.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,NG))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let FG=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(IR),a.Y36(X4))},n.\u0275cmp=a.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"span",0),a._uU(1),a.qZA(),a.YNc(2,OG,3,1,"div",1)),2&e&&(a.xp6(1),a.Oqu(i.data.message),a.xp6(1),a.Q6J("ngIf",i.hasAction))},dependencies:[Tn,ao],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const LG={snackBarState:ql("state",[cs("void, hidden",Dn({transform:"scale(0.8)",opacity:0})),cs("visible",Dn({transform:"scale(1)",opacity:1})),kr("* => visible",xr("150ms cubic-bezier(0, 0, 0.2, 1)")),kr("* => void, * => hidden",xr("75ms cubic-bezier(0.4, 0.0, 1, 1)",Dn({opacity:0})))])};let VG=(()=>{class n extends Np{constructor(e,i,r,s,c){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ht.x,this._onExit=new ht.x,this._onEnter=new ht.x,this._animationState="void",this.attachDomPortal=d=>{this._assertNotAttached();const p=this._portalOutlet.attachDomPortal(d);return this._afterPortalAttached(),p},this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(jt(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(xi),a.Y36(dS))},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,i){if(1&e&&a.Gf(Pc,7),2&e){let r;a.iGM(r=a.CRH())&&(i._portalOutlet=r.first)}},features:[a.qOj]}),n})(),BG=(()=>{class n extends VG{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&a.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&a.d8E("@state",i._animationState)},features:[a.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.YNc(1,PG,0,0,"ng-template",1),a.qZA(),a._UZ(2,"div")),2&e&&(a.xp6(2),a.uIk("aria-live",i._live)("role",i._role))},dependencies:[Pc],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[LG.snackBarState]}}),n})(),J4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Lp,Gu,js,j0,hn,hn]}),n})();const e6=new a.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function UG(){return new dS}});let HG=(()=>{class n{constructor(e,i,r,s,c,d){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=a.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:dS,useValue:i}]}),c=new Gl(this.snackBarContainerComponent,i.viewContainerRef,s),d=e.attach(c);return d.instance.snackBarConfig=i,d.instance}_attach(e,i){const r={...new dS,...this._defaultConfig,...i},s=this._createOverlay(r),c=this._attachSnackBarContainer(s,r),d=new IR(c,s);if(e instanceof a.Rgc){const p=new Dh(e,null,{$implicit:r.data,snackBarRef:d});d.instance=c.attachTemplatePortal(p)}else{const p=this._createInjector(r,d),_=new Gl(e,void 0,p),b=c.attachComponentPortal(_);d.instance=b.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(yn(s.detachments())).subscribe(p=>{s.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),r.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(d,r),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new u_;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,c="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,d=!c&&"center"!==e.horizontalPosition;return c?r.left("0"):d?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return a.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:IR,useValue:i},{provide:X4,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(As),a.LFG(a0),a.LFG(a.zs3),a.LFG(Rc),a.LFG(n,12),a.LFG(e6))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),hS=(()=>{class n extends HG{constructor(e,i,r,s,c,d){super(e,i,r,s,c,d),this.simpleSnackBarComponent=FG,this.snackBarContainerComponent=BG,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(As),a.LFG(a0),a.LFG(a.zs3),a.LFG(Rc),a.LFG(n,12),a.LFG(e6))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:J4}),n})(),Zc=(()=>{class n{constructor(e,i,r,s,c,d){this.afs=e,this.afAuth=i,this.ngZone=r,this._snackBar=s,this.dialog=c,this.router=d,this.updatedUserData=new a.vpe,this.updatedLoaderStatus=new a.vpe,this.canWeOpenLB=!0,this.showHomeLoader=!1,this.userProfileImage="../assets/images/defaultProfile.jpg",this.userPrifileLoading="../assets/images/loading.gif",this.noImage="../assets/images/noimage.png",this.uploadDataPathProfile="/projectData/uploadedData/profilePictures",this.router.events.subscribe(p=>{p instanceof Ic&&console.log("Route change detected")})}SignIn(e,i){try{this.afAuth.fetchSignInMethodsForEmail(e).then(r=>{r.length<=0?this.showToast(`${e} - email user is not exist.`,"close"):this.afAuth.signInWithEmailAndPassword(e,i).then(s=>{this.afAuth.authState.subscribe(c=>{c&&this.loggedSucess()})}).catch(s=>{this.SignOut(),this.showToast("Please enter valid credentials","close")})})}catch(r){console.error(r)}}SignUp(e,i){try{this.afAuth.fetchSignInMethodsForEmail(e).then(r=>{r.length<=0?(console.log("Creating User"),this.afAuth.createUserWithEmailAndPassword(e,i).then(s=>{this.showToast("User Createrd.","close","default"),this.ngZone.run(()=>{this.router.navigate(["/login"])})}).catch(s=>{console.log(s)})):this.showToast(`${e} - email id is already used.`,"close")})}catch(r){console.error(r)}console.log(e,i)}OAuthProvider(e){return this.afAuth.signInWithPopup(e).then(i=>{this.loggedSucess()}).catch(i=>{})}SigninWithGoogle(){return this.OAuthProvider(new zv.Q).then(e=>{console.log("Successfully logged in!")}).catch(e=>{console.log(e)})}loggedSucess(){this.isLoggedIn=!0,this.ngZone.run(()=>{this.router.navigate(["/dash"])})}SignOut(){return this.isLoggedIn=!1,this.afAuth.signOut().then(e=>{this.router.navigate(["/login"])})}showToast(e,i,r="bg-danger"){this._snackBar.open(e,i,{horizontalPosition:"end",verticalPosition:"bottom",duration:4e3,panelClass:r})}creatUserCollDefault(){console.log("Creating user");let e=this.afs.doc(`users/${this.userData.uid}`),i={uid:this.userData.uid,email:this.userData.email,displayName:this.userData.displayName,photoURL:this.userData.photoURL,emailVerified:this.userData.emailVerified,accessToDash:!1};return this.checkUserInFSore(),e.set(i,{merge:!0})}checkUserInFSore(){try{this.afAuth.authState.pipe(jt(1)).subscribe(e=>{if(e)try{this.afs.collection("users").doc(this.userData.uid).valueChanges().pipe(jt(1)).subscribe(i=>{if(i){let r=this.userData.emailVerified;if(this.userData=i,!this.userData.emailVerified)if(r){console.log("notMatching");let s={emailVerified:r};this.afs.doc(`users/${this.userData.uid}`).update(s)}else e&&this.verifyEmailDiaLog();this.updatedUserData.emit(this.userData),console.log("UserUpdateFireStore \n",this.userData),r&&!this.userData.accessToDash&&this.accessToDashInvalid()}else console.log(1),this.creatUserCollDefault()})}catch(i){console.log(i)}}),this.showProgressBar(!1)}catch(e){console.log(e)}}updateUserProfile(){return this.userData}verifyEmailDiaLog(){if(this.canWeOpenLB){let e=this.dialog.open(hx,{data:{name:this.userData.displayName,email:this.userData.email},disableClose:!0});e.afterOpened().subscribe(i=>{this.canWeOpenLB=!1}),e.afterClosed().subscribe(i=>{this.canWeOpenLB=!0,i&&this.SendVerificationMail()})}}accessToDashInvalid(){if(this.canWeOpenLB){let e=this.dialog.open(px,{data:{name:this.userData.displayName,email:this.userData.email},disableClose:!0});e.afterOpened().subscribe(i=>{this.canWeOpenLB=!1}),e.afterClosed().subscribe(i=>{this.canWeOpenLB=!0,this.SignOut()})}}SendVerificationMail(){return this.afAuth.currentUser.then(e=>{try{e?.sendEmailVerification()}catch(i){console.log(i),this.SignOut()}}).then(()=>{this.dialog.open(fx,{data:{name:this.userData.displayName,email:this.userData.email},disableClose:!0}).afterClosed().subscribe(i=>{this.SignOut()})})}formatDate(e){var i=new Date(e),r=""+(i.getMonth()+1),s=""+i.getDate(),c=i.getFullYear();return r.length<2&&(r="0"+r),s.length<2&&(s="0"+s),[c,r,s].join("-")}showProgressBar(e){this.showHomeLoader=e,this.updatedLoaderStatus.emit(this.showHomeLoader)}updatedLoaderStatusFun(){return this.showHomeLoader}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(EC),a.LFG(ky),a.LFG(a.R0b),a.LFG(hS),a.LFG(Yu),a.LFG(qn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t6=(()=>{class n{constructor(e,i,r,s,c,d){this.authService=e,this.router=i,this.afs=r,this.afAuth=s,this.ngZone=c,this.auth=d}canActivate(e,i){return new Promise((r,s)=>{this.afAuth.authState.pipe(jt(1)).subscribe(c=>{console.log("%c Auth Check User ","background: #fff; color: #000"),c?(console.log("%c User Logged In ","background: green; color: #fff"),this.authService.userData=c,r(!0)):(console.log("%c User data not found ","background: red; color: #fff"),this.router.navigate(["/login"]),r(!1))})})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Zc),a.LFG(qn),a.LFG(EC),a.LFG(ky),a.LFG(a.R0b),a.LFG(Zc))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jG=["primaryValueBar"],$G=Th(class{constructor(n){this._elementRef=n}},"primary"),zG=new a.OlP("mat-progress-bar-location",{providedIn:"root",factory:function GG(){const n=(0,a.f3M)(ie),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),WG=new a.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let ZG=0,SR=(()=>{class n extends $G{constructor(e,i,r,s,c,d){super(e),this._ngZone=i,this._animationMode=r,this._changeDetectorRef=d,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new a.vpe,this._animationEndSubscription=Ti.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+ZG++;const p=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${p}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,c&&(c.color&&(this.color=this.defaultColor=c.color),this.mode=c.mode||this.mode)}get value(){return this._value}set value(e){this._value=n6(xc(e)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=n6(e||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=Ba(e,"transitionend").pipe(_n(i=>i.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.QbO,8),a.Y36(zG,8),a.Y36(WG,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&a.Gf(jG,5),2&e){let r;a.iGM(r=a.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(a.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),a.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[a.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.O4$(),a.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),a._UZ(4,"circle",3),a.qZA()(),a._UZ(5,"rect",4),a.qZA(),a.kcU(),a._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),a.qZA()),2&e&&(a.xp6(3),a.Q6J("id",i.progressbarId),a.xp6(2),a.uIk("fill",i._rectangleFillValue),a.xp6(1),a.Q6J("ngStyle",i._bufferTransform()),a.xp6(1),a.Q6J("ngStyle",i._primaryTransform()))},dependencies:[sc],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),n})();function n6(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let qG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[js,hn,hn]}),n})(),TR=(()=>{class n{constructor(){this.title="myApp",this.loaderView="display: none"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:2,consts:[["mode","indeterminate",1,"reuestSpinner"]],template:function(e,i){1&e&&a._UZ(0,"mat-progress-bar",0)(1,"router-outlet"),2&e&&a.Akn(i.loaderView)},dependencies:[Sc,SR],styles:[".reuestSpinner[_ngcontent-%COMP%]{position:absolute;top:0;z-index:99;display:none}"]}),n})();const i6="firebasestorage.googleapis.com",r6="storageBucket";class $i extends V.ZR{constructor(t,e,i=0){super(AR(t),`Firebase Storage: ${e} (${AR(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$i.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return AR(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function AR(n){return"storage/"+n}function MR(){return new $i("unknown","An unknown error occurred, please check the error payload for server response.")}function s6(){return new $i("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function o6(){return new $i("canceled","User canceled the upload/download.")}function a6(){return new $i("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ry(n){return new $i("invalid-argument",n)}function l6(){return new $i("app-deleted","The Firebase app was deleted.")}function c6(n){return new $i("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function DC(n,t){return new $i("invalid-format","String does not match format '"+n+"': "+t)}function IC(n){throw new $i("internal-error","Internal error: "+n)}class hs{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=hs.makeFromUrl(t,e)}catch{return new hs(t,"")}if(""===i.path)return i;throw function rW(n){return new $i("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(Xe){Xe.path_=decodeURIComponent(Xe.path)}const D=e.replace(/[.]/g,"\\."),Ke=[{regex:d,indices:{bucket:1,path:3},postModify:function s(Xe){"/"===Xe.path.charAt(Xe.path.length-1)&&(Xe.path_=Xe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${e===i6?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let Xe=0;Xe<Ke.length;Xe++){const Et=Ke[Xe],At=Et.regex.exec(t);if(At){let er=At[Et.indices.path];er||(er=""),i=new hs(At[Et.indices.bucket],er),Et.postModify(i);break}}if(null==i)throw function iW(n){return new $i("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class lW{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function fS(n){return"string"==typeof n||n instanceof String}function u6(n){return xR()&&n instanceof Blob}function xR(){return typeof Blob<"u"&&!(0,V.UG)()}function kR(n,t,e,i){if(i<t)throw Ry(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Ry(`Invalid value for '${n}'. Expected ${e} or less.`)}function pd(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function d6(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var df=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(df||(df={})),df))();function h6(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class pW{constructor(t,e,i,r,s,c,d,p,_,b,D,M=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=b,this.connectionFactory_=D,this.retry=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,L)=>{this.resolve_=P,this.reject_=L,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function dW(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==d){const p=MR();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?l6():o6():s6())};this.canceled_?e(0,new pS(!1,null,!0)):this.backoffId_=function cW(n,t,e){let i=1,r=null,s=null,c=!1,d=0;function p(){return 2===d}let _=!1;function b(...se){_||(_=!0,t.apply(null,se))}function D(se){r=setTimeout(()=>{r=null,n(P,p())},se)}function M(){s&&clearTimeout(s)}function P(se,...Oe){if(_)return void M();if(se)return M(),void b.call(null,se,...Oe);if(p()||c)return M(),void b.call(null,se,...Oe);let Ke;i<64&&(i*=2),1===d?(d=2,Ke=0):Ke=1e3*(i+Math.random()),D(Ke)}let L=!1;function K(se){L||(L=!0,M(),!_&&(null!==r?(se||(d=2),clearTimeout(r),D(0)):se||(d=1)))}return D(0),s=setTimeout(()=>{c=!0,K(!0)},e),K}((i,r)=>{if(r)return void i(!1,new pS(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===df.NO_ERROR,p=s.getStatus();if((!d||h6(p,this.additionalRetryCodes_))&&this.retry){const b=s.getErrorCode()===df.ABORT;return void i(!1,new pS(!1,null,b))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new pS(_,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function uW(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class pS{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function CW(...n){const t=function bW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(xR())return new Blob(n);throw new $i("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Zo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class RR{constructor(t,e){this.data=t,this.contentType=e||null}}function OR(n,t){switch(n){case Zo.RAW:return new RR(f6(t));case Zo.BASE64:case Zo.BASE64URL:return new RR(p6(n,t));case Zo.DATA_URL:return new RR(function IW(n){const t=new m6(n);return t.base64?p6(Zo.BASE64,t.rest):function DW(n){let t;try{t=decodeURIComponent(n)}catch{throw DC(Zo.DATA_URL,"Malformed data URL.")}return f6(t)}(t.rest)}(t),function SW(n){return new m6(n).contentType}(t))}throw MR()}function f6(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function p6(n,t){switch(n){case Zo.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw DC(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Zo.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw DC(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function EW(n){return atob(n)}(t)}catch{throw DC(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class m6{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw DC(Zo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function TW(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class qc{constructor(t,e){let i=0,r="";u6(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(u6(this.data_)){const r=function wW(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new qc(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new qc(i,!0)}}static getBlob(...t){if(xR()){const e=t.map(i=>i instanceof qc?i.data_:i);return new qc(CW.apply(null,e))}{const e=t.map(c=>fS(c)?OR(Zo.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new qc(r,!0)}}uploadData(){return this.data_}}function PR(n){let t;try{t=JSON.parse(n)}catch{return null}return function fW(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function g6(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function xW(n,t){return t}class Fs{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||xW}}let mS=null;function SC(){if(mS)return mS;const n=[];n.push(new Fs("bucket")),n.push(new Fs("generation")),n.push(new Fs("metageneration")),n.push(new Fs("name","fullPath",!0));const e=new Fs("name");e.xform=function t(s,c){return function kW(n){return!fS(n)||n.length<2?n:g6(n)}(c)},n.push(e);const r=new Fs("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new Fs("timeCreated")),n.push(new Fs("updated")),n.push(new Fs("md5Hash",null,!0)),n.push(new Fs("cacheControl",null,!0)),n.push(new Fs("contentDisposition",null,!0)),n.push(new Fs("contentEncoding",null,!0)),n.push(new Fs("contentLanguage",null,!0)),n.push(new Fs("contentType",null,!0)),n.push(new Fs("metadata","customMetadata",!0)),mS=n,mS}function _6(n,t,e){const i=PR(t);return null===i?null:function OW(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const c=e[s];i[c.local]=c.xform(i,t[c.server])}return function RW(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new hs(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function NR(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const y6="prefixes";class Yc{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Kc(n){if(!n)throw MR()}function gS(n,t){return function e(i,r){const s=_6(n,r,t);return Kc(null!==s),s}}function Oy(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function tW(){return new $i("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function eW(){return new $i("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function JG(n){return new $i("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function nW(n){return new $i("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function TC(n){const t=Oy(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function XG(n){return new $i("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function b6(n,t,e){const r=pd(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Yc(r,"GET",gS(n,e),c);return d.errorHandler=TC(t),d}function BW(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=pd(t.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,b=new Yc(d,"GET",function LW(n,t){return function e(i,r){const s=function FW(n,t,e){const i=PR(e);return null===i?null:function NW(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[y6])for(const r of e[y6]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new hs(t,s));i.prefixes.push(c)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new hs(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return Kc(null!==s),s}}(n,t.bucket),_);return b.urlParams=s,b.errorHandler=Oy(t),b}function w6(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function $W(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class _S{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function FR(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Kc(!1)}return Kc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const ZW={STATE_CHANGED:"state_changed"},Ls={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function LR(n){switch(n){case"running":case"pausing":case"canceling":return Ls.RUNNING;case"paused":return Ls.PAUSED;case"success":return Ls.SUCCESS;case"canceled":return Ls.CANCELED;default:return Ls.ERROR}}class qW{constructor(t,e,i){if(function hW(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Py(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class KW extends class YW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=df.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=df.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=df.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw IC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw IC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw IC("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw IC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw IC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Xl(){return new KW}class S6{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=SC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(h6(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=s6()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function zW(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c=w6(t,i,r),d={name:c.fullPath},p=pd(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},D=NR(c,e),L=new Yc(p,"POST",function P(K){let se;FR(K);try{se=K.getResponseHeader("X-Goog-Upload-URL")}catch{Kc(!1)}return Kc(fS(se)),se},n.maxUploadRetryTime);return L.urlParams=d,L.headers=b,L.body=D,L.errorHandler=Oy(t),L}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Xl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function GW(n,t,e,i){const p=new Yc(e,"POST",function s(_){const b=FR(_,["active","final"]);let D=null;try{D=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Kc(!1)}D||Kc(!1);const M=Number(D);return Kc(!isNaN(M)),new _S(M,i.size(),"final"===b)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=Oy(t),p}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,Xl,e,i);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new _S(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function WW(n,t,e,i,r,s,c,d){const p=new _S(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function oW(){return new $i("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _=p.total-p.current;let b=_;r>0&&(b=Math.min(b,r));const D=p.current;let P="";P=0===b?"finalize":_===b?"upload, finalize":"upload";const L={"X-Goog-Upload-Command":P,"X-Goog-Upload-Offset":`${p.current}`},K=i.slice(D,D+b);if(null===K)throw a6();const Ke=new Yc(e,"POST",function se(Xe,Et){const At=FR(Xe,["active","final"]),cn=p.current+b,er=i.size();let Jo;return Jo="final"===At?gS(t,s)(Xe,Et):null,new _S(cn,er,"final"===At,Jo)},t.maxUploadRetryTime);return Ke.headers=L,Ke.body=K.uploadData(),Ke.progressCallback=d||null,Ke.errorHandler=Oy(n),Ke}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,Xl,r,s,!1);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=b6(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Xl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function E6(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let Ke="";for(let Xe=0;Xe<2;Xe++)Ke+=Math.random().toString().slice(2);return Ke}();c["Content-Type"]="multipart/related; boundary="+p;const _=w6(t,i,r),b=NR(_,e),P=qc.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===P)throw a6();const L={name:_.fullPath},K=pd(s,n.host,n._protocol),Oe=n.maxUploadRetryTime,Ze=new Yc(K,"POST",gS(n,e),Oe);return Ze.urlParams=L,Ze.headers=c,Ze.body=P.uploadData(),Ze.errorHandler=Oy(t),Ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Xl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=o6(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=LR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new qW(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(LR(this._state)){case Ls.SUCCESS:Py(this._resolve.bind(null,this.snapshot))();break;case Ls.CANCELED:case Ls.ERROR:Py(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(LR(this._state)){case Ls.RUNNING:case Ls.PAUSED:t.next&&Py(t.next.bind(t,this.snapshot))();break;case Ls.SUCCESS:t.complete&&Py(t.complete.bind(t))();break;default:t.error&&Py(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Pm{constructor(t,e){this._service=t,this._location=e instanceof hs?e:hs.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Pm(t,e)}get root(){const t=new hs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g6(this._location.path)}get storage(){return this._service}get parent(){const t=function AW(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new hs(this._location.bucket,t);return new Pm(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw c6(t)}}function A6(n,t,e){return VR.apply(this,arguments)}function VR(){return VR=(0,we.Z)(function*(n,t,e){const r=yield M6(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield A6(n,t,r.nextPageToken))}),VR.apply(this,arguments)}function M6(n,t){null!=t&&"number"==typeof t.maxResults&&kR("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=BW(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Xl)}function lZ(n){n._throwIfRoot("getDownloadURL");const t=function UW(n,t,e){const r=pd(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Yc(r,"GET",function VW(n,t){return function e(i,r){const s=_6(n,r,t);return Kc(null!==s),function PW(n,t,e,i){const r=PR(t);if(null===r||!fS(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(_=>{const D=n.fullPath;return pd("/b/"+c(n.bucket)+"/o/"+c(D),e,i)+d6({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,e),c);return d.errorHandler=TC(t),d}(n.storage,n._location,SC());return n.storage.makeRequestWithTokens(t,Xl).then(e=>{if(null===e)throw function aW(){return new $i("no-download-url","The given file does not have any download URLs.")}();return e})}function x6(n,t){const e=function MW(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new hs(n._location.bucket,e);return new Pm(n.storage,i)}function k6(n,t){if(n instanceof BR){const e=n;if(null==e._bucket)throw function sW(){return new $i("no-default-bucket","No default bucket found. Did you set the '"+r6+"' property when initializing the app?")}();const i=new Pm(e,e._bucket);return null!=t?k6(i,t):i}return void 0!==t?x6(n,t):n}function hZ(n,t){if(t&&function uZ(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof BR)return function dZ(n,t){return new Pm(n,t)}(n,t);throw Ry("To use ref(service, url), the first argument must be a Storage instance.")}return k6(n,t)}function R6(n,t){const e=t?.[r6];return null==e?null:hs.makeFromBucketSpec(e,n)}class BR{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=i6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?hs.makeFromBucketSpec(r,this._host):R6(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?hs.makeFromBucketSpec(this._url,t):R6(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){kR("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){kR("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,we.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,we.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Pm(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new lW(l6());{const c=function vW(n,t,e,i,r,s,c=!0){const d=d6(n.urlParams),p=n.url+d,_=Object.assign({},n.headers);return function _W(n,t){t&&(n["X-Firebase-GMPID"]=t)}(_,t),function mW(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(_,e),function gW(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(_,s),function yW(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(_,i),new pW(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(t,e){var i=this;return(0,we.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const O6="@firebase/storage",N6="storage";function F6(n,t){return hZ(n=(0,V.m9)(n),t)}function wZ(n=(0,Ci.getApp)(),t){n=(0,V.m9)(n);const i=(0,Ci._getProvider)(n,N6).getImmediate({identifier:t}),r=(0,V.P0)("storage");return r&&L6(i,...r),i}function L6(n,t,e,i={}){!function fZ(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,V.Sg)(r,n.app.options.projectId))}(n,t,e,i)}function EZ(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new BR(e,i,r,t,Ci.SDK_VERSION)}!function DZ(){(0,Ci._registerComponent)(new Ho.wA(N6,EZ,"PUBLIC").setMultipleInstances(!0)),(0,Ci.registerVersion)(O6,"0.9.13",""),(0,Ci.registerVersion)(O6,"0.9.13","esm2017")}();class yS{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class V6{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new yS(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new yS(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?c=>e(new yS(c,this,this._ref)):{next:e.next?c=>e.next(new yS(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class B6{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new md(t,this._service))}get items(){return this._delegate.items.map(t=>new md(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class md{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function CZ(n,t){return x6(n,t)}(this._delegate,t);return new md(e,this.storage)}get root(){return new md(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new md(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new V6(function pZ(n,t,e){return function iZ(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new S6(n,new qc(t),e)}(n=(0,V.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Zo.RAW,i){this._throwIfRoot("putString");const r=OR(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new V6(new S6(this._delegate,new qc(r.data,!0),s),this)}listAll(){return function yZ(n){return function sZ(n){const t={prefixes:[],items:[]};return A6(n,t).then(()=>t)}(n=(0,V.m9)(n))}(this._delegate).then(t=>new B6(t,this.storage))}list(t){return function _Z(n,t){return M6(n=(0,V.m9)(n),t)}(this._delegate,t||void 0).then(e=>new B6(e,this.storage))}getMetadata(){return function mZ(n){return function oZ(n){n._throwIfRoot("getMetadata");const t=b6(n.storage,n._location,SC());return n.storage.makeRequestWithTokens(t,Xl)}(n=(0,V.m9)(n))}(this._delegate)}updateMetadata(t){return function gZ(n,t){return function aZ(n,t){n._throwIfRoot("updateMetadata");const e=function HW(n,t,e,i){const s=pd(t.fullServerUrl(),n.host,n._protocol),d=NR(e,i),_=n.maxOperationRetryTime,b=new Yc(s,"PATCH",gS(n,i),_);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=d,b.errorHandler=TC(t),b}(n.storage,n._location,t,SC());return n.storage.makeRequestWithTokens(e,Xl)}(n=(0,V.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function vZ(n){return lZ(n=(0,V.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function bZ(n){return function cZ(n){n._throwIfRoot("deleteObject");const t=function jW(n,t){const i=pd(t.fullServerUrl(),n.host,n._protocol),d=new Yc(i,"DELETE",function c(p,_){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=TC(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Xl)}(n=(0,V.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw c6(t)}}class U6{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(H6(t))throw Ry("ref() expected a child path but got a URL, use refFromURL instead.");return new md(F6(this._delegate,t),this)}refFromURL(t){if(!H6(t))throw Ry("refFromURL() expected a full URL but got a child path, use ref() instead.");try{hs.makeFromUrl(t,this._delegate.host)}catch{throw Ry("refFromUrl() expected a valid full URL but got an invalid one.")}return new md(F6(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){L6(this._delegate,t,e,i)}}function H6(n){return/^[A-Za-z]+:\/\//.test(n)}function AZ(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new U6(e,i)}function j6(n){const t=function xZ(n){return new Ln.y(t=>{const e=c=>t.next(c);e(n.snapshot);const s=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){s()}}).pipe(Fu(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Qe.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function vS(n){return{getDownloadURL:()=>et(void 0).pipe(Tt.fc,Zn(()=>n.getDownloadURL()),Tt.iC),getMetadata:()=>et(void 0).pipe(Tt.fc,Zn(()=>n.getMetadata()),Tt.iC),delete:()=>(0,sn.D)(n.delete()),child:t=>vS(n.child(t)),updateMetadata:t=>(0,sn.D)(n.updateMetadata(t)),put:(t,e)=>j6(n.put(t,e)),putString:(t,e,i)=>j6(n.putString(t,e,i)),list:t=>(0,sn.D)(n.list(t)),listAll:()=>(0,sn.D)(n.listAll())}}!function MZ(n){const t={TaskState:Ls,TaskEvent:ZW,StringFormat:Zo,Storage:U6,Reference:md};n.INTERNAL.registerComponent(new Ho.wA("storage-compat",AZ,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.21")}(z0.Z);const kZ=new a.OlP("angularfire2.storageBucket"),RZ=new a.OlP("angularfire2.storage.maxUploadRetryTime"),OZ=new a.OlP("angularfire2.storage.maxOperationRetryTime"),PZ=new a.OlP("angularfire2.storage.use-emulator");let UR=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,D){const M=(0,Yi.on)(e,c,i);this.storage=(0,Yi.cc)(`${M.name}.storage.${r}`,"AngularFireStorage",M.name,()=>{const P=c.runOutsideAngular(()=>M.storage(r||void 0)),L=b;return L&&P.useEmulator(...L),p&&P.setMaxUploadRetryTime(p),_&&P.setMaxOperationRetryTime(_),P},[p,_])}ref(e){return vS(this.storage.ref(e))}refFromURL(e){return vS(this.storage.refFromURL(e))}upload(e,i,r){return vS(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Yi.Dh),a.LFG(Yi.xv,8),a.LFG(kZ,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Tt.HU),a.LFG(RZ,8),a.LFG(OZ,8),a.LFG(PZ,8),a.LFG(fd,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),NZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),FZ=(()=>{class n{constructor(){cS.Z.registerVersion("angularfire",Tt.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[UR],imports:[NZ]}),n})();const LZ=["*",[["mat-card-footer"]]],VZ=["*","mat-card-footer"];let BZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),AC=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:VZ,decls:2,vars:0,template:function(e,i){1&e&&(a.F$t(LZ),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),UZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[hn,hn]}),n})(),HZ=(()=>{class n{constructor(e,i,r,s,c,d){this.router=e,this.auth=i,this.afs=r,this.mainApp=s,this.dialog=c,this.fireStorage=d,this.userData=this.auth.userData,this.uid="",this.displayName="",this.email="",this.photoURL="",this.resetPhotoURL="",this.accessToDash="",this.emailVerified="",this.birthDate="",this.updateProfile=""}ngOnInit(){this.setValuesUpdated(),this.auth.updatedUserData.subscribe(e=>{this.userData=this.auth.updateUserProfile(),this.setValuesUpdated()})}setValuesUpdated(){this.uid=this.userData.uid,this.displayName=this.userData.displayName||"User",this.email=this.userData.email,this.photoURL=this.userData.photoURL||this.auth.userProfileImage,this.resetPhotoURL=this.userData.photoURL||this.auth.userProfileImage,this.accessToDash=this.userData.accessToDash,this.emailVerified=this.userData.emailVerified,this.birthDate=this.userData.birthDate,this.startDate=new Date(this.birthDate)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(qn),a.Y36(Zc),a.Y36(EC),a.Y36(TR),a.Y36(Yu),a.Y36(UR))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-dash-home"]],decls:4,vars:1,consts:[[1,"custom_container"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-card",0)(1,"p"),a._uU(2,"dash-home works!"),a.qZA(),a._uU(3),a.qZA()),2&e&&(a.xp6(3),a.hij(" ",i.userData.displayName,"\n"))},dependencies:[AC]}),n})();const bS=["*"],jZ=["content"];function $Z(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r._onBackdropClicked())}),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function zZ(n,t){1&n&&(a.TgZ(0,"mat-drawer-content"),a.Hsn(1,2),a.qZA())}const GZ=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],WZ=["mat-drawer","mat-drawer-content","*"];function ZZ(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r._onBackdropClicked())}),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function qZ(n,t){1&n&&(a.TgZ(0,"mat-sidenav-content"),a.Hsn(1,2),a.qZA())}const YZ=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],KZ=["mat-sidenav","mat-sidenav-content","*"],$6={transformDrawer:ql("transform",[cs("open, open-instant",Dn({transform:"none",visibility:"visible"})),cs("void",Dn({"box-shadow":"none",visibility:"hidden"})),kr("void => open-instant",xr("0ms")),kr("void <=> open, open-instant => void",xr("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},XZ=new a.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function JZ(){return!1}}),HR=new a.OlP("MAT_DRAWER_CONTAINER");let CS=(()=>{class n extends a_{constructor(e,i,r,s,c){super(r,s,c),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>$R)),a.Y36(a.SBq),a.Y36(Eh),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&a.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[a._Bn([{provide:a_,useExisting:n}]),a.qOj],ngContentSelectors:bS,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),jR=(()=>{class n{constructor(e,i,r,s,c,d,p,_){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=c,this._interactivityChecker=d,this._doc=p,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ht.x,this._animationEnd=new ht.x,this._animationState="void",this.openedChange=new a.vpe(!0),this._openedStream=this.openedChange.pipe(_n(b=>b),(0,Qe.U)(()=>{})),this.openedStart=this._animationStarted.pipe(_n(b=>b.fromState!==b.toState&&0===b.toState.indexOf("open")),Ai(void 0)),this._closedStream=this.openedChange.pipe(_n(b=>!b),(0,Qe.U)(()=>{})),this.closedStart=this._animationStarted.pipe(_n(b=>b.fromState!==b.toState&&"void"===b.toState),Ai(void 0)),this._destroyed=new ht.x,this.onPositionChanged=new a.vpe,this._modeChanged=new ht.x,this.openedChange.subscribe(b=>{b?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Ba(this._elementRef.nativeElement,"keydown").pipe(_n(b=>27===b.keyCode&&!this.disableClose&&!La(b)),yn(this._destroyed)).subscribe(b=>this._ngZone.run(()=>{this.close(),b.stopPropagation(),b.preventDefault()}))}),this._animationEnd.pipe(Yg((b,D)=>b.fromState===D.fromState&&b.toState===D.toState)).subscribe(b=>{const{fromState:D,toState:M}=b;(0===M.indexOf("open")&&"void"===D||"void"===M&&0===D.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Bn(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Bn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Bn(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(jt(1)).subscribe(c=>s(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Bu),a.Y36($l),a.Y36(xi),a.Y36(a.R0b),a.Y36(Oc),a.Y36(ie,8),a.Y36(HR,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&a.Gf(jZ,5),2&e){let r;a.iGM(r=a.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&a.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&(a.uIk("align",null),a.d8E("@transform",i._animationState),a.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:bS,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA())},dependencies:[a_],encapsulation:2,data:{animation:[$6.transformDrawer]},changeDetection:0}),n})(),$R=(()=>{class n{constructor(e,i,r,s,c,d=!1,p){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=p,this._drawers=new a.n_E,this.backdropClick=new a.vpe,this._destroyed=new ht.x,this._doCheckSubject=new ht.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ht.x,e&&e.change.pipe(yn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(yn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Bn(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:Bn(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(ai(this._allDrawers),yn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ai(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Fu(10),yn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(_n(i=>i.fromState!==i.toState),yn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(yn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(yn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(jt(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(yn((0,zo.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(a.Y36($o,8),a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(Pp),a.Y36(XZ),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,CS,5),a.Suo(r,jR,5)),2&e){let s;a.iGM(s=a.CRH())&&(i._content=s.first),a.iGM(s=a.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&a.Gf(CS,5),2&e){let r;a.iGM(r=a.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[a._Bn([{provide:HR,useExisting:n}])],ngContentSelectors:WZ,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(a.F$t(GZ),a.YNc(0,$Z,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,zZ,2,0,"mat-drawer-content",1)),2&e&&(a.Q6J("ngIf",i.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!i._content))},dependencies:[Tn,CS],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),z6=(()=>{class n extends CS{constructor(e,i,r,s,c){super(e,i,r,s,c)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>G6)),a.Y36(a.SBq),a.Y36(Eh),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&a.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[a._Bn([{provide:a_,useExisting:n}]),a.qOj],ngContentSelectors:bS,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),eq=(()=>{class n extends jR{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Bn(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=xc(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=xc(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(a.uIk("align",null),a.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),a.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[a.qOj],ngContentSelectors:bS,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA())},dependencies:[a_],encapsulation:2,data:{animation:[$6.transformDrawer]},changeDetection:0}),n})(),G6=(()=>{class n extends $R{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,z6,5),a.Suo(r,eq,5)),2&e){let s;a.iGM(s=a.CRH())&&(i._content=s.first),a.iGM(s=a.CRH())&&(i._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[a._Bn([{provide:HR,useExisting:n}]),a.qOj],ngContentSelectors:KZ,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(a.F$t(YZ),a.YNc(0,ZZ,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,qZ,2,0,"mat-sidenav-content",1)),2&e&&(a.Q6J("ngIf",i.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!i._content))},dependencies:[Tn,z6],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),tq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[js,hn,zu,zu,hn]}),n})();function Z6(...n){const t=(0,os.jO)(n),{args:e,keys:i}=qs(n),r=new Ln.y(s=>{const{length:c}=e;if(!c)return void s.complete();const d=new Array(c);let p=c,_=c;for(let b=0;b<c;b++){let D=!1;(0,zr.Xf)(e[b]).subscribe((0,Vn.x)(s,M=>{D||(D=!0,_--),d[b]=M},()=>p--,void 0,()=>{(!p||!D)&&(_||s.next(i?xl(i,d):d),s.complete())}))}});return t?r.pipe(Ml(t)):r}let q6=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Nm=(()=>{class n extends q6{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Ya=new a.OlP("NgValueAccessor"),iq={provide:Ya,useExisting:(0,a.Gpc)(()=>Fm),multi:!0},sq=new a.OlP("CompositionEventMode");let Fm=(()=>{class n extends q6{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rq(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(sq,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&a.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[a._Bn([iq]),a.qOj]}),n})();function hf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function K6(n){return null!=n&&"number"==typeof n.length}const Yr=new a.OlP("NgValidators"),ff=new a.OlP("NgAsyncValidators"),aq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Kr{static min(t){return function Q6(n){return t=>{if(hf(t.value)||hf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function X6(n){return t=>{if(hf(t.value)||hf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function J6(n){return hf(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function e8(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function t8(n){return hf(n.value)||aq.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function n8(n){return t=>hf(t.value)||!K6(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return i8(t)}static pattern(t){return function r8(n){if(!n)return wS;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(hf(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return u8(t)}static composeAsync(t){return d8(t)}}function i8(n){return t=>K6(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function wS(n){return null}function s8(n){return null!=n}function o8(n){return(0,a.QGY)(n)?(0,sn.D)(n):n}function a8(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function l8(n,t){return t.map(e=>e(n))}function c8(n){return n.map(t=>function lq(n){return!n.validate}(t)?t:e=>t.validate(e))}function u8(n){if(!n)return null;const t=n.filter(s8);return 0==t.length?null:function(e){return a8(l8(e,t))}}function zR(n){return null!=n?u8(c8(n)):null}function d8(n){if(!n)return null;const t=n.filter(s8);return 0==t.length?null:function(e){return Z6(l8(e,t).map(o8)).pipe((0,Qe.U)(a8))}}function GR(n){return null!=n?d8(c8(n)):null}function h8(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function f8(n){return n._rawValidators}function p8(n){return n._rawAsyncValidators}function WR(n){return n?Array.isArray(n)?n:[n]:[]}function ES(n,t){return Array.isArray(n)?n.includes(t):n===t}function m8(n,t){const e=WR(t);return WR(n).forEach(r=>{ES(e,r)||e.push(r)}),e}function g8(n,t){return WR(t).filter(e=>!ES(n,e))}class _8{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=zR(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=GR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Vs extends _8{get formDirective(){return null}get path(){return null}}class gd extends _8{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class y8{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let MC=(()=>{class n extends y8{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(gd,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[a.qOj]}),n})(),xC=(()=>{class n extends y8{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Vs,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[a.qOj]}),n})();const kC="VALID",IS="INVALID",Ny="PENDING",RC="DISABLED";function KR(n){return(SS(n)?n.validators:n)||null}function b8(n){return Array.isArray(n)?zR(n):n||null}function QR(n,t){return(SS(t)?t.asyncValidators:n)||null}function C8(n){return Array.isArray(n)?GR(n):n||null}function SS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class D8{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=b8(this._rawValidators),this._composedAsyncValidatorFn=C8(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===kC}get invalid(){return this.status===IS}get pending(){return this.status==Ny}get disabled(){return this.status===RC}get enabled(){return this.status!==RC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=b8(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=C8(t)}addValidators(t){this.setValidators(m8(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(m8(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(g8(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(g8(t,this._rawAsyncValidators))}hasValidator(t){return ES(this._rawValidators,t)}hasAsyncValidator(t){return ES(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ny,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=RC,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=kC,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kC||this.status===Ny)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?RC:kC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ny,this._hasOwnPendingAsyncValidator=!0;const e=o8(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?RC:this.errors?IS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ny)?Ny:this._anyControlsHaveStatus(IS)?IS:kC}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){SS(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Fy extends D8{constructor(t,e,i){super(KR(e),QR(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function E8(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new a.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function w8(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[e])throw new a.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function TS(n,t){return[...t.path,n]}function OC(n,t){XR(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function _q(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&I8(n,t)})}(n,t),function vq(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function yq(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&I8(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function gq(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function AS(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),xS(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function MS(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function XR(n,t){const e=f8(n);null!==t.validator?n.setValidators(h8(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=p8(n);null!==t.asyncValidator?n.setAsyncValidators(h8(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();MS(t._rawValidators,r),MS(t._rawAsyncValidators,r)}function xS(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=f8(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=p8(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return MS(t._rawValidators,i),MS(t._rawAsyncValidators,i),e}function I8(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function S8(n,t){XR(n,t)}function JR(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function A8(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function eO(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Fm?e=s:function wq(n){return Object.getPrototypeOf(n.constructor)===Nm}(s)?i=s:r=s}),r||i||e||null}const Dq={provide:Vs,useExisting:(0,a.Gpc)(()=>NC)},PC=(()=>Promise.resolve())();let NC=(()=>{class n extends Vs{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new Fy({},zR(e),GR(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){PC.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),OC(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){PC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){PC.then(()=>{const i=this._findContainer(e.path),r=new Fy({});S8(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){PC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){PC.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,A8(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Yr,10),a.Y36(ff,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Dq]),a.qOj]}),n})();function M8(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function x8(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ka=class extends D8{constructor(t=null,e,i){super(KR(e),QR(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),SS(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=x8(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){M8(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){M8(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){x8(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Tq={provide:gd,useExisting:(0,a.Gpc)(()=>tO)},O8=(()=>Promise.resolve())();let tO=(()=>{class n extends gd{constructor(e,i,r,s,c){super(),this._changeDetectorRef=c,this.control=new Ka,this._registered=!1,this.update=new a.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=eO(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),JR(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){OC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){O8.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,a.D6c)(i);O8.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?TS(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Vs,9),a.Y36(Yr,10),a.Y36(ff,10),a.Y36(Ya,10),a.Y36(a.sBO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([Tq]),a.qOj,a.TTD]}),n})(),FC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),N8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const nO=new a.OlP("NgModelWithFormControlWarning"),Rq={provide:gd,useExisting:(0,a.Gpc)(()=>iO)};let iO=(()=>{class n extends gd{constructor(e,i,r,s){super(),this._ngModelWarningConfig=s,this.update=new a.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=eO(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&AS(i,this,!1),OC(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}JR(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&AS(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(a.Y36(Yr,10),a.Y36(ff,10),a.Y36(Ya,10),a.Y36(nO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[a._Bn([Rq]),a.qOj,a.TTD]}),n})();const Oq={provide:Vs,useExisting:(0,a.Gpc)(()=>Lm)};let Lm=(()=>{class n extends Vs{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return OC(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){AS(e.control||null,e,!1),function Eq(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,A8(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(AS(i||null,e),(n=>n instanceof Ka)(r)&&(OC(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);S8(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function bq(n,t){return xS(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){XR(this.form,this),this._oldForm&&xS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Yr,10),a.Y36(ff,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Oq]),a.qOj,a.TTD]}),n})();const Fq={provide:gd,useExisting:(0,a.Gpc)(()=>LC)};let LC=(()=>{class n extends gd{constructor(e,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=eO(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),JR(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return TS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(a.Y36(Vs,13),a.Y36(Yr,10),a.Y36(ff,10),a.Y36(Ya,10),a.Y36(nO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Fq]),a.qOj,a.TTD]}),n})();let Vm=(()=>{class n{constructor(){this._validator=wS}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):wS,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const Yq={provide:Yr,useExisting:(0,a.Gpc)(()=>cO),multi:!0};let cO=(()=>{class n extends Vm{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function H8(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>i8(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&a.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[a._Bn([Yq]),a.qOj]}),n})(),Y8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[N8]}),n})(),Qq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Y8]}),n})(),Xq=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:nO,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Y8]}),n})(),VC=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Bn(e)}get inset(){return this._inset}set inset(e){this._inset=Bn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(a.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),a.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),K8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[hn,hn]}),n})();const Q8=["*"],eY=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],tY=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],oY=Sh(Bp(class{})),aY=Bp(class{}),J8=new a.OlP("MatList"),lY=new a.OlP("MatNavList");let cY=(()=>{class n extends oY{constructor(e){super(),this._elementRef=e,this._stateChanges=new ht.x,"action-list"===this._getListType()&&(e.nativeElement.classList.add("mat-action-list"),e.nativeElement.setAttribute("role","group"))}_getListType(){const e=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===e?"list":"mat-action-list"===e?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[a._Bn([{provide:J8,useExisting:n}]),a.qOj,a.TTD],ngContentSelectors:Q8,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),e9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),t9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),uY=(()=>{class n extends aY{constructor(e,i,r,s){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new ht.x,this._disabled=!1,this._isInteractiveList=!!(r||s&&"action-list"===s._getListType()),this._list=r||s;const c=this._getHostElement();"button"===c.nodeName.toLowerCase()&&!c.hasAttribute("type")&&c.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(yn(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=Bn(e)}ngAfterContentInit(){!function k0(n,t,e="mat"){n.changes.pipe(ai(n)).subscribe(({length:i})=>{Wl(t,`${e}-2-line`,!1),Wl(t,`${e}-3-line`,!1),Wl(t,`${e}-multi-line`,!1),2===i||3===i?Wl(t,`${e}-${i}-line`,!0):i>3&&Wl(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(lY,8),a.Y36(J8,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,e9,5),a.Suo(r,t9,5),a.Suo(r,BE,5)),2&e){let s;a.iGM(s=a.CRH())&&(i._avatar=s.first),a.iGM(s=a.CRH())&&(i._icon=s.first),a.iGM(s=a.CRH())&&(i._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[a.qOj],ngContentSelectors:tY,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(a.F$t(eY),a.TgZ(0,"span",0),a._UZ(1,"span",1),a.Hsn(2),a.TgZ(3,"span",2),a.Hsn(4,1),a.qZA(),a.Hsn(5,2),a.qZA()),2&e&&(a.xp6(1),a.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[Hp],encapsulation:2,changeDetection:0}),n})(),gY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[v_,P0,hn,$E,js,v_,hn,$E,K8]}),n})();class i9{}class r9{}class _d{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof _d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new _d;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof _d?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class _Y{encodeKey(t){return s9(t)}encodeValue(t){return s9(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const vY=/%(\d[a-f0-9])/gi,bY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function s9(n){return encodeURIComponent(n).replace(vY,(t,e)=>bY[e]??t)}function kS(n){return`${n}`}class pf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new _Y,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function yY(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],p=e.get(c)||[];p.push(d),e.set(c,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(kS):[kS(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new pf({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(kS(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(kS(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class CY{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function o9(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function a9(n){return typeof Blob<"u"&&n instanceof Blob}function l9(n){return typeof FormData<"u"&&n instanceof FormData}class BC{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function wY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new _d),this.context||(this.context=new CY),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new pf,this.urlWithParams=e}serializeBody(){return null===this.body?null:o9(this.body)||a9(this.body)||l9(this.body)||function EY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof pf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||l9(this.body)?null:a9(this.body)?this.body.type||null:o9(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,_=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((D,M)=>D.set(M,t.setHeaders[M]),p)),t.setParams&&(_=Object.keys(t.setParams).reduce((D,M)=>D.set(M,t.setParams[M]),_)),new BC(e,i,s,{params:_,headers:p,context:b,reportProgress:d,responseType:r,withCredentials:c})}}var hr=(()=>((hr=hr||{})[hr.Sent=0]="Sent",hr[hr.UploadProgress=1]="UploadProgress",hr[hr.ResponseHeader=2]="ResponseHeader",hr[hr.DownloadProgress=3]="DownloadProgress",hr[hr.Response=4]="Response",hr[hr.User=5]="User",hr))();class uO{constructor(t,e=200,i="OK"){this.headers=t.headers||new _d,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class dO extends uO{constructor(t={}){super(t),this.type=hr.ResponseHeader}clone(t={}){return new dO({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class RS extends uO{constructor(t={}){super(t),this.type=hr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new RS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class c9 extends uO{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function hO(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let OS=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof BC)s=e;else{let p,_;p=r.headers instanceof _d?r.headers:new _d(r.headers),r.params&&(_=r.params instanceof pf?r.params:new pf({fromObject:r.params})),s=new BC(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=et(s).pipe(ce(p=>this.handler.handle(p)));if(e instanceof BC||"events"===r.observe)return c;const d=c.pipe(_n(p=>p instanceof RS));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,Qe.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,Qe.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,Qe.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,Qe.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new pf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,hO(r,i))}post(e,i,r={}){return this.request("POST",e,hO(r,i))}put(e,i,r={}){return this.request("PUT",e,hO(r,i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(i9))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class u9{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const d9=new a.OlP("HTTP_INTERCEPTORS");let DY=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const IY=/^\)\]\}',?\n/;let h9=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ln.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((P,L)=>r.setRequestHeader(P,L.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const P=e.detectContentTypeHeader();null!==P&&r.setRequestHeader("Content-Type",P)}if(e.responseType){const P=e.responseType.toLowerCase();r.responseType="json"!==P?P:"text"}const s=e.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const P=r.statusText||"OK",L=new _d(r.getAllResponseHeaders()),K=function SY(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new dO({headers:L,status:r.status,statusText:P,url:K}),c},p=()=>{let{headers:P,status:L,statusText:K,url:se}=d(),Oe=null;204!==L&&(Oe=typeof r.response>"u"?r.responseText:r.response),0===L&&(L=Oe?200:0);let Ze=L>=200&&L<300;if("json"===e.responseType&&"string"==typeof Oe){const Ke=Oe;Oe=Oe.replace(IY,"");try{Oe=""!==Oe?JSON.parse(Oe):null}catch(Xe){Oe=Ke,Ze&&(Ze=!1,Oe={error:Xe,text:Oe})}}Ze?(i.next(new RS({body:Oe,headers:P,status:L,statusText:K,url:se||void 0})),i.complete()):i.error(new c9({error:Oe,headers:P,status:L,statusText:K,url:se||void 0}))},_=P=>{const{url:L}=d(),K=new c9({error:P,status:r.status||0,statusText:r.statusText||"Unknown Error",url:L||void 0});i.error(K)};let b=!1;const D=P=>{b||(i.next(d()),b=!0);let L={type:hr.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(L.total=P.total),"text"===e.responseType&&!!r.responseText&&(L.partialText=r.responseText),i.next(L)},M=P=>{let L={type:hr.UploadProgress,loaded:P.loaded};P.lengthComputable&&(L.total=P.total),i.next(L)};return r.addEventListener("load",p),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),e.reportProgress&&(r.addEventListener("progress",D),null!==s&&r.upload&&r.upload.addEventListener("progress",M)),r.send(s),i.next({type:hr.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",p),r.removeEventListener("timeout",_),e.reportProgress&&(r.removeEventListener("progress",D),null!==s&&r.upload&&r.upload.removeEventListener("progress",M)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Io))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const fO=new a.OlP("XSRF_COOKIE_NAME"),pO=new a.OlP("XSRF_HEADER_NAME");class f9{}let TY=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=rc(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ie),a.LFG(a.Lbi),a.LFG(fO))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),mO=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(f9),a.LFG(pO))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),AY=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(d9,[]);this.chain=i.reduceRight((r,s)=>new u9(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(r9),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),MY=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:mO,useClass:DY}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:fO,useValue:e.cookieName}:[],e.headerName?{provide:pO,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[mO,{provide:d9,useExisting:mO,multi:!0},{provide:f9,useClass:TY},{provide:fO,useValue:"XSRF-TOKEN"},{provide:pO,useValue:"X-XSRF-TOKEN"}]}),n})(),xY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[OS,{provide:i9,useClass:AY},h9,{provide:r9,useExisting:h9}],imports:[MY.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const kY=["*"];let PS;function UC(n){return function RY(){if(void 0===PS&&(PS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(PS=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return PS}()?.createHTML(n)||n}function p9(n){return Error(`Unable to find icon with the name "${n}"`)}function m9(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function g9(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Bm{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let NS=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new Bm(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const c=this._sanitizer.sanitize(a.q3G.HTML,r);if(!c)throw g9(r);const d=UC(c);return this._addSvgIconConfig(e,i,new Bm("",d,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Bm(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(a.q3G.HTML,i);if(!s)throw g9(i);const c=UC(s);return this._addSvgIconSetConfig(e,new Bm("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,e);if(!i)throw m9(e);const r=this._cachedIconsByUrl.get(i);return r?et(FS(r)):this._loadSvgIconFromConfig(new Bm(e,null)).pipe((0,Ce.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,Qe.U)(s=>FS(s)))}getNamedSvgIcon(e,i=""){const r=_9(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):Ys(p9(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?et(FS(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Qe.U)(i=>FS(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?et(r):Z6(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(We(d=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(_)),et(null)})))).pipe((0,Qe.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw p9(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Ce.b)(i=>e.svgText=i),(0,Qe.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?et(null):this._fetchIcon(e).pipe((0,Ce.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(UC("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(UC("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function OY(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,i);if(!c)throw m9(i);const d=this._inProgressUrlFetches.get(c);if(d)return d;const p=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe((0,Qe.U)(_=>UC(_)),Qs(()=>this._inProgressUrlFetches.delete(c)),(0,K2.B)());return this._inProgressUrlFetches.set(c,p),p}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(_9(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return NY(s)?new Bm(s.url,null,s.options):new Bm(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(OS,8),a.LFG(ko),a.LFG(ie,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FS(n){return n.cloneNode(!0)}function _9(n,t){return n+":"+t}function NY(n){return!(!n.url||!n.options)}const FY=Th(class{constructor(n){this._elementRef=n}}),LY=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),VY=new a.OlP("mat-icon-location",{providedIn:"root",factory:function BY(){const n=(0,a.f3M)(ie),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),y9=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],UY=y9.map(n=>`[${n}]`).join(", "),HY=/^url\(['"]?#(.*?)['"]?\)$/;let HC=(()=>{class n extends FY{constructor(e,i,r,s,c,d){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ti.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Bn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(UY),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)y9.forEach(c=>{const d=i[s],p=d.getAttribute(c),_=p?p.match(HY):null;if(_){let b=r.get(d);b||(b=[],r.set(d,b)),b.push({name:c,value:_[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(jt(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(NS),a.$8M("aria-hidden"),a.Y36(VY),a.Y36(a.qLn),a.Y36(LY,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(a.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),a.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:kY,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),jY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[hn,hn]}),n})();const $Y=["*",[["mat-toolbar-row"]]],zY=["*","mat-toolbar-row"],GY=Th(class{constructor(n){this._elementRef=n}});let WY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),ZY=(()=>{class n extends GY{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(xi),a.Y36(ie))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,WY,5),2&e){let s;a.iGM(s=a.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:zY,decls:2,vars:0,template:function(e,i){1&e&&(a.F$t($Y),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),qY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[hn,hn]}),n})(),YY=(()=>{class n{constructor(e,i){this.router=e,this.auth=i,this.userData=this.auth.userData,this.dashName="Hardknox",this.showHomeLoader=!1}ngOnInit(){this.auth.checkUserInFSore(),this.auth.updatedUserData.subscribe(e=>{this.userData=this.auth.updateUserProfile()}),this.auth.updatedLoaderStatus.subscribe(e=>{this.showHomeLoader=this.auth.updatedLoaderStatusFun()})}showProgressBar(e){this.auth.showProgressBar(e)}logOutUser(){this.auth.SignOut()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(qn),a.Y36(Zc))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-dash"]],decls:41,vars:5,consts:[["mode","indeterminate"],[1,"example-container"],["mode","over",1,"drawer_p"],["drawer",""],[1,"drawer_list"],["routerLink","/dash",3,"click"],[1,"drawer_menu_icon"],["routerLink","/dash/profile",3,"click"],[3,"click"],[1,"heigh_100vh"],["color","primary"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"click"],["routerLink","/dash",1,"dashLogo"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with heart icon","routerLink","/dash/profile",1,"example-icon","favorite-icon"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon",3,"click"],[1,"dashMainRouter"]],template:function(e,i){if(1&e){const r=a.EpF();a._UZ(0,"mat-progress-bar",0),a.TgZ(1,"mat-drawer-container",1)(2,"mat-drawer",2,3)(4,"mat-list",4)(5,"mat-list-item",5),a.NdJ("click",function(){a.CHM(r);const c=a.MAs(3);return a.KtG(c.toggle())}),a.TgZ(6,"h2"),a._uU(7),a.qZA()(),a._UZ(8,"mat-divider"),a.TgZ(9,"mat-list-item",5),a.NdJ("click",function(){a.CHM(r);const c=a.MAs(3);return a.KtG(c.toggle())}),a.TgZ(10,"mat-icon",6),a._uU(11,"home"),a.qZA(),a._uU(12," Home "),a.qZA(),a._UZ(13,"mat-divider"),a.TgZ(14,"mat-list-item",7),a.NdJ("click",function(){a.CHM(r);const c=a.MAs(3);return a.KtG(c.toggle())}),a.TgZ(15,"mat-icon",6),a._uU(16,"person"),a.qZA(),a._uU(17," Profile "),a.qZA(),a._UZ(18,"mat-divider"),a.TgZ(19,"mat-list-item",8),a.NdJ("click",function(){return i.logOutUser()}),a.TgZ(20,"mat-icon",6),a._uU(21,"lock"),a.qZA(),a._uU(22," Logout "),a.qZA(),a._UZ(23,"mat-divider"),a.qZA()(),a.TgZ(24,"mat-sidenav-container",9)(25,"mat-toolbar",10)(26,"button",11),a.NdJ("click",function(){a.CHM(r);const c=a.MAs(3);return a.KtG(c.toggle())}),a.TgZ(27,"mat-icon"),a._uU(28,"menu"),a.qZA()(),a.TgZ(29,"span",12),a._uU(30),a.qZA(),a._UZ(31,"span",13)(32,"span",13),a.TgZ(33,"button",14)(34,"mat-icon"),a._uU(35,"person"),a.qZA()(),a.TgZ(36,"button",15),a.NdJ("click",function(){return i.logOutUser()}),a.TgZ(37,"mat-icon"),a._uU(38,"lock"),a.qZA()()(),a.TgZ(39,"div",16),a._UZ(40,"router-outlet"),a.qZA()()()}2&e&&(a.Gre("progressBar ",i.showHomeLoader,""),a.xp6(7),a.Oqu(i.dashName),a.xp6(23),a.Oqu(i.dashName))},dependencies:[Sc,Oa,jR,$R,G6,SR,cY,uY,VC,ao,HC,ZY]}),n})();const KY=["connectionContainer"],QY=["inputContainer"],XY=["label"];function JY(n,t){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function eK(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",19),a.NdJ("cdkObserveContent",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.updateOutlineGap())}),a.Hsn(1,1),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function tK(n,t){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const e=a.oxw(2);a.xp6(3),a.Oqu(e._control.placeholder)}}function nK(n,t){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function iK(n,t){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function rK(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.updateOutlineGap())}),a.YNc(2,tK,4,1,"ng-container",12),a.YNc(3,nK,1,0,"ng-content",12),a.YNc(4,iK,2,0,"span",22),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),a.uIk("for",e._control.id)("aria-owns",e._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function sK(n,t){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function oK(n,t){if(1&n&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function aK(n,t){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function lK(n,t){if(1&n&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function cK(n,t){if(1&n&&(a.TgZ(0,"div",27),a.YNc(1,lK,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const uK=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],dK=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let hK=0;const v9=new a.OlP("MatError");let b9=(()=>{class n{constructor(e,i){this.id="mat-error-"+hK++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(a.$8M("aria-live"),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&a.uIk("id",i.id)},inputs:{id:"id"},features:[a._Bn([{provide:v9,useExisting:n}])]}),n})();const fK={transitionMessages:ql("transitionMessages",[cs("enter",Dn({opacity:1,transform:"translateY(0%)"})),kr("void => enter",[Dn({opacity:0,transform:"translateY(-5px)"}),xr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let gO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n}),n})(),pK=0;const C9=new a.OlP("MatHint");let mK=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+pK++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(a.uIk("id",i.id)("align",null),a.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[a._Bn([{provide:C9,useExisting:n}])]}),n})(),Ly=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),gK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const w9=new a.OlP("MatPrefix");let _K=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matPrefix",""]],features:[a._Bn([{provide:w9,useExisting:n}])]}),n})();const E9=new a.OlP("MatSuffix");let yK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matSuffix",""]],features:[a._Bn([{provide:E9,useExisting:n}])]}),n})(),D9=0;const bK=Th(class{constructor(n){this._elementRef=n}},"primary"),CK=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),_O=new a.OlP("MatFormField");let LS=(()=>{class n extends bK{constructor(e,i,r,s,c,d,p){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ht.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+D9++,this._labelId="mat-form-field-label-"+D9++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Bn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(ai(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(yn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(yn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,zo.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ai(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ai(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(yn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ba(this._label.nativeElement,"transitionend").pipe(jt(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const b=i.querySelectorAll(`${r}, ${s}`);for(let D=0;D<b.length;D++)b[D].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,d=0;const p=i.querySelectorAll(r),_=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const b=i.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const D=this._getStartEnd(b),M=e.children,P=this._getStartEnd(M[0].getBoundingClientRect());let L=0;for(let K=0;K<M.length;K++)L+=M[K].offsetWidth;c=Math.abs(P-D)-5,d=L>0?.75*L+10:0}for(let b=0;b<p.length;b++)p[b].style.width=`${c}px`;for(let b=0;b<_.length;b++)_[b].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36($o,8),a.Y36(CK,8),a.Y36(xi),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,gO,5),a.Suo(r,gO,7),a.Suo(r,Ly,5),a.Suo(r,Ly,7),a.Suo(r,gK,5),a.Suo(r,v9,5),a.Suo(r,C9,5),a.Suo(r,w9,5),a.Suo(r,E9,5)),2&e){let s;a.iGM(s=a.CRH())&&(i._controlNonStatic=s.first),a.iGM(s=a.CRH())&&(i._controlStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildNonStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildStatic=s.first),a.iGM(s=a.CRH())&&(i._placeholderChild=s.first),a.iGM(s=a.CRH())&&(i._errorChildren=s),a.iGM(s=a.CRH())&&(i._hintChildren=s),a.iGM(s=a.CRH())&&(i._prefixChildren=s),a.iGM(s=a.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(a.Gf(KY,7),a.Gf(QY,5),a.Gf(XY,5)),2&e){let r;a.iGM(r=a.CRH())&&(i._connectionContainerRef=r.first),a.iGM(r=a.CRH())&&(i._inputContainerRef=r.first),a.iGM(r=a.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&a.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:_O,useExisting:n}]),a.qOj],ngContentSelectors:dK,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(a.F$t(uK),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),a.YNc(3,JY,9,0,"ng-container",3),a.YNc(4,eK,2,1,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,rK,5,16,"label",8),a.qZA()(),a.YNc(10,sK,2,0,"div",9),a.qZA(),a.YNc(11,oK,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,aK,2,1,"div",12),a.YNc(14,cK,5,2,"div",13),a.qZA()()),2&e&&(a.xp6(3),a.Q6J("ngIf","outline"==i.appearance),a.xp6(1),a.Q6J("ngIf",i._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",i._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",i._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=i.appearance),a.xp6(1),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[Tn,Us,al,Jg],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[fK.transitionMessages]},changeDetection:0}),n})(),S9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[js,hn,wp,hn]}),n})();const T9=gp({passive:!0});let wK=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Li.E;const i=Va(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new ht.x,c="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,T9),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,T9)}}),s}stopMonitoring(e){const i=Va(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(xi),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const M9=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),EK=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let DK=0;const IK=PE(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new ht.x}});let VS=(()=>{class n extends IK{constructor(e,i,r,s,c,d,p,_,b,D){super(d,s,c,r),this._elementRef=e,this._platform=i,this._autofillMonitor=_,this._formField=D,this._uid="mat-input-"+DK++,this.focused=!1,this.stateChanges=new ht.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(L=>Zg().has(L)),this._iOSKeyupListener=L=>{const K=L.target;!K.value&&0===K.selectionStart&&0===K.selectionEnd&&(K.setSelectionRange(1,1),K.setSelectionRange(0,0))};const M=this._elementRef.nativeElement,P=M.nodeName.toLowerCase();this._inputValueAccessor=p||M,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===P,this._isTextarea="textarea"===P,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=M.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Bn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Kr.required)??!1}set required(e){this._required=Bn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Zg().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Bn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){EK.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(xi),a.Y36(gd,10),a.Y36(NC,8),a.Y36(Lm,8),a.Y36(VE),a.Y36(M9,10),a.Y36(wK),a.Y36(a.R0b),a.Y36(_O,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(a.Ikx("disabled",i.disabled)("required",i.required),a.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),a.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:gO,useExisting:n}]),a.qOj,a.TTD]}),n})(),SK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[VE],imports:[A9,S9,hn,A9,S9]}),n})();function TK(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Please enter a valid email address "),a.qZA())}function AK(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Email is "),a.TgZ(2,"strong"),a._uU(3,"required"),a.qZA()())}function MK(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Please enter a valid Password. "),a.qZA())}function xK(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Password is "),a.TgZ(2,"strong"),a._uU(3,"required"),a.qZA()())}let kK=(()=>{class n{constructor(e,i,r){this.router=e,this._snackBar=i,this.auth=r,this.userName=new Ka("",[Kr.required,Kr.email]),this.userPass=new Ka("",[Kr.required,Kr.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{8,}")])}ngOnInit(){}logInCustom(){this.userName.hasError("required")||this.userName.hasError("email")||this.userPass.hasError("required")||this.userPass.hasError("pattern")?this.auth.showToast("Please enter valid values","close"):this.auth.SignIn(this.userName.value,this.userPass.value)}clearLogInForm(){this.userName.setValue(""),this.userPass.setValue("")}logInGoogleAlc(){this.auth.SigninWithGoogle()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(qn),a.Y36(hS),a.Y36(Zc))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:50,vars:6,consts:[[1,"container-custom"],[1,"example-form",3,"ngSubmit"],["appearance","fill",1,"example-full-width"],["type","email","matInput","","placeholder","Ex. pat@example.com",3,"formControl"],[4,"ngIf"],["matInput","","placeholder","Password","value","","type","password",3,"formControl"],[1,"example-button-row","my-4"],["type","button","mat-raised-button","",3,"click"],[1,"cta_ico"],["mat-raised-button","","color","primary",1,"fr"],["type","button","mat-raised-button","",1,"width_100",3,"click"],["height","100%","viewBox","0 0 20 20","width","100%","fit","","preserveAspectRatio","xMidYMid meet","focusable","false",1,"googleCreateIocn"],["d","M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z","fill","#4285F4"],["d","M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z","fill","#34A853"],["d","M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z","fill","#FBBC05"],["d","M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z","fill","#EA4335"],[1,"example-button-row","my-4","overF"],["type","button","mat-raised-button","","color","primary","routerLink","/signup",1,"width_100"],[1,"overF","mt_20"],["routerLink","/dash"],["routerLink","/resetpass",2,"float","right"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-card",0)(1,"h2"),a._uU(2,"Login"),a.qZA(),a.TgZ(3,"form",1),a.NdJ("ngSubmit",function(){return i.logInCustom()}),a.TgZ(4,"mat-form-field",2)(5,"mat-label"),a._uU(6,"Email"),a.qZA(),a._UZ(7,"input",3),a.YNc(8,TK,2,0,"mat-error",4),a.YNc(9,AK,4,0,"mat-error",4),a.qZA(),a.TgZ(10,"mat-form-field",2)(11,"mat-label"),a._uU(12,"Password"),a.qZA(),a._UZ(13,"input",5),a.YNc(14,MK,2,0,"mat-error",4),a.YNc(15,xK,4,0,"mat-error",4),a.qZA(),a._UZ(16,"mat-divider"),a.TgZ(17,"section")(18,"div",6)(19,"button",7),a.NdJ("click",function(){return i.clearLogInForm()}),a.TgZ(20,"mat-icon",8),a._uU(21," clear_all"),a.qZA(),a._uU(22,"Clear "),a.qZA(),a.TgZ(23,"button",9)(24,"mat-icon",8),a._uU(25,"lock_open"),a.qZA(),a._uU(26," LogIn "),a.qZA()()(),a._UZ(27,"mat-divider"),a.TgZ(28,"section")(29,"div",6)(30,"button",10),a.NdJ("click",function(){return i.logInGoogleAlc()}),a.O4$(),a.TgZ(31,"svg",11),a._UZ(32,"path",12)(33,"path",13)(34,"path",14)(35,"path",15),a.qZA(),a._uU(36," LogIn to Google Account "),a.qZA()()(),a.kcU(),a._UZ(37,"mat-divider"),a.TgZ(38,"section")(39,"div",16)(40,"button",17)(41,"mat-icon",8),a._uU(42,"account_box"),a.qZA(),a._uU(43," Create Account "),a.qZA()()(),a._UZ(44,"mat-divider"),a.TgZ(45,"section",18)(46,"a",19),a._uU(47,"Dash"),a.qZA(),a.TgZ(48,"a",20),a._uU(49,"Forgot Password ?"),a.qZA()()()()),2&e&&(a.xp6(7),a.Q6J("formControl",i.userName),a.xp6(1),a.Q6J("ngIf",i.userName.hasError("email")&&!i.userName.hasError("required")),a.xp6(1),a.Q6J("ngIf",i.userName.hasError("required")),a.xp6(4),a.Q6J("formControl",i.userPass),a.xp6(1),a.Q6J("ngIf",i.userPass.hasError("pattern")&&!i.userPass.hasError("required")),a.xp6(1),a.Q6J("ngIf",i.userPass.hasError("required")))},dependencies:[Tn,Oa,Vl,FC,Fm,MC,xC,NC,iO,VC,AC,ao,b9,LS,Ly,VS,HC],styles:[".container-custom[_ngcontent-%COMP%]{max-width:400px;margin:100px auto}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.fr[_ngcontent-%COMP%]{float:right}.cta_ico[_ngcontent-%COMP%]{font-size:19px;height:20px;width:20px}"]}),n})();const RK=["mat-calendar-body",""];function OK(n,t){if(1&n&&(a.TgZ(0,"tr",2)(1,"td",3),a._uU(2),a.qZA()()),2&n){const e=a.oxw();a.xp6(1),a.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),a.uIk("colspan",e.numCols),a.xp6(1),a.hij(" ",e.label," ")}}function PK(n,t){if(1&n&&(a.TgZ(0,"td",3),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),a.uIk("colspan",e._firstRowOffset),a.xp6(1),a.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function NK(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"td",7)(1,"button",8),a.NdJ("click",function(r){const c=a.CHM(e).$implicit,d=a.oxw(2);return a.KtG(d._cellClicked(c,r))})("focus",function(r){const c=a.CHM(e).$implicit,d=a.oxw(2);return a.KtG(d._emitActiveDateChange(c,r))}),a.TgZ(2,"div",9),a._uU(3),a.qZA(),a._UZ(4,"div",10),a.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=a.oxw().index,s=a.oxw();a.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),a.uIk("data-mat-row",r)("data-mat-col",i),a.xp6(1),a.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),a.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),a.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),a.xp6(1),a.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),a.xp6(1),a.hij(" ",e.displayValue," ")}}function FK(n,t){if(1&n&&(a.TgZ(0,"tr",4),a.YNc(1,PK,2,6,"td",5),a.YNc(2,NK,5,47,"td",6),a.qZA()),2&n){const e=t.$implicit,i=t.index,r=a.oxw();a.xp6(1),a.Q6J("ngIf",0===i&&r._firstRowOffset),a.xp6(1),a.Q6J("ngForOf",e)}}function LK(n,t){if(1&n&&(a.TgZ(0,"th",5)(1,"span",6),a._uU(2),a.qZA(),a.TgZ(3,"span",7),a._uU(4),a.qZA()()),2&n){const e=t.$implicit;a.xp6(2),a.Oqu(e.long),a.xp6(2),a.Oqu(e.narrow)}}const VK=["*"];function BK(n,t){}function UK(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-month-view",5),a.NdJ("activeDateChange",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s.activeDate=r)})("_userSelection",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._dateSelected(r))}),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function HK(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-year-view",6),a.NdJ("activeDateChange",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s.activeDate=r)})("monthSelected",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._monthSelectedInYearView(r))})("selectedChange",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._goToDateInView(r,"month"))}),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function jK(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-multi-year-view",7),a.NdJ("activeDateChange",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s.activeDate=r)})("yearSelected",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._yearSelectedInMultiYearView(r))})("selectedChange",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._goToDateInView(r,"year"))}),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function $K(n,t){}const zK=["button"];function GK(n,t){1&n&&(a.O4$(),a.TgZ(0,"svg",3),a._UZ(1,"path",4),a.qZA())}const WK=[[["","matDatepickerToggleIcon",""]]],ZK=["[matDatepickerToggleIcon]"];let jC=(()=>{class n{constructor(){this.changes=new ht.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yO{constructor(t,e,i,r,s={},c=t,d){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=c,this.rawValue=d}}let Vy=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new a.vpe,this.previewChange=new a.vpe,this.activeDateChange=new a.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(jt(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return vO(e,this.startValue,this.endValue)}_isRangeEnd(e){return bO(e,this.startValue,this.endValue)}_isInRange(e){return CO(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return vO(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const c=this.rows[i-1];s=c&&c[c.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const c=this.rows[i+1];s=c&&c[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return bO(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return CO(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return vO(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return bO(e,this.previewStart,this.previewEnd)}_isInPreview(e){return CO(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(x9(e)?i=e:x9(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[a.TTD],attrs:RK,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(a.YNc(0,OK,3,6,"tr",0),a.YNc(1,FK,3,2,"tr",1)),2&e&&(a.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),a.xp6(1),a.Q6J("ngForOf",i.rows))},dependencies:[pn,_s,Tn],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function x9(n){return"TD"===n.nodeName}function vO(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function bO(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function CO(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class ho{constructor(t,e){this.start=t,this.end=e}}let mf=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new ht.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),qK=(()=>{class n extends mf{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ar))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const k9={provide:mf,deps:[[new a.FiY,new a.tp0,mf],ar],useFactory:function KK(n,t){return n||new qK(t)}},BS=new a.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let R9=(()=>{class n{constructor(e,i,r,s,c){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=c,this._rerenderSubscription=Ti.w0.EMPTY,this.selectedChange=new a.vpe,this._userSelection=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof ho?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ai(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let s,c;this._selected instanceof ho?(s=this._getDateInCurrentMonth(this._selected.start),c=this._getDateInCurrentMonth(this._selected.end)):s=c=this._getDateInCurrentMonth(this._selected),(s!==i||c!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!La(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((c,d)=>({long:c,narrow:i[d]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),d=this._shouldEnableDate(c),p=this._dateAdapter.format(c,this._dateFormats.display.dateA11yLabel),_=this.dateClass?this.dateClass(c,"month"):void 0;this._weeks[this._weeks.length-1].push(new yO(r+1,i[r],p,d,_,this._getCellCompareValue(c),c))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof ho?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(qu,8),a.Y36(ar,8),a.Y36($o,8),a.Y36(BS,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&a.Gf(Vy,5),2&e){let r;a.iGM(r=a.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[a.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a.YNc(3,LK,5,2,"th",2),a.qZA(),a.TgZ(4,"tr"),a._UZ(5,"th",3),a.qZA()(),a.TgZ(6,"tbody",4),a.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),a.qZA()()),2&e&&(a.xp6(3),a.Q6J("ngForOf",i._weekdays),a.xp6(3),a.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[_s,Vy],encapsulation:2,changeDetection:0}),n})(),O9=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Ti.w0.EMPTY,this.selectedChange=new a.vpe,this.yearSelected=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),P9(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof ho?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ai(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-$C(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<24;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(c=>this._createCellForYear(c))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-$C(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-$C(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return $C(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new yO(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof ho){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(ar,8),a.Y36($o,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&a.Gf(Vy,5),2&e){let r;a.iGM(r=a.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a._UZ(3,"th",2),a.qZA()(),a.TgZ(4,"tbody",3),a.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),a.qZA()()),2&e&&(a.xp6(4),a.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Vy],encapsulation:2,changeDetection:0}),n})();function P9(n,t,e,i,r){const s=n.getYear(t),c=n.getYear(e),d=N9(n,i,r);return Math.floor((s-d)/24)===Math.floor((c-d)/24)}function $C(n,t,e,i){return function eQ(n,t){return(n%t+t)%t}(n.getYear(t)-N9(n,e,i),24)}function N9(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let F9=(()=>{class n{constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Ti.w0.EMPTY,this.selectedChange=new a.vpe,this.monthSelected=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof ho?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ai(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),c=this.dateClass?this.dateClass(r,"year"):void 0;return new yO(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),c)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof ho?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(qu,8),a.Y36(ar,8),a.Y36($o,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&a.Gf(Vy,5),2&e){let r;a.iGM(r=a.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a._UZ(3,"th",2),a.qZA()(),a.TgZ(4,"tbody",3),a.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),a.qZA()()),2&e&&(a.xp6(4),a.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Vy],encapsulation:2,changeDetection:0}),n})(),tQ=0,nQ=(()=>{class n{constructor(e,i,r,s,c){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+tQ++,this.calendar.stateChanges.subscribe(()=>c.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-$C(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),c=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(s,c)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):P9(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(jC),a.Y36((0,a.Gpc)(()=>DO)),a.Y36(ar,8),a.Y36(qu,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:VK,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0)(1,"div",1)(2,"button",2),a.NdJ("click",function(){return i.currentPeriodClicked()}),a.TgZ(3,"span"),a._uU(4),a.qZA(),a.O4$(),a.TgZ(5,"svg",3),a._UZ(6,"polygon",4),a.qZA()(),a.kcU(),a._UZ(7,"div",5),a.Hsn(8),a.TgZ(9,"button",6),a.NdJ("click",function(){return i.previousClicked()}),a.qZA(),a.TgZ(10,"button",7),a.NdJ("click",function(){return i.nextClicked()}),a.qZA()()()),2&e&&(a.xp6(2),a.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),a.xp6(1),a.uIk("id",i._buttonDescriptionId),a.xp6(1),a.Oqu(i.periodButtonText),a.xp6(1),a.ekj("mat-calendar-invert","month"!==i.calendar.currentView),a.xp6(4),a.Q6J("disabled",!i.previousEnabled()),a.uIk("aria-label",i.prevButtonLabel),a.xp6(1),a.Q6J("disabled",!i.nextEnabled()),a.uIk("aria-label",i.nextButtonLabel))},dependencies:[ao],encapsulation:2,changeDetection:0}),n})(),DO=(()=>{class n{constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new a.vpe,this.yearSelected=new a.vpe,this.monthSelected=new a.vpe,this.viewChanged=new a.vpe(!0),this._userSelection=new a.vpe,this.stateChanges=new ht.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof ho?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new Gl(this.headerComponent||nQ),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const c=this._getCurrentViewComponent();c&&(this._changeDetectorRef.detectChanges(),c._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof ho||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(jC),a.Y36(ar,8),a.Y36(qu,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(a.Gf(R9,5),a.Gf(F9,5),a.Gf(O9,5)),2&e){let r;a.iGM(r=a.CRH())&&(i.monthView=r.first),a.iGM(r=a.CRH())&&(i.yearView=r.first),a.iGM(r=a.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[a._Bn([k9]),a.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(a.YNc(0,BK,0,0,"ng-template",0),a.TgZ(1,"div",1),a.YNc(2,UK,1,8,"mat-month-view",2),a.YNc(3,HK,1,6,"mat-year-view",3),a.YNc(4,jK,1,6,"mat-multi-year-view",4),a.qZA()),2&e&&(a.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),a.xp6(1),a.Q6J("ngSwitch",i.currentView),a.xp6(1),a.Q6J("ngSwitchCase","month"),a.xp6(1),a.Q6J("ngSwitchCase","year"),a.xp6(1),a.Q6J("ngSwitchCase","multi-year"))},dependencies:[Us,al,pM,Pc,R9,F9,O9],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const L9={transformPanel:ql("transformPanel",[kr("void => enter-dropdown",xr("120ms cubic-bezier(0, 0, 0.2, 1)",N0([Dn({opacity:0,transform:"scale(1, 0.8)"}),Dn({opacity:1,transform:"scale(1, 1)"})]))),kr("void => enter-dialog",xr("150ms cubic-bezier(0, 0, 0.2, 1)",N0([Dn({opacity:0,transform:"scale(0.7)"}),Dn({transform:"none",opacity:1})]))),kr("* => void",xr("100ms linear",Dn({opacity:0})))]),fadeInCalendar:ql("fadeInCalendar",[cs("void",Dn({opacity:0})),cs("enter",Dn({opacity:1})),kr("void => *",xr("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let iQ=0;const V9=new a.OlP("mat-datepicker-scroll-strategy"),sQ={provide:V9,deps:[As],useFactory:function rQ(n){return()=>n.scrollStrategies.reposition()}},oQ=Th(class{constructor(n){this._elementRef=n}});let aQ=(()=>{class n extends oQ{constructor(e,i,r,s,c,d){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=c,this._subscriptions=new Ti.w0,this._animationDone=new ht.x,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof ho;if(s&&this._rangeSelectionStrategy){const c=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(c,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(mf),a.Y36(ar),a.Y36(BS,8),a.Y36(jC))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&a.Gf(DO,5),2&e){let r;a.iGM(r=a.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&a.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(a.d8E("@transformPanel",i._animationState),a.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[a.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(a.TgZ(0,"div",0)(1,"mat-calendar",1),a.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),a.qZA(),a.YNc(2,$K,0,0,"ng-template",2),a.TgZ(3,"button",3),a.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),a._uU(4),a.qZA()()),2&e){let r;a.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),a.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),a.xp6(1),a.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),a.xp6(1),a.Q6J("cdkPortalOutlet",i._actionsPortal),a.xp6(1),a.ekj("cdk-visually-hidden",!i._closeButtonFocused),a.Q6J("color",i.color||"primary"),a.xp6(1),a.Oqu(i._closeButtonText)}},dependencies:[pn,ao,bh,Pc,DO],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[L9.transformPanel,L9.fadeInCalendar]},changeDetection:0}),n})(),B9=(()=>{class n{constructor(e,i,r,s,c,d,p){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=c,this._dir=d,this._model=p,this._inputStateChanges=Ti.w0.EMPTY,this._document=(0,a.f3M)(ie),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new a.vpe,this.monthSelected=new a.vpe,this.viewChanged=new a.vpe(!0),this.openedStream=new a.vpe,this.closedStream=new a.vpe,this._opened=!1,this.id="mat-datepicker-"+iQ++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new ht.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=Bn(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=Bn(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=Bn(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function W1(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){Bn(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof D0&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=_p(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:s}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(jt(1)).subscribe(()=>{const c=this._document.activeElement;e&&(!c||c===this._document.activeElement||s.nativeElement.contains(c))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new Gl(aQ,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new u_({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const c=s.keyCode;(38===c||40===c||37===c||39===c||33===c||34===c)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(jt(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",c="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:c,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:c},{originX:r,originY:c,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:c}])}_getCloseStream(e){return(0,zo.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(_n(i=>27===i.keyCode&&!La(i)||this.datepickerInput&&La(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(As),a.Y36(a.R0b),a.Y36(a.s_b),a.Y36(V9),a.Y36(ar,8),a.Y36($o,8),a.Y36(mf))},n.\u0275dir=a.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[a.TTD]}),n})(),lQ=(()=>{class n extends B9{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[a._Bn([k9,{provide:B9,useExisting:n}]),a.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class US{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let cQ=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new a.vpe,this.dateInput=new a.vpe,this.stateChanges=new ht.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Ti.w0.EMPTY,this._localeSubscription=Ti.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!c||this._matchesFilter(c)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMinDate();return!d||!c||this._dateAdapter.compareDate(d,c)<=0?null:{matDatepickerMin:{min:d,actual:c}}},this._maxValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMaxDate();return!d||!c||this._dateAdapter.compareDate(d,c)>=0?null:{matDatepickerMax:{max:d,actual:c}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=Bn(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new US(this,this._elementRef.nativeElement)),this.dateChange.emit(new US(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function uQ(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new US(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new US(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(ar,8),a.Y36(qu,8))},n.\u0275dir=a.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[a.TTD]}),n})();const dQ={provide:Ya,useExisting:(0,a.Gpc)(()=>IO),multi:!0},hQ={provide:Yr,useExisting:(0,a.Gpc)(()=>IO),multi:!0};let IO=(()=>{class n extends cQ{constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=Ti.w0.EMPTY,this._validator=Kr.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(ar,8),a.Y36(qu,8),a.Y36(_O,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&a.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(a.Ikx("disabled",i.disabled),a.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[a._Bn([dQ,hQ,{provide:M9,useExisting:n}]),a.qOj]}),n})(),fQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),pQ=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Ti.w0.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=Bn(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:et(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:et(),r=this.datepicker?(0,zo.T)(this.datepicker.openedStream,this.datepicker.closedStream):et();this._stateChanges.unsubscribe(),this._stateChanges=(0,zo.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(jC),a.Y36(a.sBO),a.$8M("tabindex"))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,fQ,5),2&e){let s;a.iGM(s=a.CRH())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&a.Gf(zK,5),2&e){let r;a.iGM(r=a.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&a.NdJ("click",function(s){return i._open(s)}),2&e&&(a.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),a.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[a.TTD],ngContentSelectors:ZK,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(a.F$t(WK),a.TgZ(0,"button",0,1),a.YNc(2,GK,2,0,"svg",2),a.Hsn(3),a.qZA()),2&e&&(a.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),a.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),a.xp6(2),a.Q6J("ngIf",!i._customIcon))},dependencies:[Tn,ao],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),U9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[jC,sQ],imports:[js,j0,Lp,wh,Gu,hn,zu]}),n})();const mQ=["tooltip"],H9="tooltip-panel",j9=gp({passive:!0}),$9=new a.OlP("mat-tooltip-scroll-strategy"),vQ={provide:$9,deps:[As],useFactory:function yQ(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},bQ=new a.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function CQ(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let wQ=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,D,M,P){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=c,this._platform=d,this._ariaDescriber=p,this._focusMonitor=_,this._dir=D,this._defaultOptions=M,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ht.x,this._scrollStrategy=b,this._document=P,M&&(M.position&&(this.position=M.position),M.touchGestures&&(this.touchGestures=M.touchGestures)),D.change.pipe(yn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Bn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=xc(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=xc(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(yn(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,j9)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay();this._detach(),this._portal=this._portal||new Gl(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(yn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(yn(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${H9}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(yn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(yn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(yn(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!La(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:c}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:c}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:c}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:c}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(jt(1),yn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let c;if(c="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",c!==this._currentPosition){const d=this._overlayRef;if(d){const p=`${this._cssClassPrefix}-${H9}-`;d.removePanelClass(p+this._currentPosition),d.addPanelClass(p+c)}this._currentPosition=c}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,j9)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),EQ=(()=>{class n extends wQ{constructor(e,i,r,s,c,d,p,_,b,D,M,P){super(e,i,r,s,c,d,p,_,b,D,M,P),this._tooltipComponent=IQ}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(As),a.Y36(a.SBq),a.Y36(Eh),a.Y36(a.s_b),a.Y36(a.R0b),a.Y36(xi),a.Y36(n0),a.Y36($l),a.Y36($9),a.Y36($o,8),a.Y36(bQ,8),a.Y36(ie))},n.\u0275dir=a.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[a.qOj]}),n})(),DQ=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ht.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const c=getComputedStyle(i);("0s"===c.getPropertyValue("animation-duration")||"none"===c.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n}),n})(),IQ=(()=>{class n extends DQ{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(Rc),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&a.Gf(mQ,7),2&e){let r;a.iGM(r=a.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&a.NdJ("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&a.Udp("zoom",i.isVisible()?1:null)},features:[a.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(a.TgZ(0,"div",0,1),a.NdJ("animationend",function(s){return i._handleAnimationEnd(s)}),a.ALo(2,"async"),a._uU(3),a.qZA()),2&e){let r;a.ekj("mat-tooltip-handset",null==(r=a.lcZ(2,4,i._isHandset))?null:r.matches),a.Q6J("ngClass",i.tooltipClass),a.xp6(3),a.Oqu(i.message)}},dependencies:[pn,kf],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),SQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[vQ],imports:[wh,js,Lp,hn,hn,zu]}),n})(),TQ=(()=>{class n{constructor(e,i,r,s,c,d){this.router=e,this.auth=i,this.afs=r,this.mainApp=s,this.dialog=c,this.fireStorage=d,this.userData=this.auth.userData,this.uid="",this.displayName="",this.email="",this.photoURL="",this.resetPhotoURL="",this.accessToDash="",this.emailVerified="",this.birthDate="",this.updateProfile="",this.uploadProfielLoader=!0,this.uploadCTADisabled=!0,this.photoTM=Date.now(),this.storPath=this.auth.uploadDataPathProfile+"/"+this.userData.email+"/"+this.displayName+"-"+this.photoTM,this.fileRef=this.fireStorage.ref(this.storPath)}ngOnInit(){this.setValuesUpdated(),this.auth.updatedUserData.subscribe(e=>{this.userData=this.auth.updateUserProfile(),this.setValuesUpdated()})}setValuesUpdated(){this.uid=this.userData.uid,this.displayName=this.userData.displayName||"User",this.email=this.userData.email,this.photoURL=this.userData.photoURL||this.auth.userProfileImage,this.resetPhotoURL=this.userData.photoURL||this.auth.userProfileImage,this.accessToDash=this.userData.accessToDash,this.emailVerified=this.userData.emailVerified,this.birthDate=this.userData.birthDate,this.contactNumber=this.userData.phoneNumber,this.startDate=new Date(this.birthDate),this.updateProfile=new Fy({userFullName:new Ka({value:this.displayName,disabled:!1},[Kr.required]),userEmail:new Ka({value:this.email,disabled:!0},[Kr.required,Kr.email]),userBirthDate:new Ka({value:this.startDate,disabled:!1}),contactNumber:new Ka({value:this.contactNumber,disabled:!1},[Kr.pattern("^[0-9]*$")])}),this.reCreateTimeStamp(),this.auth.showProgressBar(!1)}resetProfileForm(){this.setValuesUpdated()}errImage(e){e.target.src=this.auth.noImage}updateUserProfile(){let e;"VALID"==this.updateProfile.status?(this.auth.showProgressBar(!0),e={displayName:this.updateProfile.value.userFullName,birthDate:this.updateProfile.value.userBirthDate.toString(),phoneNumber:this.updateProfile.value.contactNumber||""},this.afs.collection("users").doc(this.userData.uid).update(e).then(i=>{this.auth.checkUserInFSore(),this.auth.showProgressBar(!1),this.auth.showToast("Data Updated Sucessfully","close","default")})):this.auth.showToast("Please fill mandatory fields","close")}reCreateTimeStamp(){this.profileImageInp="",this.uploadProfielLoader=!0,this.uploadCTADisabled=!0,this.photoTM=Date.now(),this.storPath=this.auth.uploadDataPathProfile+"/"+this.userData.email+"/"+this.displayName+"-"+this.photoTM,this.fileRef=this.fireStorage.ref(this.storPath)}uploadDPChange(e){this.tempProfilePath=e.target.files[0];const i=new FileReader;i.readAsDataURL(e.target.files[0]),this.tempProfilePath?"image/jpeg"==this.tempProfilePath.type||"image/png"==this.tempProfilePath.type?i.onload=r=>{const s=new Image;let c=r.target?.result;s.src=c?.toString()||"",s.onload=()=>{Math.floor(this.tempProfilePath.size/1e6)<3?(this.photoURL=c,this.uploadCTADisabled=!1):(this.auth.showToast("Size must be below 3MB","close"),this.tempProfilePath="",this.photoURL=this.resetPhotoURL,this.uploadCTADisabled=!0)}}:(this.auth.showToast("Please select Image file for profile","close"),this.tempProfilePath="",this.photoURL=this.resetPhotoURL):this.auth.showToast("Profile picture is not selected","close")}uploadDPClick(){this.auth.showProgressBar(!0),this.tempProfilePath&&this.fireStorage.upload(this.storPath,this.tempProfilePath).percentageChanges().subscribe(e=>{this.uploadProfielLoader=!1,this.uploadPofileStatus=e,100==e&&(this.downloadURL=this.fileRef.getDownloadURL(),this.downloadURL.pipe(jt(1)).subscribe(i=>{i&&this.afs.collection("users").doc(this.userData.uid).update({photoURL:i}).then(()=>{this.auth.checkUserInFSore(),console.log(i),this.photoURL=i,this.auth.showProgressBar(!1),this.uploadProfielLoader=!0,this.auth.showToast("Profile image updated successfully ","close","default"),setTimeout(()=>{this.reCreateTimeStamp()},1e3)})})),this.uploadCTADisabled=!0})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(qn),a.Y36(Zc),a.Y36(EC),a.Y36(TR),a.Y36(Yu),a.Y36(UR))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-profile"]],decls:55,vars:8,consts:[[1,"custom_container"],[1,"overF"],[1,"formDashSec1"],[1,"width_100","fl","t_a_c"],[1,"profile_dp_p","t_a_c","mar0auto","pb_20"],["for","uploadDPInp","matTooltip","Edit profile image and see preview",1,"width_100","cusP","dp_cp","backLoading"],["for","dpUpload",1,"img_src",3,"src","error"],[1,"editOverLay"],[1,"editPtext_p"],["type","file","accept","*.png.jpg","id","uploadDPInp",1,"hidden",3,"ngModel","change","ngModelChange"],["type","button","mat-raised-button","","matTooltip","Update profile image with preview",1,"mb_20",3,"hidden","click"],["mode","determinate",1,"width_100","mb_20",3,"value","hidden"],[1,"formDashSec2","pb_20"],[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width","mb_20"],["type","text","matInput","","formControlName","userFullName","placeholder","Ex. pat@example.com"],["type","email","matInput","","formControlName","userEmail","placeholder","Ex. pat@example.com"],["matInput","","readonly","true","formControlName","userBirthDate","type","text",3,"matDatepicker","focus"],["matSuffix","",3,"for"],["picker",""],["matPrefix",""],["type","tel","matInput","","placeholder","555 555 1234","formControlName","contactNumber","maxlength","10"],["matSuffix",""],[1,"example-button-row","mt_20"],["mat-raised-button","","color","primary","matTooltip","Update New User Data",1,"mb_20",2,"float","right"],["mat-raised-button","","type","button","matTooltip","Reset New User Data",1,"mb_20",2,"float","right","margin-right","20px",3,"click"]],template:function(e,i){if(1&e){const r=a.EpF();a.TgZ(0,"mat-card",0)(1,"mat-card-content",1)(2,"h3"),a._uU(3,"Profile Section"),a.qZA(),a._UZ(4,"mat-divider"),a.TgZ(5,"h3"),a._uU(6,"\xa0"),a.qZA(),a.TgZ(7,"div",2)(8,"div",3)(9,"div",4)(10,"label",5)(11,"img",6),a.NdJ("error",function(c){return i.errImage(c)}),a.qZA(),a.TgZ(12,"div",7)(13,"p",8),a._uU(14,"Edit Profile"),a.qZA()()(),a.TgZ(15,"input",9),a.NdJ("change",function(c){return i.uploadDPChange(c)})("ngModelChange",function(c){return i.profileImageInp=c}),a.qZA(),a.TgZ(16,"button",10),a.NdJ("click",function(){return i.uploadDPClick()}),a.TgZ(17,"mat-icon"),a._uU(18,"cloud_upload"),a.qZA(),a._uU(19," Upload & Save "),a.qZA(),a._UZ(20,"mat-progress-bar",11),a.qZA()()(),a.TgZ(21,"div",12)(22,"form",13),a.NdJ("ngSubmit",function(){return i.updateUserProfile()}),a.TgZ(23,"mat-form-field",14)(24,"mat-label"),a._uU(25,"Full Name"),a.qZA(),a._UZ(26,"input",15),a.qZA(),a.TgZ(27,"mat-form-field",14)(28,"mat-label"),a._uU(29,"Email"),a.qZA(),a._UZ(30,"input",16),a.qZA(),a.TgZ(31,"mat-form-field",14)(32,"mat-label"),a._uU(33,"Choose a date *"),a.qZA(),a.TgZ(34,"input",17),a.NdJ("focus",function(){a.CHM(r);const c=a.MAs(39);return a.KtG(c.open())}),a.qZA(),a.TgZ(35,"mat-hint"),a._uU(36,"MM/DD/YYYY"),a.qZA(),a._UZ(37,"mat-datepicker-toggle",18)(38,"mat-datepicker",null,19),a.qZA(),a.TgZ(40,"mat-form-field",14)(41,"mat-label"),a._uU(42,"Mobile Number"),a.qZA(),a.TgZ(43,"span",20),a._uU(44,"+91 \xa0"),a.qZA(),a._UZ(45,"input",21),a.TgZ(46,"mat-icon",22),a._uU(47,"phone_in_talk"),a.qZA()(),a._UZ(48,"mat-divider"),a.TgZ(49,"section")(50,"div",23)(51,"button",24),a._uU(52,"Update"),a.qZA(),a.TgZ(53,"button",25),a.NdJ("click",function(){return i.resetProfileForm()}),a._uU(54,"Cancel"),a.qZA()()()()()()()}if(2&e){const r=a.MAs(39);a.xp6(11),a.s9C("src",i.photoURL,a.LSH),a.xp6(4),a.Q6J("ngModel",i.profileImageInp),a.xp6(1),a.Q6J("hidden",i.uploadCTADisabled),a.xp6(4),a.Q6J("value",i.uploadPofileStatus)("hidden",i.uploadProfielLoader),a.xp6(2),a.Q6J("formGroup",i.updateProfile),a.xp6(12),a.Q6J("matDatepicker",r),a.xp6(3),a.Q6J("for",r)}},dependencies:[FC,Fm,MC,xC,cO,tO,Lm,LC,SR,VC,lQ,IO,pQ,EQ,AC,BZ,ao,LS,mK,Ly,_K,yK,VS,HC]}),n})();function AQ(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," User name is "),a.TgZ(2,"strong"),a._uU(3,"required"),a.qZA()())}function MQ(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Please enter a valid email address "),a.qZA())}function xQ(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Email is "),a.TgZ(2,"strong"),a._uU(3,"required"),a.qZA()())}function kQ(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Please enter a valid Password. "),a.qZA())}function RQ(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Password is "),a.TgZ(2,"strong"),a._uU(3,"required"),a.qZA()())}const OQ=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:0,consts:[["routerLink","/dash"]],template:function(e,i){1&e&&(a._uU(0,"Under Cunstruction go to "),a.TgZ(1,"a",0),a._uU(2,"dash..."),a.qZA())},dependencies:[Vl]}),n})()},{path:"login",component:kK},{path:"signup",component:(()=>{class n{constructor(e,i,r){this.router=e,this._snackBar=i,this.auth=r,this.registerUser=new Fy({userFullName:new Ka("",[Kr.required]),userEmail:new Ka("",[Kr.required,Kr.email]),userPass:new Ka("",[Kr.required,Kr.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{8,}")])})}ngOnInit(){}get registerFormControl(){return this.registerUser.controls}clearRegisterForm(){this.registerUser.reset()}createUser(){"VALID"==this.registerUser.status?this.auth.SignUp(this.registerUser.value.userEmail,this.registerUser.value.userPass):this.auth.showToast("Please fill mandatory fields","close")}createGoogleAlc(){this.auth.SigninWithGoogle()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(qn),a.Y36(hS),a.Y36(Zc))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-register"]],decls:55,vars:6,consts:[[1,"container-custom"],[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width"],["type","email","matInput","","formControlName","userFullName","placeholder","Ex. Pat Lopez"],[4,"ngIf"],["type","email","matInput","","formControlName","userEmail","placeholder","Ex. pat@example.com"],["matInput","","formControlName","userPass","placeholder","Password","value","","type","password"],[1,"example-button-row","my-4"],["type","button","mat-raised-button","",3,"click"],[1,"cta_ico"],["mat-raised-button","","color","primary",1,"fr"],["type","button","mat-raised-button","",1,"width_100",3,"click"],["height","100%","viewBox","0 0 20 20","width","100%","fit","","preserveAspectRatio","xMidYMid meet","focusable","false",1,"googleCreateIocn"],["d","M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z","fill","#4285F4"],["d","M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z","fill","#34A853"],["d","M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z","fill","#FBBC05"],["d","M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z","fill","#EA4335"],[1,"example-button-row","my-4","overF"],["type","button","mat-raised-button","","color","primary","routerLink","/login",1,"width_100"],[1,"overF","mt_20"],["routerLink","/dash"],["routerLink","/resetpass",2,"float","right"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-card",0)(1,"h2"),a._uU(2,"Create User"),a.qZA(),a.TgZ(3,"form",1),a.NdJ("ngSubmit",function(){return i.createUser()}),a.TgZ(4,"mat-form-field",2)(5,"mat-label"),a._uU(6,"Full Name"),a.qZA(),a._UZ(7,"input",3),a.YNc(8,AQ,4,0,"mat-error",4),a.qZA(),a.TgZ(9,"mat-form-field",2)(10,"mat-label"),a._uU(11,"Email"),a.qZA(),a._UZ(12,"input",5),a.YNc(13,MQ,2,0,"mat-error",4),a.YNc(14,xQ,4,0,"mat-error",4),a.qZA(),a.TgZ(15,"mat-form-field",2)(16,"mat-label"),a._uU(17,"Password"),a.qZA(),a._UZ(18,"input",6),a.YNc(19,kQ,2,0,"mat-error",4),a.YNc(20,RQ,4,0,"mat-error",4),a.qZA(),a._UZ(21,"mat-divider"),a.TgZ(22,"section")(23,"div",7)(24,"button",8),a.NdJ("click",function(){return i.clearRegisterForm()}),a.TgZ(25,"mat-icon",9),a._uU(26," clear_all"),a.qZA(),a._uU(27,"Clear "),a.qZA(),a.TgZ(28,"button",10)(29,"mat-icon",9),a._uU(30,"person_add"),a.qZA(),a._uU(31," Create "),a.qZA()()(),a._UZ(32,"mat-divider"),a.TgZ(33,"section")(34,"div",7)(35,"button",11),a.NdJ("click",function(){return i.createGoogleAlc()}),a.O4$(),a.TgZ(36,"svg",12),a._UZ(37,"path",13)(38,"path",14)(39,"path",15)(40,"path",16),a.qZA(),a._uU(41," Create Google Account "),a.qZA()()(),a.kcU(),a._UZ(42,"mat-divider"),a.TgZ(43,"section")(44,"div",17)(45,"button",18)(46,"mat-icon",9),a._uU(47,"lock_open"),a.qZA(),a._uU(48," Go Back To Login "),a.qZA()()(),a._UZ(49,"mat-divider"),a.TgZ(50,"section",19)(51,"a",20),a._uU(52,"Dash"),a.qZA(),a.TgZ(53,"a",21),a._uU(54,"Forgot Password ?"),a.qZA()()()()),2&e&&(a.xp6(3),a.Q6J("formGroup",i.registerUser),a.xp6(5),a.Q6J("ngIf",i.registerFormControl.userFullName.hasError("required")),a.xp6(5),a.Q6J("ngIf",i.registerFormControl.userEmail.hasError("email")&&!i.registerFormControl.userEmail.hasError("required")),a.xp6(1),a.Q6J("ngIf",i.registerFormControl.userEmail.hasError("required")),a.xp6(5),a.Q6J("ngIf",i.registerFormControl.userPass.hasError("pattern")&&!i.registerFormControl.userPass.hasError("required")),a.xp6(1),a.Q6J("ngIf",i.registerFormControl.userPass.hasError("required")))},dependencies:[Tn,Oa,Vl,FC,Fm,MC,xC,Lm,LC,VC,AC,ao,b9,LS,Ly,VS,HC],styles:[".container-custom[_ngcontent-%COMP%]{max-width:400px;margin:100px auto}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.fr[_ngcontent-%COMP%]{float:right}.cta_ico[_ngcontent-%COMP%]{font-size:19px;height:20px;width:20px}"]}),n})()},{path:"resetpass",component:(()=>{class n{constructor(e,i,r,s){this.router=e,this.auth=i,this.httpClient=r,this._snackBar=s,this.resetPass=new Fy({userPass:new Ka("",[Kr.required,Kr.email])})}ngOnInit(){}clearLogInForm(){this.resetPass.reset()}sendResePass(){if("VALID"==this.resetPass.status){let e=this.resetPass.value.userPass?.toString();this.auth.afAuth.sendPasswordResetEmail(e).then(i=>{console.log(i),this.auth.showToast("ResetPassword link sent to email id","close","bg-success"),this.router.navigate(["/login"])}).catch(i=>{console.log("Err:",i),this.auth.showToast("Something went wrong.","close"),this.clearLogInForm()})}else this.auth.showToast("Please enter valid email","close")}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(qn),a.Y36(Zc),a.Y36(OS),a.Y36(hS))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-reset-pass"]],decls:23,vars:1,consts:[[1,"container-custom"],[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width"],["type","email","matInput","","formControlName","userPass","placeholder","Ex. pat@example.com"],[1,"example-button-row","my-4"],["type","button","mat-raised-button","",3,"click"],[1,"cta_ico"],["mat-raised-button","","color","primary",1,"fr"],["routerLink","/dash"],["routerLink","/login",2,"float","right"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-card",0)(1,"h2"),a._uU(2,"Reset Pass"),a.qZA(),a.TgZ(3,"form",1),a.NdJ("ngSubmit",function(){return i.sendResePass()}),a.TgZ(4,"mat-form-field",2)(5,"mat-label"),a._uU(6,"Email"),a.qZA(),a._UZ(7,"input",3),a.qZA(),a._UZ(8,"mat-divider"),a.TgZ(9,"section")(10,"div",4)(11,"button",5),a.NdJ("click",function(){return i.clearLogInForm()}),a.TgZ(12,"mat-icon",6),a._uU(13," clear_all"),a.qZA(),a._uU(14,"Clear"),a.qZA(),a.TgZ(15,"button",7)(16,"mat-icon",6),a._uU(17,"send"),a.qZA(),a._uU(18," Send "),a.qZA()()(),a.TgZ(19,"a",8),a._uU(20,"Dash"),a.qZA(),a.TgZ(21,"a",9),a._uU(22,"Login"),a.qZA()()()),2&e&&(a.xp6(3),a.Q6J("formGroup",i.resetPass))},dependencies:[Vl,FC,Fm,MC,xC,Lm,LC,VC,AC,ao,LS,Ly,VS,HC],styles:[".container-custom[_ngcontent-%COMP%]{max-width:400px;margin:100px auto}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.fr[_ngcontent-%COMP%]{float:right}.cta_ico[_ngcontent-%COMP%]{font-size:19px;height:20px;width:20px}"]}),n})()},{path:"dash",component:YY,canActivate:[t6],children:[{path:"",component:HZ},{path:"profile",component:TQ}]},{path:"**",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-error-home"]],decls:252,vars:0,consts:[["routerLink",""],[1,"container"],[1,"row"],[1,"col-sm-12","col-md-12","mt-5","mb-5"],["width","100%","viewBox","0 0 636 324","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","OBJECTS"],["id","Group"],["id","Vector","d","M101.3 255.2C101.3 255.2 111.1 272.6 181.8 280.5C252.5 288.4 288.2 314.9 333.1 322.8C378 330.7 433.6 278.5 481.8 286.5C530 294.4 588.2 264.2 592.8 255.2H101.3Z","fill","#2F1829"],["id","Vector_2","d","M611.9 251.7H601.4L140.8 251.8C140.8 251.8 136.1 248.1 128.9 241.8C125.8 239.1 122.2 235.9 118.3 232.3C116.9 231 115.4 229.6 113.9 228.2C100.2 215.3 83.6 198.2 70.1 180.1C55.9 161 45.1 140.6 44.8 122.6C44.8 122.2 44.8 121.8 44.8 121.4C45 104 48.4 85.1 56.9 67.7C61.9 57.5 68.5 47.8 77.3 39C100.1 16.2 137.1 0.300011 194.5 0.800011C261.4 1.30001 330.8 26.3 393.5 60.8C406.6 68 419.4 75.7 431.9 83.6C441.1 89.5 450.1 95.5 458.8 101.6C483.1 118.6 505.6 136.4 525.5 153.8C570.6 193.1 602.3 230.4 611.9 251.7Z","fill","url(#paint0_linear)"],["id","Vector_3","opacity","0.45","d","M611.9 251.7H601.4L140.8 251.8C140.8 251.8 136.1 248.1 128.9 241.8C125.8 239.1 122.2 235.9 118.3 232.3C116.9 231 115.4 229.6 113.9 228.2C100.2 215.3 83.6 198.2 70.1 180.1C55.9 161 45.1 140.6 44.8 122.6C50.5 119.6 63.9 113.5 75 116.3C89.5 119.9 92.6 137.2 92.6 137.2C92.6 137.2 103 128.8 113.9 132.8C124.8 136.8 126.5 148.4 126.5 148.4C126.5 148.4 139.4 141.8 150.9 144.6C162.5 147.4 171.8 158.6 159.4 165.9C147.1 173.1 133.3 167.5 132.9 167.4C133.1 167.6 137.9 174.2 129.1 182.2C120.1 190.4 154.6 197.5 154.6 197.5C154.6 197.5 155.9 175.1 179 177.6C202.1 180.1 220.8 192.6 220.8 192.6C220.8 192.6 222 158.3 240.5 152C259 145.7 268.5 165.9 268.5 165.9C268.5 165.9 309.5 139.4 323.4 164.1C337.3 188.8 337.9 193.5 337.9 193.5C337.9 193.5 349.8 128.5 387 131.5C424.2 134.5 431.1 160.3 430.5 162.9C429.9 165.5 441.2 146.2 452.4 156.7C463.6 167.2 470.1 181.8 470.1 181.8L529 174.9C529 174.9 523 163.3 525.4 153.8C570.6 193.1 602.3 230.4 611.9 251.7Z","fill","url(#paint1_linear)"],["id","Vector_4","d","M431.9 83.6H257.8C279.6 83.6 283.9 75.7 296.8 71.4C297.4 71.2 298 71 298.6 70.9C310.7 67.8 320.6 74.7 328.3 74.4C336.4 74.1 345.3 65.5 354.6 62.5C357.7 61.5 361 61.8 364.3 62.6C370.8 64.1 377.6 67.4 384.5 66.1C390.5 65 391 62.5 393.4 60.8C406.6 68 419.5 75.6 431.9 83.6Z","fill","url(#paint2_linear)"],["id","Vector_5","d","M206.5 67.7H56.9C61.8 57.7 68.3 48.1 76.9 39.4C77 39.3 77.2 39.1 77.3 39C80.8 38.3 84.6 37.8 88.7 37.6C112.4 36.6 117.4 54.5 117.4 54.5C117.4 54.5 123.6 46.2 134.8 50.2C146 54.2 142.1 59.1 151 61.8C152.2 62.1 153.4 62.2 154.7 62.1C163.2 61.4 173.9 52.1 183.4 55.5C194.4 59.4 187.3 67.7 206.5 67.7Z","fill","url(#paint3_linear)"],["id","Vector_6","d","M631.8 258.5H75.5C73.6 258.5 72.1 257 72.1 255.1C72.1 253.2 73.6 251.7 75.5 251.7H631.8C633.7 251.7 635.2 253.2 635.2 255.1C635.2 257 633.7 258.5 631.8 258.5Z","fill","#2F1829"],["id","Vector_7","opacity","0.25","d","M364.4 62.5C354.5 65 343.3 75.8 336 77.4C326.9 79.4 316.3 74.8 306 72.2C302.9 71.4 300.5 71 298.6 70.8C310.7 67.7 320.6 74.6 328.3 74.3C336.4 74 345.3 65.4 354.6 62.4C357.8 61.4 361 61.7 364.4 62.5Z","fill","white"],["id","Vector_8","opacity","0.25","d","M154.7 62.1C145.8 66.8 141.6 56.2 133.9 52.7C125 48.7 118.7 61.2 116.1 59C113.5 56.9 112.3 47.6 102.2 42.8C96.5 40.1 85.4 39.5 77 39.5C77.1 39.4 77.3 39.2 77.4 39.1C80.9 38.4 84.7 37.9 88.8 37.7C112.5 36.7 117.5 54.6 117.5 54.6C117.5 54.6 123.7 46.3 134.9 50.3C146.1 54.3 142.2 59.2 151.1 61.9C152.2 62.1 153.5 62.2 154.7 62.1Z","fill","white"],["id","Vector_9","d","M394.9 40.3C394.9 40.3 457.4 96.1 482.1 88.5C507 80.9 351.2 7.20001 394.9 40.3Z","fill","url(#paint4_linear)"],["id","Vector_10","d","M35 97C35 97 13.7 134.4 50.9 173.8C59.5 182.9 60.5 199.9 43.3 200.8C26.1 201.7 -0.599994 159.8 0.300006 126.1C1.30001 92.4 40.8 77.1 35 97Z","fill","url(#paint5_linear)"],["id","Vector_11","d","M461 295.7C461 295.7 425 303.6 415.8 315.9C411.3 321.9 429.2 321 444.5 314.4C460.5 307.5 473.6 294.9 461 295.7Z","fill","#2F1829"],["id","Vector_12","d","M200.2 293.4C200.2 293.4 214.2 293.1 226.5 297.9C238.8 302.7 241.5 317.4 229.2 319.2C217 321 189.1 304.7 190.7 298.1C191.9 293.1 200.2 293.4 200.2 293.4Z","fill","#2F1829"],["id","Vector_13","d","M136.3 213.7L128.4 241.1C125.3 238.4 121.7 235.2 117.8 231.6L116.1 228.4C116.1 228.4 119.1 193.2 109.2 179.1C118.7 185.7 123.3 212.4 123.3 212.4L121.8 214.4H123.3C123.3 214.4 125.7 218.9 126.6 225.5C132.7 193.9 126.8 178.6 126.6 178.1C126.8 178.4 131.6 184.2 134.4 193.8C137.3 203.6 136.2 209.7 136.2 209.7L133.8 213.6H136.3V213.7Z","fill","black"],["id","Group_2"],["id","Group_3"],["id","Vector_14","d","M376.1 240.6C376.1 240.6 378.7 238.3 380.6 235.8C380.9 235.4 381.3 234.9 381.5 234.5L382.7 235.9L382.3 233.7C382.3 233.7 390.4 230.9 393.3 223.1C391.5 231.6 388.1 238 384.1 240.9C382.3 242.2 380.5 242.8 378.6 242.7C372.3 242.5 376.1 240.6 376.1 240.6Z","fill","#F3475C"],["id","Group_4","opacity","0.25"],["id","Vector_15","opacity","0.25","d","M393.3 223.1C392.6 225.3 391.8 227.5 390.8 229.6C389.8 231.7 388.7 233.7 387.4 235.6C386.1 237.5 384.5 239.3 382.6 240.6C380.7 242 378.3 242.7 376 242.6C375.9 242.6 375.8 242.5 375.8 242.4C375.8 242.3 375.9 242.2 376 242.2C378.3 242.4 380.5 241.7 382.4 240.4C384.3 239.1 385.9 237.4 387.2 235.5C388.6 233.6 389.7 231.6 390.7 229.5C391.7 227.5 392.5 225.3 393.3 223.1Z","fill","white"],["id","Vector_16","opacity","0.25","d","M376.1 240.6C376.1 240.6 378.7 238.3 380.6 235.8C381.4 238.2 383.1 240 384.1 240.9C382.3 242.2 380.5 242.8 378.6 242.7C372.3 242.5 376.1 240.6 376.1 240.6Z","fill","black"],["id","Vector_17","d","M313.5 225.2C313.5 225.2 294.9 207.7 297.9 184.4C299.8 195.2 307.7 208.1 307.7 208.1L306.7 211L310.2 210.3C310.2 210.3 314.6 183.7 304.7 170.8C318.1 184.6 317.9 205.1 317.9 205.1L315.4 208.9L317.9 210C317.9 210 315 220 323.7 216.1C332.4 212.3 337.9 179.2 330 170.8C339.4 178.9 337.9 206.8 337.9 207.7C337.9 208.6 333.8 212.4 333.8 212.4L336.9 214.7C336.9 214.7 335 233.6 313.5 225.2Z","fill","black"],["id","Vector_18","d","M398.8 250C398.8 250 392.3 243.9 393.4 235.8C394.1 239.6 396.8 244 396.8 244L396.5 245L397.7 244.8C397.7 244.8 399.2 235.5 395.8 231.1C400.4 235.9 400.4 243 400.4 243L399.5 244.3L400.4 244.7C400.4 244.7 399.4 248.2 402.4 246.8C405.4 245.5 407.3 234 404.6 231.1C407.9 233.9 407.3 243.6 407.3 243.9C407.3 244.2 405.9 245.5 405.9 245.5L407 246.3C406.9 246.4 406.3 253 398.8 250Z","fill","black"],["id","Group_5"],["id","Vector_19","d","M374 241.1L368.7 241.5C372.5 238.1 371.9 234.8 371.4 233.3C371.2 232.8 371 232.4 371 232.4L373.5 232L372.1 230.1C372.1 230.1 376.6 224.9 378.3 211.1C383.6 220.4 381.5 228.8 378.7 234.3C376.6 238.6 374 241.1 374 241.1Z","fill","#FFCA51"],["id","Group_6","opacity","0.25"],["id","Vector_20","opacity","0.25","d","M378.3 211.1C378.9 213.7 379.2 216.3 379.3 218.9C379.4 221.5 379.4 224.2 379 226.8C378.6 229.4 378 232 377 234.4C376 236.8 374.5 239.1 372.7 241.1C372.6 241.2 372.5 241.2 372.4 241.1C372.3 241 372.3 240.9 372.4 240.8C374.2 238.9 375.6 236.7 376.7 234.3C377.7 231.9 378.4 229.3 378.8 226.8C379.2 224.2 379.3 221.6 379.2 219C379.1 216.3 378.9 213.7 378.3 211.1Z","fill","white"],["id","Vector_21","opacity","0.25","d","M374 241.1L368.7 241.5C372.5 238.1 371.9 234.8 371.4 233.3C374.2 235 377 234.8 378.7 234.3C376.6 238.6 374 241.1 374 241.1Z","fill","black"],["id","Vector_22","d","M408.3 251.1H323L336.7 240C336.7 240 354.9 230.6 362.5 232.6C370.1 234.5 368.9 240.9 368.9 240.9C368.9 240.9 369.4 240.4 370.1 239.8C371.8 238.5 375 236.7 378.2 238.6C382.8 241.4 382.1 245 382.1 245.2C382.2 245.1 385 242.4 387.3 243.2C389.6 244.1 390.5 246.6 390.5 246.6C390.5 246.6 393.5 242.5 396 244C398.5 245.5 400 248.6 400 248.6C400 248.6 404 244.6 408.3 251.1Z","fill","#982245"],["id","Vector_23","opacity","0.25","d","M391.9 251.1H323.1L336.8 240C336.8 240 355 230.6 362.6 232.6C370.2 234.5 369 240.9 369 240.9C369 240.9 369.5 240.4 370.2 239.8C370.4 241.2 370.4 242.6 370.2 244C370.2 244 374.1 242.5 376.6 244.6C379.1 246.7 378.4 248.6 378.4 248.6C378.4 248.6 381.8 246.6 385.7 248.6C386.8 249.3 389.3 250.2 391.9 251.1Z","fill","black"],["id","Group_7"],["id","Vector_24","d","M237.3 191.1V97.5H201.8V97.8L159 166.6L140.3 196.7L142.4 218.4H201.8V251H237.3V218.4H253V191H237.3V191.1ZM201.8 191.1H174.2L199.6 147.4L201.8 143.8V191.1Z","fill","url(#paint6_linear)"],["id","Vector_26","d","M487.5 191.1V97.5H452V97.8L390.5 196.7L392.6 218.4H452V251H487.5V218.4H503.1V191H487.5V191.1ZM452 191.1H424.4L449.8 147.4L452 143.8V191.1V191.1Z","fill","url(#paint8_linear)"],["id","Vector_27","opacity","0.25","d","M230.7 97.5C225.9 103.6 209.6 101.4 206 101.8C201.8 102.2 172.9 153.1 169 159.6C166.4 163.8 161.9 165.8 159.1 166.7L201.9 97.9V97.6H230.7V97.5Z","fill","white"],["id","Vector_28","opacity","0.25","d","M487.5 97.5V168.3C478.4 160.7 483.4 104.9 482 103.1C480.5 101.1 461.5 102.4 458 101.3C455.7 100.6 453.8 98.6 452.8 97.4H487.5V97.5Z","fill","white"],["id","Vector_29","opacity","0.25","d","M329.1 232.4C300.5 233.7 303.8 192.4 303.8 192.4C304 202.9 305.4 210.6 308.1 215.6C311 220.9 315.6 223.6 321.8 223.6C327.8 223.6 332.3 221 335.2 215.8C338.1 210.6 339.6 202.5 339.6 191.5V153.5C339.6 142.5 338.2 134.2 335.3 128.8C332.4 123.3 327.8 120.6 321.6 120.6C321.6 120.6 339.3 118.4 346.6 144.7C353.8 171 357.8 231.1 329.1 232.4Z","fill","black"],["id","zero"],["id","Vector_25","d","M361.2 110.3C351.9 99 338.7 93.3 321.6 93.3C304.6 93.3 291.4 98.9 282.1 110.2C272.8 121.5 268.1 137.4 268.1 158.2V186.3C268.1 206.9 272.8 222.9 282.1 234.2C291.5 245.5 304.7 251.2 321.8 251.2C338.7 251.2 351.9 245.6 361.2 234.3C370.5 223 375.2 207.1 375.2 186.3V158.3C375.2 137.6 370.5 121.6 361.2 110.3ZM303.8 151.3C304 141 305.5 133.4 308.3 128.3C311.1 123.2 315.5 120.7 321.6 120.7C327.9 120.7 332.4 123.4 335.3 128.9C338.2 134.4 339.6 142.6 339.6 153.6V191.6C339.5 202.6 338.1 210.7 335.2 215.9C332.3 221.1 327.8 223.7 321.8 223.7C315.5 223.7 311 221 308.1 215.7C305.4 210.7 303.9 202.9 303.8 192.5C303.8 191.9 303.8 191.2 303.8 190.6V151.3V151.3Z","fill","url(#paint7_linear)"],["id","Vector_30","d","M291.5 110.1C291.5 110.1 279.6 101.5 278.3 88.1C286.9 90.5 291.5 101 291.5 101C291.5 101 289.3 91.4 291.5 84.9C297.8 94.1 296.1 101.6 291.5 110.1Z","fill","url(#paint9_linear)"],["id","Group_8"],["id","Group_9"],["id","Vector_31","d","M569.9 241.4V244.7C569.3 244.6 567.9 244.7 566.7 244.9C565.9 245 565.2 245 564.8 245.1L564.5 242.3L565.8 242.1L569.9 241.4Z","fill","url(#paint10_linear)"],["id","handboy"],["id","Vector_32","d","M529.1 188C529.1 188 529.2 188.3 528.8 188.7C528.5 189 528 189.3 527.1 189.7C521.7 191.8 510.6 186.7 504.5 183.3C498.5 179.9 481.3 182.7 469.7 181.1C458.1 179.5 453.2 173.3 442.8 170.7C432.4 168.1 393.6 179.3 391.4 170.6C389.2 161.9 432.8 77.2 436.6 83.1C440.3 89 453.2 89.4 462.3 94.1C471.4 98.8 479.1 122.1 489.2 124.4C490.6 124.7 491.9 125.2 493.2 125.9C501.2 130.2 507 140.9 507.2 149.7C507.4 159.9 521.4 168.1 526.5 173.6C531.5 179.2 529.1 188 529.1 188Z","fill","url(#paint11_linear)"],["id","Vector_33","opacity","0.25","d","M529.1 188C529.1 188 529.2 188.3 528.8 188.7C530.6 177.5 520.3 172.2 510.8 164.4C501.1 156.3 505.2 150.2 503.2 141.9C502 137 497 130.5 493.2 126C501.2 130.3 507 141 507.2 149.8C507.4 160 521.4 168.2 526.5 173.7C531.5 179.2 529.1 188 529.1 188Z","fill","white"],["id","Vector_34","d","M528.9 186.5L526.3 188.9C525.9 189.2 526.1 189.8 526.5 190L528.7 190.7L533.7 196.2C533.9 196.4 534.3 196.5 534.5 196.2L535.3 195.4C535.5 195.2 535.6 194.8 535.3 194.6L530.3 189.1L529.8 186.9C529.8 186.3 529.2 186.1 528.9 186.5Z","fill","#2F1829"],["id","Vector_35","d","M548.7 190C548 190.9 547.2 192 546.3 193.1C546 193.5 545.6 193.9 545.3 194.3C543.9 196 542.7 197.4 542.3 197.5C541.3 197.7 535.7 194.5 534.9 194.5C534.1 194.5 532.2 195.9 531.7 195.7C531.2 195.6 528.5 193.1 528.6 192.4C528.7 191.8 531.1 189.6 532.3 189.3C532.6 189.2 533.4 189.3 534.3 189.5H534.4C536.7 190 540.1 191.1 540.6 190.8C540.9 190.7 541.4 189.8 542 188.7C542.2 188.3 542.4 187.9 542.6 187.5C542.9 187 543.1 186.5 543.4 186C543.6 185.5 543.8 185.1 544 184.8C544.5 185.6 545.3 186.6 546.2 187.5C547.2 188.8 548.2 189.8 548.7 190Z","fill","url(#paint12_linear)"],["id","Vector_36","d","M571.4 196.6C571.4 198.4 571.4 200.2 571.3 201.6C570.9 207.3 570.4 211.9 568.5 212C566.6 212.1 566.2 196.7 566.3 195.8C566.3 195.6 566.3 195.2 566.4 194.7C566.5 193 566.5 190 566.5 188.7C566.5 188.4 566.5 188.2 566.5 188.1L566.9 187.9L571.1 185.2C571.1 185.2 571.3 188.8 571.5 193C571.5 193.6 571.5 194.1 571.5 194.7C571.4 195.3 571.4 195.9 571.4 196.6Z","fill","url(#paint13_linear)"],["id","Vector_37","opacity","0.25","d","M571.4 196.6C570.4 197.4 568.8 198.5 567.2 198.6C564.6 198.7 568.4 193.2 569.3 193.1C569.6 193.1 570.4 193 571.3 193C571.3 193.6 571.3 194.1 571.3 194.7C571.4 195.3 571.4 195.9 571.4 196.6Z","fill","black"],["id","Vector_38","d","M571.4 194.7C570.3 195.1 568.9 195.3 567 194.9C566.7 194.8 566.5 194.8 566.3 194.6C564.7 193.7 565.3 191 566.4 188.6C566.5 188.3 566.7 188 566.8 187.8L571 185.1C571 185.1 571.3 189.8 571.4 194.7Z","fill","#2F1829"],["id","Vector_39","d","M562.5 164.2C562.4 164.8 562.2 165.5 561.7 166.2C561.2 167.1 560.4 168 559.7 168.6C559.1 169 558.6 169.3 558.2 169.3C556.9 169.1 555.2 166.9 555.1 166.5C555.1 166.1 556.5 165.9 556.4 164.7C556.2 163.5 555.4 163.3 554.9 163.5C554.3 163.7 553.6 165 553.6 166.2C553.2 166.1 552.5 164.7 551.1 163.8C550.7 163.6 550.3 163.4 549.8 163.3C549.2 163.2 548.5 163.2 547.7 163.5C547.3 159.1 550 157.2 552 158C552 158 551.3 156.5 550.2 156.2C552.7 156.6 553.3 158.7 553.3 158.7C553.3 158.7 554 155.8 557.1 155.4C560.2 155 560.8 159.1 560.8 159.1C560.8 159.1 561.5 157.1 561.2 155.9C561.8 157.5 561.1 160.2 561.1 160.2C561.1 160.2 562.6 160.6 563 162.6C561.7 161.6 561.7 161.7 561.7 161.7C561.7 161.7 562.6 162.3 562.5 164.2Z","fill","#2F172B"],["id","Vector_40","d","M559.7 168.5C559.5 169.2 559.2 169.8 559.1 170.1C558.8 170.7 555.6 173.4 553.3 170.3C551.4 167.7 551.1 164.7 551.1 163.8C552.5 164.6 553.2 166.1 553.6 166.2C553.6 165 554.3 163.8 554.9 163.5C555.5 163.3 556.2 163.5 556.4 164.7C556.6 165.9 555.1 166.1 555.1 166.5C555.1 166.9 556.8 169.1 558.2 169.3C558.6 169.2 559.1 169 559.7 168.5Z","fill","url(#paint14_linear)"],["id","Vector_41","d","M561.3 155.6C561.2 155.4 561.2 155.3 561.1 155.2C561.2 155.3 561.2 155.5 561.3 155.6Z","fill","#2F172B"],["id","Vector_42","d","M572.4 184.6C572.1 185.2 571.7 185.7 571.4 186.2C571.3 186.3 571.2 186.5 571.1 186.6C570.1 187.8 569.2 188.5 569.2 188.5C569.2 188.5 569.2 188.5 569.2 188.6C569.2 188.7 569.2 188.8 569.3 189C569.4 189.4 569.5 190.1 569.6 191C569.6 191.1 569.6 191.3 569.7 191.4C569.8 191.8 569.8 192.2 569.8 192.6C569.8 192.8 569.9 193.1 569.9 193.3C569.9 193.4 569.9 193.6 569.9 193.7C570 194.4 570 195 570 195.7C570 195.8 570 196 570 196.1C570 196.9 569.9 197.6 569.8 198.1C569.8 198.3 569.7 198.4 569.7 198.5C569.6 198.7 569.6 198.8 569.5 198.9C569.4 199 569.2 199.1 569 199.2C567.5 199.9 563.7 199.9 559.8 199.7C556.5 199.5 553.2 199.2 551.5 198.9C551 198.8 550.6 198.7 550.3 198.5C550.1 198.4 549.9 198.2 549.8 198.1C549.7 198 549.6 197.9 549.6 197.8C549.3 197.3 549.2 196.8 549.2 196.1C549.2 196 549.2 195.8 549.2 195.7C549.3 195.1 549.4 194.5 549.5 193.8V193.7C549.5 193.6 549.6 193.4 549.6 193.3C549.8 192.6 550 192 550.1 191.3C550.1 191.2 550.1 191.1 550.2 191V190.9C550.4 190.1 550.5 189.4 550.5 188.9C550.5 188.7 550.5 188.6 550.6 188.5C550.7 187.2 550.6 186.8 550.6 186.8C550.6 186.8 550.3 187.6 549.8 188.5C549.7 188.6 549.6 188.8 549.6 188.9C549.3 189.4 548.9 189.9 548.7 189.9C548.7 189.9 548.6 189.9 548.5 189.9C548.2 189.8 547.8 189.4 547.3 188.9C547.2 188.8 547 188.6 546.9 188.5C546.6 188.2 546.3 187.9 546 187.5C545.7 187.2 545.4 186.8 545.1 186.5C545 186.4 544.9 186.2 544.8 186.1C544.4 185.6 544.1 185.2 543.8 184.8C543.6 184.5 543.5 184.3 543.4 184.1C543.3 184 543.3 183.9 543.3 183.8V183.7C543.4 183.4 543.6 182.6 543.9 181.7C544 181.6 544 181.4 544.1 181.3C544.3 180.7 544.6 180 545 179.3C545.1 179.2 545.1 179 545.2 178.9C545.5 178.3 545.9 177.6 546.2 176.9C546.3 176.8 546.4 176.6 546.4 176.5C546.8 175.8 547.2 175.1 547.6 174.5C547.7 174.4 547.8 174.2 547.9 174.1C548.5 173.3 549 172.6 549.6 172.1C549.8 171.9 549.9 171.8 550.1 171.7C550.2 171.6 550.3 171.6 550.4 171.5C551.2 171 552 170.6 552.8 170.3C555.5 169.3 557.8 169.4 557.8 169.4C559.1 169.4 560.4 169.7 561.7 170.2C562.6 170.6 563.5 171.1 564.4 171.7C564.6 171.8 564.8 172 565 172.1C565.7 172.7 566.4 173.3 567 174.1C567.1 174.2 567.2 174.4 567.4 174.5C567.9 175.1 568.4 175.8 568.8 176.5C568.9 176.6 569 176.8 569.1 176.9C569.5 177.5 569.8 178.2 570.2 178.9C570.3 179 570.3 179.2 570.4 179.3C570.7 179.9 571 180.6 571.3 181.3C571.4 181.4 571.4 181.6 571.5 181.7C571.7 182.3 572 183 572.2 183.7C572.2 183.8 572.3 184 572.3 184.1C572.4 184.3 572.4 184.5 572.4 184.6Z","fill","#FFCA51"],["id","Group_10"],["id","Vector_43","opacity","0.25","d","M565.2 172.2H549.9C550.1 172 550.2 171.9 550.4 171.8H564.6C564.8 171.9 565 172 565.2 172.2Z","fill","white"],["id","Vector_44","opacity","0.25","d","M567.6 174.6H548C548.1 174.5 548.2 174.3 548.3 174.2H567.3C567.3 174.3 567.4 174.4 567.6 174.6Z","fill","white"],["id","Vector_45","opacity","0.25","d","M569.2 177H546.4C546.5 176.9 546.6 176.7 546.6 176.6H569C569.1 176.7 569.1 176.8 569.2 177Z","fill","white"],["id","Vector_46","opacity","0.25","d","M570.5 179.4H545.2C545.3 179.3 545.3 179.1 545.4 179H570.3C570.4 179.1 570.4 179.2 570.5 179.4Z","fill","white"],["id","Vector_47","opacity","0.25","d","M571.5 181.8H544.2C544.3 181.7 544.3 181.5 544.4 181.4H571.4C571.4 181.5 571.5 181.7 571.5 181.8Z","fill","white"],["id","Vector_48","opacity","0.25","d","M572.3 184.2H543.6C543.5 184.1 543.5 184 543.5 183.9V183.8H572.2C572.2 183.9 572.3 184 572.3 184.2Z","fill","white"],["id","Vector_49","opacity","0.25","d","M571.4 186.2C571.3 186.3 571.2 186.5 571.1 186.6H545.4C545.3 186.5 545.2 186.3 545.1 186.2H571.4Z","fill","white"],["id","Vector_50","opacity","0.25","d","M547.1 188.6H550C549.9 188.7 549.8 188.9 549.8 189H547.5C547.4 188.9 547.3 188.7 547.1 188.6Z","fill","white"],["id","Vector_51","opacity","0.25","d","M569.3 189H550.7C550.7 188.8 550.7 188.7 550.8 188.6H569.3C569.3 188.7 569.3 188.8 569.3 189Z","fill","white"],["id","Vector_52","opacity","0.25","d","M569.7 191.4H550.3C550.3 191.3 550.3 191.2 550.4 191.1V191H569.7C569.7 191.1 569.7 191.3 569.7 191.4Z","fill","white"],["id","Vector_53","opacity","0.25","d","M570 193.8H549.7C549.7 193.7 549.8 193.5 549.8 193.4H570C569.9 193.6 570 193.7 570 193.8Z","fill","white"],["id","Vector_54","opacity","0.25","d","M570.1 195.8C570.1 195.9 570.1 196.1 570.1 196.2H549.3C549.3 196.1 549.3 195.9 549.3 195.8H570.1Z","fill","white"],["id","Vector_55","opacity","0.25","d","M569.9 198.2C569.9 198.4 569.8 198.5 569.8 198.6H550.5C550.3 198.5 550.1 198.3 550 198.2H569.9Z","fill","white"],["id","Vector_56","d","M570.3 238.7C569.4 239.3 563.3 239.9 563.3 239.9L563.1 238.8L562 232.1L559.3 216.4L556.6 236.1L555.8 241.9C555.8 241.9 548.3 242.3 548.3 240.5C548.3 240.3 548.3 239.5 548.4 238.2C548.6 230.2 549.5 203.9 549.7 198C550 198.6 550.7 199 551.7 199.1C551.8 199.1 551.9 199.1 552 199.1C555.8 199.7 566.5 200.6 569.1 199.4C569.2 200.4 569.3 201.9 569.4 203.8C569.8 211.4 570.1 225.2 570.3 232.9C570.3 236.4 570.3 238.7 570.3 238.7Z","fill","#2F1829"],["id","Vector_57","opacity","0.25","d","M562 232.1L559.3 216.4C559.3 216.4 560 210.1 560.3 209.3C560.6 208.6 562.5 209.1 563.3 208.6C563.7 209.6 561 211 560.8 214.3C560.7 216.6 561.5 226.7 562 232.1Z","fill","black"],["id","Vector_58","opacity","0.25","d","M551.1 201.4C551.1 201.4 550.9 205 553.8 206.7","stroke","white","stroke-width","0.4635","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["id","Group_11","opacity","0.25"],["id","Group_12","opacity","0.25"],["id","Vector_59","opacity","0.25","d","M551.8 206.2L551.7 206.9","stroke","white","stroke-width","0.4635","stroke-linecap","round","stroke-linejoin","round"],["id","Vector_60","opacity","0.25","d","M551.7 208.2L550.3 238","stroke","white","stroke-width","0.4635","stroke-linecap","round","stroke-linejoin","round","stroke-dasharray","1.39 1.39"],["id","Vector_61","opacity","0.25","d","M550.2 238.7V239.4","stroke","white","stroke-width","0.4635","stroke-linecap","round","stroke-linejoin","round"],["id","Vector_62","opacity","0.25","d","M562 209.6L564.7 237.9","stroke","white","stroke-width","0.4635","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round","stroke-dasharray","1.39 1.39"],["id","Vector_63","opacity","0.25","d","M564.3 201.9C564.3 201.9 564 205.4 564.3 206C564.6 206.7 565.9 207.2 566.2 207.4C566.5 207.5 567.7 206.4 567.8 205.7C567.9 205 567.9 202 567.9 202C567.9 202 565.7 201.6 564.3 201.9Z","stroke","white","stroke-width","0.4635","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["id","Vector_64","opacity","0.25","d","M570.3 238.7C569.4 239.3 563.3 239.9 563.3 239.9L563.1 238.8C564.9 237.8 568.4 235.6 570.2 232.9C570.3 236.4 570.3 238.7 570.3 238.7Z","fill","black"],["id","Vector_65","d","M570.7 241.3L569.9 241.4L564.5 242.2L564.1 242.3C563.3 242.4 562.6 241.9 562.4 241.1V241C562.3 240.2 562.8 239.5 563.6 239.3L570.2 238.3C571 238.2 571.7 238.7 571.9 239.5V239.6C572 240.4 571.5 241.2 570.7 241.3Z","fill","#4C3146"],["id","Vector_66","opacity","0.25","d","M556.7 236L555.9 241.8C555.9 241.8 548.4 242.2 548.4 240.4C548.4 240.2 548.4 239.4 548.5 238.1C550.2 238 554.3 237.5 556.7 236Z","fill","black"],["id","Vector_67","d","M556.5 242.2V242.3C556.4 243.1 555.7 243.7 554.9 243.6L549.2 243.1L548.3 243C547.5 242.9 546.9 242.2 547 241.4V241.3C547.1 240.5 547.8 239.9 548.6 240L555.2 240.6C556 240.7 556.6 241.4 556.5 242.2Z","fill","#4C3146"],["id","Vector_68","opacity","0.25","d","M569.4 203.8C560.2 205 554 200.8 551.9 199.1C555.7 199.7 566.4 200.6 569 199.4C569.2 200.4 569.3 201.9 569.4 203.8Z","fill","black"],["id","Vector_69","opacity","0.25","d","M550.4 191.1C551.1 187.8 550.8 186.9 550.8 186.9C550.8 186.9 549.6 189.9 548.9 190C548.6 190 547.4 188.9 546.2 187.6C547.2 187.3 548.7 186.8 549.5 185.9C550.7 184.5 550.6 178.5 551.1 178.5C551.6 178.5 552.7 189.6 549.6 193.9C549.9 193 550.2 192 550.4 191.1Z","fill","black"],["id","Vector_70","opacity","0.25","d","M572.4 184.6C571 187.2 569.2 188.5 569.2 188.5C569.2 188.5 567.6 179.9 567.1 179.1C566.7 178.4 567.3 177.8 568.2 180.7C568.9 183 570.7 184.7 572.3 184.3C572.4 184.3 572.4 184.4 572.4 184.6Z","fill","black"],["id","Vector_71","opacity","0.25","d","M569.5 199.1C569.4 199.2 569.2 199.3 569 199.4C567.5 200.1 563.7 200.1 559.8 199.9C562.4 199.6 568.7 198.2 569.8 192.7C570.1 195.2 570.3 198.2 569.5 199.1Z","fill","black"],["id","Vector_72","opacity","0.25","d","M562 170.2C561.7 170.6 561.1 170.8 560.1 170.6C558.2 170.2 555.7 171 554.5 170.8C553.8 170.7 553.4 170.5 553.1 170.3C555.8 169.3 558.1 169.4 558.1 169.4C559.4 169.4 560.7 169.7 562 170.2Z","fill","black"],["id","Vector_73","d","M548.7 190C548 190.9 547.2 192 546.3 193.1C544.4 192 542.9 190 542 188.8C542.8 187.4 543.6 185.7 544 184.9C544.5 185.7 545.3 186.7 546.2 187.6C547.2 188.8 548.2 189.8 548.7 190Z","fill","#2F1829"],["id","Vector_74","opacity","0.25","d","M548.7 190C548 190.9 547.2 192 546.3 193.1C546 193.5 545.6 193.9 545.3 194.3C545.4 190.8 544.2 187.7 543.5 186.1C543.7 185.6 543.9 185.2 544.1 184.9C544.6 185.7 545.4 186.7 546.3 187.6C547.2 188.8 548.2 189.8 548.7 190Z","fill","black"],["id","Vector_75","opacity","0.25","d","M542.7 187.6C542.7 188.6 541.7 190.1 541.5 190.5C541.2 191 541.4 193.3 541.1 193C540.8 192.7 540.7 191.6 540.3 191.2C539.9 190.9 535.3 189.7 534.5 189.5C536.8 190 540.2 191.1 540.7 190.8C541 190.7 541.5 189.8 542.1 188.7C542.3 188.5 542.5 188.1 542.7 187.6Z","fill","white"],["id","Vector_76","opacity","0.25","d","M561.7 166.2C561.2 167.1 560.4 168 559.7 168.6C559.1 169 558.6 169.3 558.2 169.3C556.9 169.1 555.2 166.9 555.1 166.5C555.1 166.1 556.5 165.9 556.4 164.7C556.2 163.5 555.4 163.3 554.9 163.5C554.3 163.7 553.6 165 553.6 166.2C553.2 166.1 552.5 164.7 551.1 163.8C550.7 163.6 550.3 163.4 549.8 163.3C550.5 163.2 551.4 163.2 551.9 163.4C553.1 163.9 553.2 164.4 553.2 164.4C553.2 164.4 553.4 162.6 555.4 162.2C557.1 161.9 558.4 166.5 561.7 166.2Z","fill","black"],["id","Vector_77","d","M555.9 251.1H542.8C542.8 251.1 542.7 250.7 542.7 250.2C542.7 249.5 542.9 248.6 544 248.2C544.4 248 544.8 247.9 545.2 247.7C546.8 246.9 548.6 245.9 548.9 245.3C548.9 245.3 549 245.3 549.2 245.4C549.5 245.5 550.1 245.8 550.8 246C551.1 246.1 551.4 246.1 551.7 246.1C552.4 246.1 553.9 245.7 554.8 245.6C555.2 245.5 555.5 245.5 555.6 245.7C555.8 246 556 248.7 556.1 250.2C555.8 250.7 555.9 251.1 555.9 251.1Z","fill","#1F3247"],["id","Vector_78","d","M554.9 243.6C554.8 244.2 554.7 244.9 554.5 245.5C553.8 245.6 552.9 245.8 552.2 245.9C551.9 245.9 551.7 246 551.5 246C550.7 246 549.6 245.5 549.1 245.3C549.1 244.6 549.2 243.7 549.2 243L551.5 243.2L554.9 243.6Z","fill","url(#paint15_linear)"],["id","Vector_79","d","M571.6 251.1H563.7C563.7 251.1 563.6 250.7 563.6 250.2C563.6 249.8 563.7 249.4 563.9 248.9C564.5 247.6 564.2 245.6 564.4 245.2C564.4 245.2 564.5 245.2 564.8 245.2C565.9 245.1 569 244.8 569.9 244.8C570 244.8 570 244.8 570.1 244.8C570.6 245 571.2 248.4 571.5 250.2C571.6 250.6 571.6 250.9 571.6 251.1Z","fill","#1F3247"],["id","Vector_80","opacity","0.25","d","M555.8 250.1C555.8 250.7 555.9 251 555.9 251H542.8C542.8 251 542.7 250.6 542.7 250.1H555.8Z","fill","black"],["id","Vector_81","opacity","0.25","d","M571.6 251.1H563.7C563.7 251.1 563.6 250.7 563.6 250.2H571.5C571.6 250.6 571.6 250.9 571.6 251.1Z","fill","black"],["id","Vector_82","d","M550.6 245.9C549.4 246.7 547.1 248.1 546.3 248.1C545.7 248.1 545.3 247.8 545 247.6C546.6 246.8 548.4 245.8 548.7 245.2C548.7 245.2 548.8 245.2 549 245.3C549.4 245.5 550 245.7 550.6 245.9Z","fill","#122230"],["id","Vector_83","opacity","0.25","d","M554.9 243.6C554.8 244.2 554.7 244.9 554.5 245.5C553.8 245.6 552.9 245.8 552.2 245.9L551.4 243.2L554.9 243.6Z","fill","black"],["id","Vector_84","opacity","0.25","d","M569.9 241.4V244.7C569.3 244.6 567.9 244.7 566.7 244.9L565.8 242.1L569.9 241.4Z","fill","black"],["id","Group_13"],["id","Group_14"],["id","Vector_85","d","M98.3 163.3C98.3 163.3 98.2 164.3 98.1 165.5C97.9 167.1 97.5 169.2 96.8 170.2C96.8 170.2 96.8 170.3 96.7 170.3C95.6 171.7 93.6 171.4 92.6 169.6C93.2 168.8 93.5 167.9 93.1 167.5C92.3 166.7 92.5 164.4 93.7 164.7C94.9 165 95.1 168.2 95.5 168.1C95.8 168.2 97.6 165.3 98.3 163.3Z","fill","url(#paint16_linear)"],["id","Vector_86","d","M98.7 161.9C98.7 162.2 98.6 162.7 98.4 163.3C98.3 163.6 98.1 164 98 164.3C97.2 166.1 95.9 168.1 95.6 168.2C95.2 168.3 95 165 93.8 164.8C92.6 164.5 92.4 166.8 93.2 167.6C93.6 168 93.3 168.9 92.7 169.7C92 170.5 91 171.1 89.9 170.4C87.9 169.2 87.5 161.4 87.5 160.8C87.5 160.8 87.5 160.3 87.6 159.6C87.8 158.6 88.5 157.4 90.2 156.6C93.2 155.3 98.7 155.6 98.7 161.9Z","fill","#2F1829"],["id","Vector_87","d","M114.4 194.3C114.4 194.4 114.4 194.5 114.3 194.5C114.2 194.9 114.1 195.1 114 195.1C113.9 195.1 113.3 195.1 112.4 195C111.2 194.8 109.4 194.6 107.8 194.3C105.8 193.9 104 193.5 103.4 193.2C102.9 192.9 102.1 191.9 101.3 190.7C101.1 190.4 100.9 190.1 100.7 189.7C99.7 188.1 98.9 186.5 98.7 186.1C98.7 186 98.6 186 98.6 186C98.6 186 98.6 186 98.6 186.1C98.6 186.5 98.4 188.1 97.9 189.7C97.8 190 97.7 190.4 97.5 190.7C97.4 191 97.2 191.3 97 191.5C96.5 192.3 96.6 193.3 96.9 194.3C96.9 194.4 97 194.5 97 194.7C97.1 194.9 97.2 195.1 97.3 195.3C97.5 195.7 97.6 196 97.8 196.3C98.3 197.3 98.7 198.2 98.6 198.7C98.6 198.8 98.5 198.8 98.4 198.9C98.3 199 98.3 199 98.2 199.1C97.9 199.3 97.3 199.6 96.6 199.9C92.7 201.5 83.9 203.4 80.1 199.9C80 199.8 80 199.8 79.9 199.7C79.7 199.4 79.6 199.2 79.6 198.9C79.6 198.5 79.8 198.2 80.1 197.7C80.5 197 81.2 196.3 81.7 195.2C81.9 194.9 82 194.6 82.1 194.2C82.3 193.7 82.5 193.1 82.5 192.4C82.6 191.8 82.6 191.1 82.7 190.5C82.7 190.2 82.8 189.8 82.8 189.5C82.9 188.2 82.9 187 82.9 185.9C82.9 185.6 82.9 185.2 82.9 184.9C82.9 183.6 82.8 182.4 82.8 181.3C82.8 181 82.8 180.6 82.8 180.3C82.8 179 82.8 177.8 82.9 176.7C82.9 176.4 83 176 83 175.7C83.3 174.2 83.9 173 85 172.1L85.1 172C85.5 171.7 85.9 171.4 86.2 171.1C86.6 170.8 87 170.6 87.3 170.3C89.7 168.9 90.9 169.1 90.9 169.1C90.9 169.1 91.6 169.1 92.7 169.3C93.8 169.5 95.1 169.8 96.5 170.3C96.7 170.4 96.8 170.4 97 170.5C97.4 170.7 97.7 170.8 98.1 171C98.3 171.1 98.6 171.3 98.8 171.4C99.1 171.6 99.4 171.8 99.6 172C100.3 172.5 100.8 173.1 101.3 173.8C101.6 174.3 102 175 102.3 175.6C102.5 175.9 102.6 176.2 102.8 176.6C103.3 177.8 103.9 179 104.4 180.2C104.5 180.5 104.7 180.9 104.8 181.2C105.3 182.5 105.8 183.8 106.1 184.8C106.2 185.1 106.3 185.5 106.4 185.8C106.8 186.9 107 187.6 107.1 187.9C107.2 188.3 108.1 188.7 109.2 189.1C109.6 189.2 109.9 189.3 110.3 189.4C111.1 189.6 111.8 189.8 112.5 190C113 190.1 113.5 190.3 113.9 190.4C114.3 190.5 114.5 190.6 114.6 190.7C114.6 190.7 114.6 190.8 114.7 190.9C114.7 191.8 114.6 193.3 114.4 194.3Z","fill","#F5B539"],["id","Group_15","opacity","0.25"],["id","Group_16","opacity","0.25"],["id","Vector_88","opacity","0.25","d","M98.1 171.4C98.4 171.6 98.7 171.7 99 171.9H85.7C85.9 171.7 86.2 171.5 86.4 171.4H98.1ZM98.1 171.2H86.2C85.8 171.5 85.5 171.7 85.1 172.1L85 172.2H99.7C99.2 171.8 98.7 171.5 98.1 171.2Z","fill","white"],["id","Group_17","opacity","0.25"],["id","Vector_89","opacity","0.25","d","M102.1 176.1C102.2 176.3 102.3 176.4 102.4 176.6H83.1C83.1 176.4 83.2 176.2 83.2 176.1H102.1ZM102.3 175.8H83C82.9 176.1 82.9 176.4 82.9 176.8H102.8C102.6 176.5 102.4 176.1 102.3 175.8Z","fill","white"],["id","Group_18","opacity","0.25"],["id","Vector_90","opacity","0.25","d","M104.2 180.7C104.3 180.9 104.3 181 104.4 181.2H83.1C83.1 181 83.1 180.9 83.1 180.7H104.2ZM104.3 180.5H82.8C82.8 180.8 82.8 181.1 82.8 181.5H104.7C104.6 181.1 104.4 180.8 104.3 180.5Z","fill","white"],["id","Group_19","opacity","0.25"],["id","Vector_91","opacity","0.25","d","M105.9 185.3L106 185.7L106.1 185.9H83.3C83.3 185.7 83.3 185.6 83.3 185.4H105.9V185.3ZM106 185.1H83C83 185.4 83 185.7 83 186.1H106.4C106.3 185.8 106.1 185.4 106 185.1Z","fill","white"],["id","Group_20","opacity","0.25"],["id","Vector_92","opacity","0.25","d","M97.6 189.9C97.5 190.1 97.5 190.3 97.4 190.4H83.1C83.1 190.2 83.1 190.1 83.1 189.9H97.6ZM97.9 189.7H82.9C82.9 190 82.9 190.3 82.8 190.7H97.5C97.7 190.4 97.8 190 97.9 189.7Z","fill","white"],["id","Group_21","opacity","0.25"],["id","Vector_93","opacity","0.25","d","M110.2 189.9C110.8 190.1 111.4 190.2 111.9 190.4L112.1 190.5H101.5C101.4 190.3 101.3 190.2 101.2 190H110.2V189.9ZM110.2 189.7H100.7C100.9 190 101.1 190.4 101.3 190.7H113.7C113.3 190.6 112.9 190.4 112.3 190.3C111.8 190.1 111 189.9 110.2 189.7Z","fill","white"],["id","Group_22","opacity","0.25"],["id","Vector_94","opacity","0.25","d","M96.9 194.6C96.9 194.6 96.9 194.7 97 194.7V194.8C97 194.9 97.1 195 97.1 195.1H82.2C82.3 194.9 82.4 194.8 82.4 194.6H96.9V194.6ZM97 194.3H82.2C82.1 194.7 81.9 195 81.8 195.3H97.4C97.3 195.1 97.2 194.9 97.1 194.7C97.1 194.6 97.1 194.5 97 194.3Z","fill","white"],["id","Group_23","opacity","0.25"],["id","Vector_95","opacity","0.25","d","M114.1 194.6C114 194.9 113.9 195 113.9 195C113.9 195 113.9 195 113.8 195C113.6 195 113.1 195 112.4 194.9C111.8 194.8 111.2 194.7 110.5 194.6H114.1V194.6ZM114.4 194.3H107.8C109.4 194.6 111.2 194.9 112.4 195C113.1 195.1 113.6 195.1 113.8 195.1C113.9 195.1 113.9 195.1 114 195.1C114.1 195.1 114.2 194.8 114.3 194.5C114.4 194.5 114.4 194.4 114.4 194.3Z","fill","white"],["id","Group_24","opacity","0.25"],["id","Vector_96","opacity","0.25","d","M97.8 199.2C97.5 199.4 97.1 199.5 96.7 199.7H80.4L80.3 199.6L80.1 199.8L80.2 199.6C80.1 199.5 80 199.4 80 199.2H97.8ZM98.5 199H79.7C79.7 199.3 79.8 199.5 80 199.8C80.1 199.9 80.1 199.9 80.2 200H96.7C97.4 199.7 97.9 199.4 98.3 199.2C98.4 199.1 98.4 199 98.5 199Z","fill","white"],["id","Vector_97","d","M99.9 242.3C99.8 242.5 99.8 242.7 99.7 242.8C98.6 244.7 95.6 244.9 94.5 244.5C94.4 244.5 94.2 244.4 94.2 244.3C93.5 243.7 93 238.9 89.4 211.7C89.4 211.8 89.4 211.8 89.4 211.9C89.3 215.8 88.5 222.6 87.7 228.9C86.8 235.9 85.8 242.2 85.6 243.2C85.6 243.5 85.4 243.8 85.2 244.1C84.2 245.2 81.7 245.5 80.2 243.7C80.1 243.6 80 243.4 79.9 243.2C80.5 238.2 80.8 222.8 79.8 213.6C79.4 210.2 79.4 207.2 79.5 204.8C79.6 202.3 79.9 200.5 80.1 199.5C83.9 203.3 93.1 201.3 97 199.6C97.6 199.3 98 199.1 98.3 198.9C99.3 203.5 98.9 216.4 99.9 242.3Z","fill","#2F1829"],["id","Vector_98","opacity","0.25","d","M97.1 170.7C90.7 170.9 88.9 180.8 88.9 180.8L87.4 170.4C89.8 169 91 169.2 91 169.2C91 169.2 94.1 169.4 97.1 170.7Z","fill","black"],["id","Vector_99","d","M107.2 251C107.2 251 96.3 251 94.5 251C94.4 250.6 94.4 250.1 94.4 249.5C94.4 249.3 94.4 249.1 94.4 248.8C94.4 247.3 94.4 245.5 94.5 244.6C94.8 244.7 95.2 244.8 95.7 244.7C96.7 244.7 97.9 244.4 98.8 243.8C99.1 243.6 99.4 243.2 99.6 242.9C100.4 244.6 102 245.7 103.5 246.5C104.8 247.2 106.1 247.7 106.6 248.1C107.1 248.5 107.3 249 107.3 249.5C107.5 250.2 107.2 251 107.2 251Z","fill","#1F3247"],["id","Vector_100","d","M85.3 249.5C85.3 250.5 85.2 251 85.2 251H77.9C78 250.5 78.1 250 78.2 249.5C78.8 247 79.7 244.8 80.1 243.9C80.6 244.5 81.2 244.8 81.8 245C82.5 245.2 83.2 245.2 83.9 245C84.4 244.8 84.9 244.6 85.2 244.2C85.4 246.3 85.3 248.2 85.3 249.5Z","fill","#1F3247"],["id","Vector_101","opacity","0.25","d","M98.7 198.7C98.7 198.8 98.5 199 98.3 199.1C96 200.7 84.4 204.1 80.1 199.7C79.5 199.1 79.8 198.5 80.3 197.8C80.9 198.3 82 198.8 84 199.2C87.9 199.8 94.7 198.8 98 196.4C98.4 197.4 98.8 198.2 98.7 198.7Z","fill","black"],["id","girllight"],["id","Vector_102","d","M121.8 188C121.8 188 119.4 179.3 124.5 173.8C129.6 168.3 143.5 160.1 143.8 149.9C144.1 139.7 151.7 126.9 161.8 124.5C171.9 122.2 179.6 98.8 188.7 94.2C197.8 89.5 210.7 89.1 214.4 83.2C218.1 77.3 261.7 162 259.6 170.7C257.4 179.4 218.6 168.2 208.2 170.8C197.8 173.4 192.9 179.6 181.3 181.2C169.7 182.8 152.5 180 146.5 183.4C140.5 186.8 129.4 191.8 123.9 189.8C121.6 188.8 121.8 188 121.8 188Z","fill","url(#paint17_linear)"],["id","Vector_103","d","M123.9 189.6L121.4 187.1C121 186.7 120.4 186.9 120.3 187.4L119.7 189.6L114.4 194.9C114.2 195.1 114.2 195.5 114.4 195.7L115.2 196.5C115.4 196.7 115.8 196.7 116 196.5L121.3 191.2L123.5 190.6C124.1 190.6 124.3 190 123.9 189.6Z","fill","#2F1829"],["id","Vector_104","d","M121.2 192.6C121.1 193.4 118.2 195.9 117.3 195.7C117.2 195.7 117 195.6 116.9 195.5C116.3 195.2 115.6 194.6 114.4 194.5C114.6 193.5 114.7 191.7 114.6 191.1C114.8 191 115 190.9 115.2 190.8C116.2 190.4 117.5 189.8 118 189.9C118.9 190.2 121.4 191.8 121.2 192.6Z","fill","url(#paint18_linear)"],["id","Vector_105","opacity","0.25","d","M114.4 194.6C114.3 195 114.2 195.2 114.1 195.2C114 195.2 113.4 195.2 112.5 195.1C113.1 192.8 112.7 191.1 112.5 190.3C113.6 190.6 114.4 190.8 114.5 191C114.5 191 114.5 191.1 114.6 191.2C114.7 191.8 114.6 193.6 114.4 194.6Z","fill","black"],["id","Vector_106","opacity","0.25","d","M97.2 194.7C95.7 193.3 96.4 192.1 97.2 189.3C98 186.4 96.4 185.2 96.1 182C95.8 178.8 96.2 177 98.1 174.9C95.7 181.1 98.7 186 98.7 186C98.7 186 98.6 189.4 97.1 191.6C96.5 192.4 96.7 193.6 97.2 194.7Z","fill","black"],["id","Vector_107","opacity","0.25","d","M97.9 164.4C97.1 166.2 95.8 168.2 95.5 168.3C95.1 168.4 94.9 165.1 93.7 164.9C92.5 164.6 92.3 166.9 93.1 167.7C93.5 168.1 93.2 169 92.6 169.8C91.9 170.6 90.9 171.2 89.8 170.5C87.8 169.3 87.4 161.5 87.4 160.9C87.4 160.9 87.4 160.4 87.5 159.7C88.5 159.6 90.8 159.8 91.3 161.8C91.8 163.8 91.8 164.7 91.8 165.1C91.9 164.5 92.4 162.8 94.3 163.2C95.4 163.3 96.7 164.1 97.9 164.4Z","fill","black"],["id","hairgirl"],["id","Vector_108","d","M89.6 161.6C89.6 161.6 88.8 159.9 86.1 160.4C83.5 160.9 82.3 164.3 83.5 169.8C83.5 164.9 84.2 163.8 84.2 163.8C84.2 163.8 83.1 166.8 84.5 173.5C85.9 180.2 86.8 186.7 83.2 189.5C90.3 185.5 90.8 180.7 90.3 174.9C90 169.1 91.3 164 89.6 161.6Z","fill","#2F1829"],["id","Vector_109","opacity","0.25","d","M93.9 167.5C93.8 167.9 95.2 169.8 96.7 170.2C96.7 170.2 96.7 170.3 96.6 170.3C96.6 170.4 96.5 170.4 96.5 170.5C95.1 170 93.7 169.6 92.7 169.5C93.2 168.8 93.4 168 93 167.6C92.2 166.8 92.4 164.5 93.6 164.8C94.8 165.1 95 168.3 95.4 168.2C95.7 168.1 97.5 165.3 98.2 163.3C98.2 163.3 98.1 164.3 98 165.5C97.6 166.2 96.7 167.7 96 168.3C95.1 169.1 94.7 168.1 94.5 167.5C94.4 167 94 167 93.9 167.5Z","fill","black"],["id","Vector_110","opacity","0.25","d","M81.5 204.9C81.5 204.9 81.3 208.6 81.8 209.6C82.3 210.6 83.7 211.3 83.7 211.3C83.7 211.3 85.5 210.5 86 209.4C86.5 207.2 86.4 204.5 86.4 204.5C86.4 204.5 82.8 203.7 81.5 204.9Z","stroke","white","stroke-width","0.4635","stroke-miterlimit","10"],["id","Vector_111","opacity","0.25","d","M97.2 201.9C97.2 201.9 97.4 205 94.7 206.5","stroke","white","stroke-width","0.4635","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["id","Vector_112","opacity","0.25","d","M96.5 204.6L98.7 241.6","stroke","white","stroke-width","0.4635","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["id","Vector_113","opacity","0.25","d","M89.3 212C89.2 215.9 88.4 222.7 87.6 229.1C87.5 221.7 86.4 212.6 86.8 211.1C87.9 212.1 89.3 212 89.3 212Z","fill","black"],["id","Vector_114","opacity","0.25","d","M87.4 213L84.3 243.2","stroke","white","stroke-width","0.4635","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["id","Vector_115","opacity","0.25","d","M96.9 199.9C95.1 201.7 89.5 206.1 79.4 205.1C79.5 202.6 79.8 200.8 80 199.8C83.8 203.6 93.1 201.5 96.9 199.9Z","fill","black"],["id","Vector_116","opacity","0.25","d","M78.3 249.5H85.3C85.3 250.5 85.2 251 85.2 251H77.9C78 250.5 78.1 250 78.3 249.5Z","fill","black"],["id","Vector_117","opacity","0.25","d","M107.2 251C107.2 251 96.3 251 94.5 251C94.4 250.6 94.4 250.1 94.4 249.5H107.4C107.5 250.2 107.2 251 107.2 251Z","fill","black"],["id","Vector_118","opacity","0.25","d","M103.6 246.4C101.3 247.5 99.7 245.2 98.9 243.7C99.2 243.5 99.5 243.1 99.7 242.8C100.5 244.5 102.1 245.6 103.6 246.4Z","fill","white"],["id","Vector_119","opacity","0.25","d","M83.9 245C83.7 248.4 82.5 248.5 81.9 248.1C81.3 247.8 81.7 245.6 81.9 244.9C82.5 245.2 83.2 245.2 83.9 245Z","fill","black"],["id","Vector_120","opacity","0.25","d","M94.4 248.8C94.4 247.3 94.4 245.5 94.5 244.6C94.8 244.7 95.2 244.8 95.7 244.7C95.9 245.8 96 248.3 94.4 248.8Z","fill","black"],["id","Vector_121","opacity","0.25","d","M114.4 194.6C114.6 193.6 114.7 191.8 114.6 191.2C114.8 191.1 115 191 115.2 190.9C115.8 191.8 116.9 193.5 117 195.5C116.3 195.2 115.7 194.6 114.4 194.6Z","fill","black"],["id","Vector_122","opacity","0.25","d","M109.1 189.4C107.1 189.6 105.7 191.7 105.6 191.3C105.4 190.8 106.5 189.8 106.4 189.1C106.3 188.4 103.2 180.5 101.5 176.6C100.5 174.2 99.5 172.6 98.9 171.6C99.2 171.8 99.5 172 99.7 172.2C100.4 172.7 100.9 173.3 101.4 174C101.7 174.5 102.1 175.2 102.4 175.8C102.6 176.1 102.7 176.4 102.9 176.8C103.4 178 104 179.2 104.5 180.4C104.6 180.7 104.8 181.1 104.9 181.4C105.4 182.7 105.9 184 106.2 185C106.3 185.3 106.4 185.7 106.5 186C106.9 187.1 107.1 187.8 107.2 188.1C107.2 188.6 108 189 109.1 189.4Z","fill","white"],["id","Vector_123","d","M592.4 253C591.7 252.5 570.9 196.3 594.9 164.3C591.6 186.9 593.4 205.4 593.4 205.4L590.3 208.5L593.8 209.5C593.8 209.5 596.1 240.9 597.3 244.5C594.7 221 601.1 207.3 601.1 207.3C601.1 207.3 600 224 602.1 230.1L600.4 232.3L602.1 232C602.1 232 600.9 242.1 602.1 245.1C602.1 245.1 615.5 205.1 609.2 187.5C617.5 200.3 615.1 221.8 615.1 221.8L613 222.6L614.3 223.6C614.3 223.6 610.8 246.5 602.9 252.9","fill","#2F1829"],["id","Group_25"],["id","Vector_124","d","M452.1 246.4C452.1 246.4 433.5 244.7 426.1 249.9C429.6 244.9 443.7 242.6 443.7 242.6L444.7 243.4V242.6C444.7 242.6 447.1 241.4 450.6 240.9C433.7 237.6 425.6 240.8 425.6 240.8C425.6 240.8 428.7 238.2 433.9 236.7C439.1 235.2 442.3 235.8 442.3 235.8L444.4 237.1V235.7L462.4 241","fill","black"],["id","Vector_125","d","M523.5 247.4C523.5 247.4 521.5 234.8 531.8 226.1C531.7 236.3 528.9 245 523.5 247.4Z","stroke","#1F3247","stroke-width","0.9271","stroke-miterlimit","10"],["id","Group_26"],["id","Vector_126","d","M454.5 239.1L452.5 244C451.1 239.1 448 238.1 446.4 238C445.8 237.9 445.5 238 445.5 238L446.2 235.6L443.9 236C443.9 236 441.3 229.7 429.6 222C440.3 221.4 446.9 227 450.6 232C453.4 235.7 454.5 239.1 454.5 239.1Z","fill","#FFCA51"],["id","Group_27","opacity","0.25"],["id","Vector_127","opacity","0.25","d","M429.6 222C432.1 222.6 434.6 223.5 437 224.6C439.4 225.7 441.7 226.9 443.9 228.3C446.1 229.8 448.1 231.5 449.9 233.5C451.6 235.5 453 237.8 454 240.3C454 240.4 454 240.6 453.9 240.6C453.8 240.6 453.6 240.6 453.6 240.5C452.7 238.1 451.4 235.8 449.7 233.8C448 231.8 446 230.1 443.9 228.6C441.7 227.1 439.4 225.9 437 224.8C434.6 223.6 432.1 222.6 429.6 222Z","fill","white"],["id","Vector_128","opacity","0.25","d","M454.5 239.1L452.5 244C451.1 239.1 448 238.1 446.4 238C449.2 236.3 450.2 233.6 450.6 231.9C453.4 235.7 454.5 239.1 454.5 239.1Z","fill","black"],["id","Group_28"],["id","Vector_129","d","M531.8 215.8C512.6 231.6 507.7 239.4 507.7 239.4L504.3 237.9C504.3 237.9 504.3 238 504.3 238.2C504.3 239.1 504.4 241.5 504.3 242.4C504.2 243.1 497.4 246.8 493.5 248.8C491.9 249.6 490.9 250.2 490.9 250.2L487.7 247L488 246.4L489.7 243.2C489.7 243.2 494.1 236.9 501.6 230.3C508.9 223.7 519.4 216.9 531.8 215.8Z","fill","#FFADAE"],["id","Group_29","opacity","0.25"],["id","Vector_130","opacity","0.25","d","M489.6 248.9C492.2 245.1 495.1 241.5 498.1 238.1C501.1 234.7 504.4 231.4 507.8 228.4C511.3 225.4 515 222.7 519 220.4C523 218.2 527.3 216.5 531.8 215.7C527.3 216.5 523 218.2 519 220.5C515 222.8 511.4 225.5 507.9 228.5C504.5 231.5 501.3 234.8 498.3 238.2C495.3 241.6 492.5 245.2 489.9 249C489.8 249.1 489.7 249.1 489.6 249.1C489.5 249.2 489.5 249 489.6 248.9Z","fill","white"],["id","Vector_131","opacity","0.25","d","M504.3 242.3C504.2 243 497.4 246.7 493.5 248.7C491.4 247.9 489.4 247 488 246.2L489.7 243C489.7 243 494.1 236.7 501.6 230.1C502 232.4 502.9 235.7 504.4 238.1C504.3 239 504.4 241.5 504.3 242.3Z","fill","black"],["id","Group_30"],["id","Vector_132","d","M519.7 205.4C506 216.8 499.7 226.4 497.1 231.2C495.9 233.4 495.5 234.7 495.5 234.7L492.5 233.6L493.7 236.3L489.3 245.1L487.4 249V233.6C488 232.5 488.8 231 489.8 229.3C491.7 226.1 494.4 222.2 497.9 218.4C499.5 216.7 501.2 215 503 213.4C507.8 209.6 513.3 206.5 519.7 205.4Z","fill","#F3475C"],["id","Group_31","opacity","0.25"],["id","Vector_133","opacity","0.25","d","M487.3 239.8C488.7 236 490.6 232.4 492.7 228.9C494.8 225.4 497.3 222.2 500 219.2C502.7 216.2 505.8 213.5 509.1 211.1L511.6 209.4L514.3 207.9C514.7 207.7 515.2 207.4 515.6 207.2L517 206.6L519.8 205.4L517 206.6L515.6 207.2C515.2 207.4 514.7 207.7 514.3 207.9L511.7 209.4L509.2 211.1C505.9 213.5 502.9 216.2 500.2 219.2C497.5 222.2 495.1 225.5 493.1 229C491 232.5 489.2 236.1 487.9 239.9C487.9 240 487.7 240.1 487.6 240C487.3 240.1 487.3 239.9 487.3 239.8Z","fill","white"],["id","Vector_134","opacity","0.25","d","M495.6 234.8L492.6 233.7L493.8 236.4L489.4 245.2L487.5 245.5V233.7C488.1 232.6 488.9 231.1 489.9 229.4C491.3 230.5 493.7 231.8 497.1 231.3C496 233.5 495.6 234.8 495.6 234.8Z","fill","black"],["id","Vector_135","d","M537.2 251.1H487.5V244.1C487.5 244.1 488.2 242.4 490.2 241.4C490.8 241.1 491.6 240.8 492.4 240.7C496.1 240.2 497.4 243.3 497.4 243.3C497.4 243.3 498.3 240.6 502 240.3C505.6 240 507.8 245.6 507.9 246C507.9 245.7 507.6 242.6 510.4 242.4C513.3 242.2 513.3 246 513.3 246C513.3 246 515.6 243.5 518.6 243.6C521.6 243.8 522.2 246.7 522.2 246.7C522.2 246.7 523.9 244.2 527.5 245.1C531.2 245.9 531.7 251.1 537.2 251.1Z","fill","#982245"],["id","Vector_136","opacity","0.25","d","M521.7 251.1H487.6V244.1C487.6 244.1 488.3 242.4 490.3 241.4C491.8 241.5 494.4 242 495.5 244C497.1 246.9 497.2 249.6 497.2 249.6C497.2 249.6 500.5 244.8 503.2 245.6C505.9 246.4 507.3 249.6 507.3 249.6C507.3 249.6 510.1 246.6 512.5 247.6C513.6 248.2 517.8 249.7 521.7 251.1Z","fill","black"],["id","Vector_137","d","M423.7 253C423.5 252.9 417.7 237.1 424.4 228.1C423.5 234.5 424 239.7 424 239.7L423.1 240.6L424.1 240.9C424.1 240.9 424.8 249.7 425.1 250.8C424.4 244.2 426.2 240.3 426.2 240.3C426.2 240.3 425.9 245 426.5 246.7L426 247.3L426.5 247.2C426.5 247.2 426.2 250 426.5 250.9C426.5 250.9 430.3 239.7 428.5 234.7C430.8 238.3 430.2 244.3 430.2 244.3L429.6 244.5L430 244.8C430 244.8 429 251.2 426.8 253","fill","#2F1829"],["id","Group_32"],["id","Vector_138","d","M197 247.9C197 247.9 167.7 228.2 150.6 230C161 224.9 186.5 233.9 186.5 233.9L187.5 236.2L188.2 234.9C188.2 234.9 193.3 235 199.5 237.5C174.5 216.5 158.1 214.5 158.1 214.5C158.1 214.5 165.6 213.1 175.6 215.3C185.6 217.5 190.4 221.5 190.4 221.5L192.7 225.5L193.9 223.3L218.9 248.5","fill","black"],["id","Vector_139","d","M174.2 250.2C174.2 250.2 161.8 247.6 154.1 238.3C167.3 239.7 173 244.4 174.2 250.2Z","stroke","#1F3247","stroke-width","0.9271","stroke-miterlimit","10"],["id","Group_33"],["id","Vector_140","d","M215.5 194.6C214.4 219.4 217 228.3 217 228.3L213.6 229.9C213.6 229.9 213.7 230 213.8 230.1C214.5 230.7 216.3 232.3 216.9 232.9C217.4 233.4 215.6 241 214.5 245.2C214.1 246.9 213.8 248.1 213.8 248.1L209.3 248.3L209.1 247.6L207.8 244.2C207.8 244.2 206 236.7 206.1 226.8C206.1 216.9 208.1 204.5 215.5 194.6Z","fill","#FFADAE"],["id","Group_34","opacity","0.25"],["id","Vector_141","opacity","0.25","d","M212 248.1C210.9 243.6 210.2 239.1 209.6 234.6C209.1 230 208.8 225.5 208.9 220.9C209 216.3 209.4 211.7 210.4 207.3C211.4 202.8 213 198.5 215.5 194.6C213.1 198.5 211.5 202.8 210.5 207.3C209.5 211.8 209.1 216.3 209.1 220.9C209 225.5 209.4 230 209.9 234.6C210.5 239.1 211.3 243.6 212.4 248.1C212.4 248.2 212.4 248.4 212.2 248.4C212.2 248.3 212 248.3 212 248.1Z","fill","white"],["id","Vector_142","opacity","0.25","d","M216.9 232.8C217.4 233.3 215.6 240.9 214.5 245.1C212.5 246.2 210.5 247 209 247.6L207.7 244.2C207.7 244.2 205.9 236.7 206 226.8C208 228 211 229.5 213.8 230C214.4 230.6 216.3 232.2 216.9 232.8Z","fill","black"],["id","Group_35"],["id","Vector_143","d","M233 211.6C226.9 222.3 225.1 230 224.6 233.7C224.4 235.4 224.4 236.3 224.4 236.3H222.2L223.6 237.8L222.9 244.6L222.6 247.6L218.9 237.7C219 236.8 219.2 235.7 219.4 234.3C219.9 231.8 220.7 228.6 222 225.3C222.6 223.8 223.3 222.3 224.1 220.9C226.3 217.2 229.1 213.9 233 211.6Z","fill","#F3475C"],["id","Group_36","opacity","0.25"],["id","Vector_144","opacity","0.25","d","M220.2 241.7C220.2 238.9 220.5 236.1 221.1 233.3C221.6 230.5 222.4 227.9 223.5 225.3C224.5 222.7 225.9 220.2 227.4 217.9L228.6 216.2L230 214.6C230.2 214.3 230.5 214.1 230.7 213.8L231.5 213.1L233 211.7L231.5 213.2L230.8 213.9C230.6 214.2 230.3 214.4 230.1 214.7L228.8 216.3L227.6 218C226.1 220.3 224.7 222.8 223.8 225.4C222.8 228 222.1 230.7 221.5 233.4C221 236.1 220.7 238.9 220.7 241.7C220.7 241.8 220.6 241.9 220.5 241.9C220.3 241.9 220.2 241.8 220.2 241.7Z","fill","white"],["id","Vector_145","opacity","0.25","d","M224.4 236.4H222.2L223.6 237.9L222.9 244.7L221.7 245.3L218.9 237.7C219 236.8 219.2 235.7 219.4 234.3C220.5 234.7 222.4 235 224.5 233.8C224.4 235.5 224.4 236.4 224.4 236.4Z","fill","black"],["id","Vector_146","d","M254 251H241.6L187.6 251.1H171.6C171.6 251.1 172.9 246.8 179.2 244.8C185.5 242.8 187.3 246.9 187.3 246.9C187.3 246.9 187 238.7 194.4 235.9C201.8 233.1 205.1 242.5 205.1 242.5C205.1 242.5 206.6 237.9 214.5 237.5C222.4 237.1 221.6 243.3 221.6 243.3C221.6 243.3 226.1 238.3 234.2 239.4C242.3 240.5 243.1 247 243.1 247C243.1 247 250.2 244.8 254 251Z","fill","#982245"],["id","Vector_147","opacity","0.25","d","M241.6 251L187.6 251.1C190.4 248.6 195 245.4 199.8 245.3C207.7 245.2 209 248.1 209 248.1C209 248.1 213.9 242.9 217.7 243.8C221.6 244.7 221.7 248.8 221.7 248.8C221.7 248.8 234.1 245.9 241.6 251Z","fill","black"],["id","Vector_148","d","M262.9 254.5C262.9 254.5 253.9 238.6 256.6 223.2C259.2 235.3 265.7 243.3 265.7 243.3L263.1 245.4H265.7L271.3 256.1L263.7 254.5V255.2L262.9 254.5Z","fill","#2F1829"],["id","paint0_linear","x1","327.54","y1","250.471","x2","330.184","y2","46.9149","gradientUnits","userSpaceOnUse"],["stop-color","#E8D197"],["offset","1","stop-color","#FEF5DA"],["id","paint1_linear","x1","326.925","y1","147.902","x2","330.395","y2","242.079","gradientUnits","userSpaceOnUse"],["offset","1","stop-opacity","0"],["id","paint2_linear","x1","344.3","y1","64.1527","x2","344.961","y2","87.284","gradientUnits","userSpaceOnUse"],["stop-color","white"],["offset","1","stop-color","white","stop-opacity","0"],["id","paint3_linear","x1","130.102","y1","26.1247","x2","132.084","y2","77.0139","gradientUnits","userSpaceOnUse"],["id","paint4_linear","x1","455.752","y1","229.215","x2","433.942","y2","41.3544","gradientUnits","userSpaceOnUse"],["id","paint5_linear","x1","60.0761","y1","430.474","x2","23.3198","y2","113.867","gradientUnits","userSpaceOnUse"],["id","paint6_linear","x1","197.311","y1","242.736","x2","195.989","y2","148.447","gradientUnits","userSpaceOnUse"],["stop-color","#2F1829"],["offset","1","stop-color","#3B223C"],["id","paint7_linear","x1","322.636","y1","240.979","x2","321.314","y2","146.691","gradientUnits","userSpaceOnUse"],["id","paint8_linear","x1","447.456","y1","239.229","x2","446.134","y2","144.941","gradientUnits","userSpaceOnUse"],["id","paint9_linear","x1","281.068","y1","73.4007","x2","292.303","y2","109.089","gradientUnits","userSpaceOnUse"],["id","paint10_linear","x1","567.282","y1","246.761","x2","567.144","y2","239.051","gradientUnits","userSpaceOnUse"],["stop-color","#FECBA6"],["offset","1","stop-color","#D17878"],["id","paint11_linear","x1","575.336","y1","236.543","x2","417.383","y2","126.175","gradientUnits","userSpaceOnUse"],["id","paint12_linear","x1","529.726","y1","200.324","x2","554.29","y2","176.972","gradientUnits","userSpaceOnUse"],["id","paint13_linear","x1","568.688","y1","209.407","x2","569.018","y2","182.751","gradientUnits","userSpaceOnUse"],["id","paint14_linear","x1","552.343","y1","166.843","x2","558.043","y2","168.082","gradientUnits","userSpaceOnUse"],["id","paint15_linear","x1","550.457","y1","250.958","x2","552.881","y2","239.337","gradientUnits","userSpaceOnUse"],["id","paint16_linear","x1","95.6885","y1","163.838","x2","93.7609","y2","174.468","gradientUnits","userSpaceOnUse"],["id","paint17_linear","x1","75.5473","y1","236.543","x2","233.501","y2","126.174","gradientUnits","userSpaceOnUse"],["id","paint18_linear","x1","124.267","y1","190.961","x2","113.114","y2","194.142","gradientUnits","userSpaceOnUse"]],template:function(e,i){1&e&&(a.TgZ(0,"a",0)(1,"div",1)(2,"div",2)(3,"div",3),a.O4$(),a.TgZ(4,"svg",4)(5,"g",5)(6,"g",6),a._UZ(7,"path",7)(8,"path",8)(9,"path",9)(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13)(14,"path",14)(15,"path",15)(16,"path",16)(17,"path",17)(18,"path",18),a.qZA(),a._UZ(19,"path",19),a.TgZ(20,"g",20)(21,"g",21),a._UZ(22,"path",22),a.TgZ(23,"g",23),a._UZ(24,"path",24),a.qZA(),a._UZ(25,"path",25),a.qZA(),a._UZ(26,"path",26)(27,"path",27),a.TgZ(28,"g",28),a._UZ(29,"path",29),a.TgZ(30,"g",30),a._UZ(31,"path",31),a.qZA(),a._UZ(32,"path",32),a.qZA(),a._UZ(33,"path",33)(34,"path",34),a.qZA(),a.TgZ(35,"g",35),a._UZ(36,"path",36)(37,"path",37)(38,"path",38)(39,"path",39)(40,"path",40),a.qZA(),a.TgZ(41,"g",41),a._UZ(42,"path",42)(43,"path",43),a.qZA(),a.TgZ(44,"g",44)(45,"g",45),a._UZ(46,"path",46),a.TgZ(47,"g",47),a._UZ(48,"path",48)(49,"path",49)(50,"path",50)(51,"path",51),a.qZA(),a._UZ(52,"path",52)(53,"path",53)(54,"path",54)(55,"path",55)(56,"path",56)(57,"path",57)(58,"path",58),a.TgZ(59,"g",59),a._UZ(60,"path",60)(61,"path",61)(62,"path",62)(63,"path",63)(64,"path",64)(65,"path",65)(66,"path",66)(67,"path",67)(68,"path",68)(69,"path",69)(70,"path",70)(71,"path",71)(72,"path",72),a.qZA(),a._UZ(73,"path",73)(74,"path",74)(75,"path",75),a.TgZ(76,"g",76)(77,"g",77),a._UZ(78,"path",78)(79,"path",79)(80,"path",80),a.qZA()(),a._UZ(81,"path",81)(82,"path",82)(83,"path",83)(84,"path",84)(85,"path",85)(86,"path",86)(87,"path",87)(88,"path",88)(89,"path",89)(90,"path",90)(91,"path",91)(92,"path",92)(93,"path",93)(94,"path",94)(95,"path",95)(96,"path",96)(97,"path",97)(98,"path",98)(99,"path",99)(100,"path",100)(101,"path",101)(102,"path",102)(103,"path",103),a.qZA()(),a.TgZ(104,"g",104)(105,"g",105),a._UZ(106,"path",106)(107,"path",107)(108,"path",108),a.TgZ(109,"g",109)(110,"g",110),a._UZ(111,"path",111),a.qZA(),a.TgZ(112,"g",112),a._UZ(113,"path",113),a.qZA(),a.TgZ(114,"g",114),a._UZ(115,"path",115),a.qZA(),a.TgZ(116,"g",116),a._UZ(117,"path",117),a.qZA(),a.TgZ(118,"g",118),a._UZ(119,"path",119),a.qZA(),a.TgZ(120,"g",120),a._UZ(121,"path",121),a.qZA(),a.TgZ(122,"g",122),a._UZ(123,"path",123),a.qZA(),a.TgZ(124,"g",124),a._UZ(125,"path",125),a.qZA(),a.TgZ(126,"g",126),a._UZ(127,"path",127),a.qZA()(),a._UZ(128,"path",128)(129,"path",129)(130,"path",130)(131,"path",131)(132,"path",132),a.TgZ(133,"g",133),a._UZ(134,"path",134)(135,"path",135)(136,"path",136)(137,"path",137),a.qZA(),a._UZ(138,"path",138)(139,"path",139),a.TgZ(140,"g",140),a._UZ(141,"path",141),a.qZA(),a._UZ(142,"path",142)(143,"path",143)(144,"path",144)(145,"path",145)(146,"path",146)(147,"path",147)(148,"path",148)(149,"path",149)(150,"path",150)(151,"path",151)(152,"path",152)(153,"path",153)(154,"path",154)(155,"path",155),a.qZA()(),a._UZ(156,"path",156),a.TgZ(157,"g",157),a._UZ(158,"path",158)(159,"path",159),a.TgZ(160,"g",160),a._UZ(161,"path",161),a.TgZ(162,"g",162),a._UZ(163,"path",163),a.qZA(),a._UZ(164,"path",164),a.qZA(),a.TgZ(165,"g",165),a._UZ(166,"path",166),a.TgZ(167,"g",167),a._UZ(168,"path",168),a.qZA(),a._UZ(169,"path",169),a.qZA(),a.TgZ(170,"g",170),a._UZ(171,"path",171),a.TgZ(172,"g",172),a._UZ(173,"path",173),a.qZA(),a._UZ(174,"path",174),a.qZA(),a._UZ(175,"path",175)(176,"path",176)(177,"path",177),a.qZA(),a.TgZ(178,"g",178),a._UZ(179,"path",179)(180,"path",180),a.TgZ(181,"g",181),a._UZ(182,"path",182),a.TgZ(183,"g",183),a._UZ(184,"path",184),a.qZA(),a._UZ(185,"path",185),a.qZA(),a.TgZ(186,"g",186),a._UZ(187,"path",187),a.TgZ(188,"g",188),a._UZ(189,"path",189),a.qZA(),a._UZ(190,"path",190),a.qZA(),a._UZ(191,"path",191)(192,"path",192)(193,"path",193),a.qZA()(),a.TgZ(194,"defs")(195,"linearGradient",194),a._UZ(196,"stop",195)(197,"stop",196),a.qZA(),a.TgZ(198,"linearGradient",197),a._UZ(199,"stop")(200,"stop",198),a.qZA(),a.TgZ(201,"linearGradient",199),a._UZ(202,"stop",200)(203,"stop",201),a.qZA(),a.TgZ(204,"linearGradient",202),a._UZ(205,"stop",200)(206,"stop",201),a.qZA(),a.TgZ(207,"linearGradient",203),a._UZ(208,"stop",195)(209,"stop",196),a.qZA(),a.TgZ(210,"linearGradient",204),a._UZ(211,"stop",195)(212,"stop",196),a.qZA(),a.TgZ(213,"linearGradient",205),a._UZ(214,"stop",206)(215,"stop",207),a.qZA(),a.TgZ(216,"linearGradient",208),a._UZ(217,"stop",206)(218,"stop",207),a.qZA(),a.TgZ(219,"linearGradient",209),a._UZ(220,"stop",206)(221,"stop",207),a.qZA(),a.TgZ(222,"linearGradient",210),a._UZ(223,"stop",206)(224,"stop",207),a.qZA(),a.TgZ(225,"linearGradient",211),a._UZ(226,"stop",212)(227,"stop",213),a.qZA(),a.TgZ(228,"linearGradient",214),a._UZ(229,"stop",200)(230,"stop",201),a.qZA(),a.TgZ(231,"linearGradient",215),a._UZ(232,"stop",212)(233,"stop",213),a.qZA(),a.TgZ(234,"linearGradient",216),a._UZ(235,"stop",212)(236,"stop",213),a.qZA(),a.TgZ(237,"linearGradient",217),a._UZ(238,"stop",212)(239,"stop",213),a.qZA(),a.TgZ(240,"linearGradient",218),a._UZ(241,"stop",212)(242,"stop",213),a.qZA(),a.TgZ(243,"linearGradient",219),a._UZ(244,"stop",212)(245,"stop",213),a.qZA(),a.TgZ(246,"linearGradient",220),a._UZ(247,"stop",200)(248,"stop",201),a.qZA(),a.TgZ(249,"linearGradient",221),a._UZ(250,"stop",212)(251,"stop",213),a.qZA()()()()()()())},dependencies:[Vl],styles:["body[_ngcontent-%COMP%]{background-color:#141019;background:radial-gradient(at 50% -20%,#908392,#0d060e) fixed}#handboy[_ngcontent-%COMP%]{animation:swing ease-in-out 1.3s infinite alternate;transform-origin:98% 98%;transform-box:fill-box}#girllight[_ngcontent-%COMP%]{animation:swing ease-in-out 1.3s infinite alternate;transform-origin:0% 97%;transform-box:fill-box}#hairgirl[_ngcontent-%COMP%]{animation:swinghair ease-in-out 1.3s infinite alternate;transform-origin:60% 0%;transform-box:fill-box}#zero[_ngcontent-%COMP%]{transform-origin:bottom;transform-box:fill-box}@keyframes swing{0%{transform:rotate(10deg)}to{transform:rotate(-10deg)}}@keyframes swinghair{0%{transform:rotate(6deg)}to{transform:rotate(-6deg)}}"]}),n})()}];let PQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[b1.forRoot(OQ),b1]}),n})();function z9(n){return new a.vHH(3e3,!1)}function mX(){return typeof window<"u"&&typeof window.document<"u"}function SO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function gf(n){switch(n.length){case 0:return new Ah;case 1:return n[0];default:return new C_(n)}}function G9(n,t,e,i,r=new Map,s=new Map){const c=[],d=[];let p=-1,_=null;if(i.forEach(b=>{const D=b.get("offset"),M=D==p,P=M&&_||new Map;b.forEach((L,K)=>{let se=K,Oe=L;if("offset"!==K)switch(se=t.normalizePropertyName(se,c),Oe){case"!":Oe=r.get(K);break;case Zl:Oe=s.get(K);break;default:Oe=t.normalizeStyleValue(K,se,Oe,c)}P.set(se,Oe)}),M||d.push(P),_=P,p=D}),c.length)throw function iX(n){return new a.vHH(3502,!1)}();return d}function TO(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&AO(e,"start",n)));break;case"done":n.onDone(()=>i(e&&AO(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&AO(e,"destroy",n)))}}function AO(n,t,e){const s=MO(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function MO(n,t,e,i,r="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function Yo(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function W9(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let xO=(n,t)=>!1,Z9=(n,t,e)=>[],q9=null;function kO(n){const t=n.parentNode||n.host;return t===q9?null:t}(SO()||typeof Element<"u")&&(mX()?(q9=(()=>document.documentElement)(),xO=(n,t)=>{for(;t;){if(t===n)return!0;t=kO(t)}return!1}):xO=(n,t)=>n.contains(t),Z9=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Um=null,Y9=!1;const K9=xO,Q9=Z9;let X9=(()=>{class n{validateStyleProperty(e){return function _X(n){Um||(Um=function yX(){return typeof document<"u"?document.body:null}()||{},Y9=!!Um.style&&"WebkitAppearance"in Um.style);let t=!0;return Um.style&&!function gX(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Um.style,!t&&Y9&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Um.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return K9(e,i)}getParentElement(e){return kO(e)}query(e,i,r){return Q9(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,c,d=[],p){return new Ah(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),RO=(()=>{class n{}return n.NOOP=new X9,n})();const OO="ng-enter",HS="ng-leave",jS="ng-trigger",$S=".ng-trigger",eV="ng-animating",PO=".ng-animating";function yd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:NO(parseFloat(t[1]),t[2])}function NO(n,t){return"s"===t?1e3*n:n}function zS(n,t,e){return n.hasOwnProperty("duration")?n:function CX(n,t,e){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(z9()),{duration:0,delay:0,easing:""};r=NO(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=NO(parseFloat(p),d[4]));const _=d[5];_&&(c=_)}else r=n;if(!e){let d=!1,p=t.length;r<0&&(t.push(function NQ(){return new a.vHH(3100,!1)}()),d=!0),s<0&&(t.push(function FQ(){return new a.vHH(3101,!1)}()),d=!0),d&&t.splice(p,0,z9())}return{duration:r,delay:s,easing:c}}(n,t,e)}function zC(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function tV(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function _f(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function iV(n,t,e){return e?t+":"+e+";":""}function rV(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=iV(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=iV(0,IX(e),n.style[e]));n.setAttribute("style",t)}function Qc(n,t,e){n.style&&(t.forEach((i,r)=>{const s=LO(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),SO()&&rV(n))}function Hm(n,t){n.style&&(t.forEach((e,i)=>{const r=LO(i);n.style[r]=""}),SO()&&rV(n))}function GC(n){return Array.isArray(n)?1==n.length?n[0]:qE(n):n}const FO=new RegExp("{{\\s*(.+?)\\s*}}","g");function sV(n){let t=[];if("string"==typeof n){let e;for(;e=FO.exec(n);)t.push(e[1]);FO.lastIndex=0}return t}function WC(n,t,e){const i=n.toString(),r=i.replace(FO,(s,c)=>{let d=t[c];return null==d&&(e.push(function VQ(n){return new a.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function GS(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const DX=/-+([a-z0-9])/g;function LO(n){return n.replace(DX,(...t)=>t[1].toUpperCase())}function IX(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ko(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function BQ(n){return new a.vHH(3004,!1)}()}}function oV(n,t){return window.getComputedStyle(n)[t]}function kX(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function RX(n,t,e){if(":"==n[0]){const p=function OX(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function JQ(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function XQ(n){return new a.vHH(3015,!1)}()),t;const r=i[1],s=i[2],c=i[3];t.push(aV(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&t.push(aV(c,r))}(i,e,t)):e.push(n),e}const YS=new Set(["true","1"]),KS=new Set(["false","0"]);function aV(n,t){const e=YS.has(n)||KS.has(n),i=YS.has(t)||KS.has(t);return(r,s)=>{let c="*"==n||n==r,d="*"==t||t==s;return!c&&e&&"boolean"==typeof r&&(c=r?YS.has(n):KS.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?YS.has(t):KS.has(t)),c&&d}}const PX=new RegExp("s*:selfs*,?","g");function VO(n,t,e,i){return new NX(n).build(t,e,i)}class NX{constructor(t){this._driver=t}build(t,e,i){const r=new VX(e);return this._resetContextStyleTimingState(r),Ko(this,GC(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function HQ(){return new a.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const p=d,_=p.name;_.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,s.push(this.visitState(p,e))}),p.name=_}else if(1==d.type){const p=this.visitTransition(d,e);i+=p.queryCount,r+=p.depCount,c.push(p)}else e.errors.push(function jQ(){return new a.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{sV(p).forEach(_=>{c.hasOwnProperty(_)||s.add(_)})})}),s.size&&(GS(s.values()),e.errors.push(function $Q(n,t){return new a.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ko(this,GC(t.animation),e);return{type:1,matchers:kX(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:jm(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ko(this,i,e)),options:jm(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(c=>{e.currentTime=i;const d=Ko(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:jm(t.options)}}visitAnimate(t,e){const i=function UX(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return BO(zS(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=BO(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=zS(e,t);return BO(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Dn({});if(5==s.type)r=this.visitKeyframes(s,e);else{let c=t.styles,d=!1;if(!c){d=!0;const _={};i.easing&&(_.easing=i.easing),c=Dn(_)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,e);p.isEmptyStep=d,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)"string"==typeof d?d===Zl?i.push(d):e.errors.push(new a.vHH(3002,!1)):i.push(tV(d));let s=!1,c=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!s))for(let p of d.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,p)=>{const _=e.collectedStyles.get(e.currentQuerySelector),b=_.get(p);let D=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(e.errors.push(function GQ(n,t,e,i,r){return new a.vHH(3010,!1)}()),D=!1),s=b.startTime),D&&_.set(p,{startTime:s,endTime:r}),e.options&&function EX(n,t,e){const i=t.params||{},r=sV(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function LQ(n){return new a.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function WQ(){return new a.vHH(3011,!1)}()),i;let s=0;const c=[];let d=!1,p=!1,_=0;const b=t.steps.map(Oe=>{const Ze=this._makeStyleAst(Oe,e);let Ke=null!=Ze.offset?Ze.offset:function BX(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ze.styles),Xe=0;return null!=Ke&&(s++,Xe=Ze.offset=Ke),p=p||Xe<0||Xe>1,d=d||Xe<_,_=Xe,c.push(Xe),Ze});p&&e.errors.push(function ZQ(){return new a.vHH(3012,!1)}()),d&&e.errors.push(function qQ(){return new a.vHH(3200,!1)}());const D=t.steps.length;let M=0;s>0&&s<D?e.errors.push(function YQ(){return new a.vHH(3202,!1)}()):0==s&&(M=1/(D-1));const P=D-1,L=e.currentTime,K=e.currentAnimateTimings,se=K.duration;return b.forEach((Oe,Ze)=>{const Ke=M>0?Ze==P?1:M*Ze:c[Ze],Xe=Ke*se;e.currentTime=L+K.delay+Xe,K.duration=Xe,this._validateStyleAst(Oe,e),Oe.offset=Ke,i.styles.push(Oe)}),i}visitReference(t,e){return{type:8,animation:Ko(this,GC(t.animation),e),options:jm(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:jm(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:jm(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function FX(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(PX,"")),n=n.replace(/@\*/g,$S).replace(/@\w+/g,e=>$S+"-"+e.slice(1)).replace(/:animating/g,PO),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Yo(e.collectedStyles,e.currentQuerySelector,new Map);const d=Ko(this,GC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:jm(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function KQ(){return new a.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:zS(t.timings,e.errors,!0);return{type:12,animation:Ko(this,GC(t.animation),e),timings:i,options:null}}}class VX{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jm(n){return n?(n=zC(n)).params&&(n.params=function LX(n){return n?zC(n):null}(n.params)):n={},n}function BO(n,t,e){return{duration:n,delay:t,easing:e}}function UO(n,t,e,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class QS{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const $X=new RegExp(":enter","g"),GX=new RegExp(":leave","g");function HO(n,t,e,i,r,s=new Map,c=new Map,d,p,_=[]){return(new WX).buildKeyframes(n,t,e,i,r,s,c,d,p,_)}class WX{buildKeyframes(t,e,i,r,s,c,d,p,_,b=[]){_=_||new QS;const D=new jO(t,e,_,r,s,b,[]);D.options=p;const M=p.delay?yd(p.delay):0;D.currentTimeline.delayNextStep(M),D.currentTimeline.setStyles([c],null,D.errors,p),Ko(this,i,D);const P=D.timelines.filter(L=>L.containsAnimation());if(P.length&&d.size){let L;for(let K=P.length-1;K>=0;K--){const se=P[K];if(se.element===e){L=se;break}}L&&!L.allowOnlyTimelineStyles()&&L.setStyles([d],null,D.errors,p)}return P.length?P.map(L=>L.buildKeyframes()):[UO(e,[],[],[],0,M,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const c="number"==typeof s?s:yd(WC(s,r?.params??{},e.errors));i.delayNextStep(c)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const c=null!=i.duration?yd(i.duration):null,d=null!=i.delay?yd(i.delay):null;return 0!==c&&t.forEach(p=>{const _=e.appendInstructionToTimeline(p,c,d);s=Math.max(s,_.duration+_.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Ko(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=XS);const c=yd(s.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>Ko(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?yd(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),Ko(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return zS(e.params?WC(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?yd(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=XS);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((_,b)=>{e.currentQueryIndex=b;const D=e.createSubContext(t.options,_);s&&D.delayNextStep(s),_===e.element&&(p=D.currentTimeline),Ko(this,t.animation,D),D.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),d=c*(e.currentQueryTotal-1);let p=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const b=e.currentTimeline;p&&b.delayNextStep(p);const D=b.currentTime;Ko(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const XS={};class jO{constructor(t,e,i,r,s,c,d,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=XS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new JS(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=yd(i.duration)),null!=i.delay&&(r.delay=yd(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=WC(s[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new jO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=XS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new ZX(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace($X,"."+this._enterClassName)).replace(GX,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),d.push(..._)}return!s&&0==d.length&&c.push(function QQ(n){return new a.vHH(3014,!1)}()),d}}class JS{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new JS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Zl),this._currentKeyframe.set(e,Zl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},c=function qX(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,Zl)}else _f(r,e)}),e}(t,this._globalTimelineStyles);for(let[d,p]of c){const _=WC(p,s,i);this._pendingStyles.set(d,_),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Zl),this._updateStyle(d,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const _=_f(d,new Map,this._backFill);_.forEach((b,D)=>{"!"===b?t.add(D):b===Zl&&e.add(D)}),i||_.set("offset",p/this.duration),r.push(_)});const s=t.size?GS(t.values()):[],c=e.size?GS(e.values()):[];if(i){const d=r[0],p=new Map(d);d.set("offset",0),p.set("offset",1),r=[d,p]}return UO(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class ZX extends JS{constructor(t,e,i,r,s,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=i+e,d=e/c,p=_f(t[0]);p.set("offset",0),s.push(p);const _=_f(t[0]);_.set("offset",uV(d)),s.push(_);const b=t.length-1;for(let D=1;D<=b;D++){let M=_f(t[D]);const P=M.get("offset");M.set("offset",uV((e+P*i)/c)),s.push(M)}i=c,e=0,r="",t=s}return UO(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function uV(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class $O{}const YX=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class KX extends $O{normalizePropertyName(t,e){return LO(t)}normalizeStyleValue(t,e,i,r){let s="";const c=i.toString().trim();if(YX.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function UQ(n,t){return new a.vHH(3005,!1)}())}return c+s}}function dV(n,t,e,i,r,s,c,d,p,_,b,D,M){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:_,postStyleProps:b,totalTime:D,errors:M}}const zO={};class hV{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function QX(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,c,d,p,_,b){const D=[],M=this.ast.options&&this.ast.options.params||zO,L=this.buildStyles(i,d&&d.params||zO,D),K=p&&p.params||zO,se=this.buildStyles(r,K,D),Oe=new Set,Ze=new Map,Ke=new Map,Xe="void"===r,Et={params:XX(K,M),delay:this.ast.options?.delay},At=b?[]:HO(t,e,this.ast.animation,s,c,L,se,Et,_,D);let cn=0;if(At.forEach(Jo=>{cn=Math.max(Jo.duration+Jo.delay,cn)}),D.length)return dV(e,this._triggerName,i,r,Xe,L,se,[],[],Ze,Ke,cn,D);At.forEach(Jo=>{const Cd=Jo.element,rU=Yo(Ze,Cd,new Set);Jo.preStyleProps.forEach(tg=>rU.add(tg));const Dw=Yo(Ke,Cd,new Set);Jo.postStyleProps.forEach(tg=>Dw.add(tg)),Cd!==e&&Oe.add(Cd)});const er=GS(Oe.values());return dV(e,this._triggerName,i,r,Xe,L,se,At,er,Ze,Ke,cn)}}function XX(n,t){const e=zC(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class JX{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=zC(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!==c&&(r[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,d)=>{c&&(c=WC(c,r,e));const p=this.normalizer.normalizePropertyName(d,e);c=this.normalizer.normalizeStyleValue(d,p,c,e),i.set(p,c)})}),i}}class tJ{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new JX(r.style,r.options&&r.options.params||{},i))}),fV(this.states,"true","1"),fV(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new hV(t,r,this.states))}),this.fallbackTransition=function nJ(n,t,e){return new hV(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function fV(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const iJ=new QS;class rJ{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=VO(this._driver,e,i,[]);if(i.length)throw function rX(n){return new a.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=G9(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let c;const d=new Map;if(s?(c=HO(this._driver,e,s,OO,HS,new Map,new Map,i,iJ,r),c.forEach(b=>{const D=Yo(d,b.element,new Map);b.postStyleProps.forEach(M=>D.set(M,null))})):(r.push(function sX(){return new a.vHH(3300,!1)}()),c=[]),r.length)throw function oX(n){return new a.vHH(3504,!1)}();d.forEach((b,D)=>{b.forEach((M,P)=>{b.set(P,this._driver.computeStyle(D,P,Zl))})});const _=gf(c.map(b=>{const D=d.get(b.element);return this._buildPlayer(b,new Map,D)}));return this._playersById.set(t,_),_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function aX(n){return new a.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=MO(e,"","","");return TO(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const pV="ng-animate-queued",GO="ng-animate-disabled",cJ=[],mV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qa="__ng_removed";class WO{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function pJ(n){return n??null}(i?t.value:t),i){const s=zC(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const ZC="void",ZO=new WO(ZC);class dJ{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Xa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function lX(n,t){return new a.vHH(3302,!1)}();if(null==i||0==i.length)throw function cX(n){return new a.vHH(3303,!1)}();if(!function mJ(n){return"start"==n||"done"==n}(i))throw function uX(n,t){return new a.vHH(3400,!1)}();const s=Yo(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};s.push(c);const d=Yo(this._engine.statesByElement,t,new Map);return d.has(e)||(Xa(t,jS),Xa(t,jS+"-"+e),d.set(e,ZO)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function dX(n){return new a.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),c=new qO(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(Xa(t,jS),Xa(t,jS+"-"+e),this._engine.statesByElement.set(t,d=new Map));let p=d.get(e);const _=new WO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),d.set(e,_),p||(p=ZO),_.value!==ZC&&p.value===_.value){if(!function yJ(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(p.params,_.params)){const K=[],se=s.matchStyles(p.value,p.params,K),Oe=s.matchStyles(_.value,_.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{Hm(t,se),Qc(t,Oe)})}return}const M=Yo(this._engine.playersByElement,t,[]);M.forEach(K=>{K.namespaceId==this.id&&K.triggerName==e&&K.queued&&K.destroy()});let P=s.matchTransition(p.value,_.value,t,_.params),L=!1;if(!P){if(!r)return;P=s.fallbackTransition,L=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:p,toState:_,player:c,isFallbackTransition:L}),L||(Xa(t,pV),c.onStart(()=>{By(t,pV)})),c.onDone(()=>{let K=this.players.indexOf(c);K>=0&&this.players.splice(K,1);const se=this._engine.playersByElement.get(t);if(se){let Oe=se.indexOf(c);Oe>=0&&se.splice(Oe,1)}}),this.players.push(c),M.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,$S,!0);i.forEach(r=>{if(r[Qa])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),c=new Map;if(s){const d=[];if(s.forEach((p,_)=>{if(c.set(_,p.value),this._triggers.has(_)){const b=this.trigger(t,_,ZC,r);b&&d.push(b)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&gf(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,_=i.get(c)||ZO,b=new WO(ZC),D=new qO(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:_,toState:b,player:D,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Qa];(!s||s===mV)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Xa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=MO(s,i.triggerName,i.fromState.value,i.toState.value);p._data=t,TO(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class hJ{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new dJ(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,d=this.driver.getParentElement(e);for(;d;){const p=r.get(d);if(p){const _=i.indexOf(p);i.splice(_+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(eT(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!eT(e))return;const s=e[Qa];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Xa(t,GO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),By(t,GO))}removeNode(t,e,i,r){if(eT(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Qa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return eT(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,$S,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,PO,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return gf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Qa];if(e&&e.setForRemoval){if(t[Qa]=mV,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(GO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Xa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?gf(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function hX(n){return new a.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new QS,r=[],s=new Map,c=[],d=new Map,p=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(bt=>{b.add(bt);const Ot=this.driver.query(bt,".ng-animate-queued",!0);for(let zt=0;zt<Ot.length;zt++)b.add(Ot[zt])});const D=this.bodyNode,M=Array.from(this.statesByElement.keys()),P=yV(M,this.collectedEnterElements),L=new Map;let K=0;P.forEach((bt,Ot)=>{const zt=OO+K++;L.set(Ot,zt),bt.forEach(An=>Xa(An,zt))});const se=[],Oe=new Set,Ze=new Set;for(let bt=0;bt<this.collectedLeaveElements.length;bt++){const Ot=this.collectedLeaveElements[bt],zt=Ot[Qa];zt&&zt.setForRemoval&&(se.push(Ot),Oe.add(Ot),zt.hasAnimation?this.driver.query(Ot,".ng-star-inserted",!0).forEach(An=>Oe.add(An)):Ze.add(Ot))}const Ke=new Map,Xe=yV(M,Array.from(Oe));Xe.forEach((bt,Ot)=>{const zt=HS+K++;Ke.set(Ot,zt),bt.forEach(An=>Xa(An,zt))}),t.push(()=>{P.forEach((bt,Ot)=>{const zt=L.get(Ot);bt.forEach(An=>By(An,zt))}),Xe.forEach((bt,Ot)=>{const zt=Ke.get(Ot);bt.forEach(An=>By(An,zt))}),se.forEach(bt=>{this.processLeaveNode(bt)})});const Et=[],At=[];for(let bt=this._namespaceList.length-1;bt>=0;bt--)this._namespaceList[bt].drainQueuedTransitions(e).forEach(zt=>{const An=zt.player,Ur=zt.element;if(Et.push(An),this.collectedEnterElements.length){const ps=Ur[Qa];if(ps&&ps.setForMove){if(ps.previousTriggersValues&&ps.previousTriggersValues.has(zt.triggerName)){const ng=ps.previousTriggersValues.get(zt.triggerName),rl=this.statesByElement.get(zt.element);if(rl&&rl.has(zt.triggerName)){const UT=rl.get(zt.triggerName);UT.value=ng,rl.set(zt.triggerName,UT)}}return void An.destroy()}}const nu=!D||!this.driver.containsElement(D,Ur),ea=Ke.get(Ur),Af=L.get(Ur),Oi=this._buildInstruction(zt,i,Af,ea,nu);if(Oi.errors&&Oi.errors.length)return void At.push(Oi);if(nu)return An.onStart(()=>Hm(Ur,Oi.fromStyles)),An.onDestroy(()=>Qc(Ur,Oi.toStyles)),void r.push(An);if(zt.isFallbackTransition)return An.onStart(()=>Hm(Ur,Oi.fromStyles)),An.onDestroy(()=>Qc(Ur,Oi.toStyles)),void r.push(An);const aU=[];Oi.timelines.forEach(ps=>{ps.stretchStartingKeyframe=!0,this.disabledNodes.has(ps.element)||aU.push(ps)}),Oi.timelines=aU,i.append(Ur,Oi.timelines),c.push({instruction:Oi,player:An,element:Ur}),Oi.queriedElements.forEach(ps=>Yo(d,ps,[]).push(An)),Oi.preStyleProps.forEach((ps,ng)=>{if(ps.size){let rl=p.get(ng);rl||p.set(ng,rl=new Set),ps.forEach((UT,vN)=>rl.add(vN))}}),Oi.postStyleProps.forEach((ps,ng)=>{let rl=_.get(ng);rl||_.set(ng,rl=new Set),ps.forEach((UT,vN)=>rl.add(vN))})});if(At.length){const bt=[];At.forEach(Ot=>{bt.push(function fX(n,t){return new a.vHH(3505,!1)}())}),Et.forEach(Ot=>Ot.destroy()),this.reportError(bt)}const cn=new Map,er=new Map;c.forEach(bt=>{const Ot=bt.element;i.has(Ot)&&(er.set(Ot,Ot),this._beforeAnimationBuild(bt.player.namespaceId,bt.instruction,cn))}),r.forEach(bt=>{const Ot=bt.element;this._getPreviousPlayers(Ot,!1,bt.namespaceId,bt.triggerName,null).forEach(An=>{Yo(cn,Ot,[]).push(An),An.destroy()})});const Jo=se.filter(bt=>bV(bt,p,_)),Cd=new Map;_V(Cd,this.driver,Ze,_,Zl).forEach(bt=>{bV(bt,p,_)&&Jo.push(bt)});const Dw=new Map;P.forEach((bt,Ot)=>{_V(Dw,this.driver,new Set(bt),p,"!")}),Jo.forEach(bt=>{const Ot=Cd.get(bt),zt=Dw.get(bt);Cd.set(bt,new Map([...Array.from(Ot?.entries()??[]),...Array.from(zt?.entries()??[])]))});const tg=[],sU=[],oU={};c.forEach(bt=>{const{element:Ot,player:zt,instruction:An}=bt;if(i.has(Ot)){if(b.has(Ot))return zt.onDestroy(()=>Qc(Ot,An.toStyles)),zt.disabled=!0,zt.overrideTotalTime(An.totalTime),void r.push(zt);let Ur=oU;if(er.size>1){let ea=Ot;const Af=[];for(;ea=ea.parentNode;){const Oi=er.get(ea);if(Oi){Ur=Oi;break}Af.push(ea)}Af.forEach(Oi=>er.set(Oi,Ur))}const nu=this._buildAnimation(zt.namespaceId,An,cn,s,Dw,Cd);if(zt.setRealPlayer(nu),Ur===oU)tg.push(zt);else{const ea=this.playersByElement.get(Ur);ea&&ea.length&&(zt.parentPlayer=gf(ea)),r.push(zt)}}else Hm(Ot,An.fromStyles),zt.onDestroy(()=>Qc(Ot,An.toStyles)),sU.push(zt),b.has(Ot)&&r.push(zt)}),sU.forEach(bt=>{const Ot=s.get(bt.element);if(Ot&&Ot.length){const zt=gf(Ot);bt.setRealPlayer(zt)}}),r.forEach(bt=>{bt.parentPlayer?bt.syncPlayerEvents(bt.parentPlayer):bt.destroy()});for(let bt=0;bt<se.length;bt++){const Ot=se[bt],zt=Ot[Qa];if(By(Ot,HS),zt&&zt.hasAnimation)continue;let An=[];if(d.size){let nu=d.get(Ot);nu&&nu.length&&An.push(...nu);let ea=this.driver.query(Ot,PO,!0);for(let Af=0;Af<ea.length;Af++){let Oi=d.get(ea[Af]);Oi&&Oi.length&&An.push(...Oi)}}const Ur=An.filter(nu=>!nu.destroyed);Ur.length?gJ(this,Ot,Ur):this.processLeaveNode(Ot)}return se.length=0,tg.forEach(bt=>{this.players.push(bt),bt.onDone(()=>{bt.destroy();const Ot=this.players.indexOf(bt);this.players.splice(Ot,1)}),bt.play()}),tg}elementContainsData(t,e){let i=!1;const r=e[Qa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const p=!s||s==ZC;d.forEach(_=>{_.queued||!p&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const s=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const _=p.element,b=_!==s,D=Yo(i,_,[]);this._getPreviousPlayers(_,b,c,d,e.toState).forEach(P=>{const L=P.getRealPlayer();L.beforeDestroy&&L.beforeDestroy(),P.destroy(),D.push(P)})}Hm(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,c){const d=e.triggerName,p=e.element,_=[],b=new Set,D=new Set,M=e.timelines.map(L=>{const K=L.element;b.add(K);const se=K[Qa];if(se&&se.removedBeforeQueried)return new Ah(L.duration,L.delay);const Oe=K!==p,Ze=function _J(n){const t=[];return vV(n,t),t}((i.get(K)||cJ).map(cn=>cn.getRealPlayer())).filter(cn=>!!cn.element&&cn.element===K),Ke=s.get(K),Xe=c.get(K),Et=G9(0,this._normalizer,0,L.keyframes,Ke,Xe),At=this._buildPlayer(L,Et,Ze);if(L.subTimeline&&r&&D.add(K),Oe){const cn=new qO(t,d,K);cn.setRealPlayer(At),_.push(cn)}return At});_.forEach(L=>{Yo(this.playersByQueriedElement,L.element,[]).push(L),L.onDone(()=>function fJ(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,L.element,L))}),b.forEach(L=>Xa(L,eV));const P=gf(M);return P.onDestroy(()=>{b.forEach(L=>By(L,eV)),Qc(p,e.toStyles)}),D.forEach(L=>{Yo(r,L,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Ah(t.duration,t.delay)}}class qO{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Ah,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>TO(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Yo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function eT(n){return n&&1===n.nodeType}function gV(n,t){const e=n.style.display;return n.style.display=t??"none",e}function _V(n,t,e,i,r){const s=[];e.forEach(p=>s.push(gV(p)));const c=[];i.forEach((p,_)=>{const b=new Map;p.forEach(D=>{const M=t.computeStyle(_,D,r);b.set(D,M),(!M||0==M.length)&&(_[Qa]=uJ,c.push(_))}),n.set(_,b)});let d=0;return e.forEach(p=>gV(p,s[d++])),c}function yV(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function c(d){if(!d)return 1;let p=s.get(d);if(p)return p;const _=d.parentNode;return p=e.has(_)?_:r.has(_)?1:c(_),s.set(d,p),p}return t.forEach(d=>{const p=c(d);1!==p&&e.get(p).push(d)}),e}function Xa(n,t){n.classList?.add(t)}function By(n,t){n.classList?.remove(t)}function gJ(n,t,e){gf(e).onDone(()=>n.processLeaveNode(t))}function vV(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof C_?vV(i.players,t):t.push(i)}}function bV(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class tT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new hJ(t,e,i),this._timelineEngine=new rJ(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],b=VO(this._driver,s,p,[]);if(p.length)throw function nX(n,t){return new a.vHH(3404,!1)}();d=function eJ(n,t,e){return new tJ(n,t,e)}(r,b,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,c]=W9(i);this._timelineEngine.command(s,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[c,d]=W9(i);return this._timelineEngine.listen(c,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let bJ=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Qc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qc(this._element,this._initialStyles),this._endStyles&&(Qc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Hm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hm(this._element,this._endStyles),this._endStyles=null),Qc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function YO(n){let t=null;return n.forEach((e,i)=>{(function CJ(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class CV{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:oV(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class wJ{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return K9(t,e)}getParentElement(t){return kO(t)}query(t,e,i){return Q9(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const _=new Map,b=c.filter(P=>P instanceof CV);(function SX(n,t){return 0===n||0===t})(i,r)&&b.forEach(P=>{P.currentSnapshot.forEach((L,K)=>_.set(K,L))});let D=function wX(n){return n.length?n[0]instanceof Map?n:n.map(t=>tV(t)):[]}(e).map(P=>_f(P));D=function TX(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,c)=>{i.has(c)||r.push(c),i.set(c,s)}),r.length)for(let s=1;s<t.length;s++){let c=t[s];r.forEach(d=>c.set(d,oV(n,d)))}}return t}(t,D,_);const M=function vJ(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=YO(t[0]),t.length>1&&(i=YO(t[t.length-1]))):t instanceof Map&&(e=YO(t)),e||i?new bJ(n,e,i):null}(t,D);return new CV(t,D,p,M)}}let EJ=(()=>{class n extends WE{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?qE(e):e;return wV(this._renderer,null,i,"register",[r]),new DJ(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class DJ extends class sx{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new IJ(this._id,t,e||{},this._renderer)}}class IJ{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return wV(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function wV(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const EV="@.disabled";let SJ=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=c?.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new DV("",s,this.engine),this._rendererCache.set(s,b)),b}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(c,d,e,b.name,b)};return i.data.animation.forEach(p),new TJ(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(tT),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class DV{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==EV?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class TJ extends DV{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==EV?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function AJ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function MJ(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let xJ=(()=>{class n extends tT{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ie),a.LFG(RO),a.LFG($O),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const IV=[{provide:WE,useClass:EJ},{provide:$O,useFactory:function kJ(){return new KX}},{provide:tT,useClass:xJ},{provide:a.FYo,useFactory:function RJ(n,t,e){return new SJ(n,t,e)},deps:[wl,tT,a.R0b]}],KO=[{provide:RO,useFactory:()=>new wJ},{provide:a.QbO,useValue:"BrowserAnimations"},...IV],SV=[{provide:RO,useClass:X9},{provide:a.QbO,useValue:"NoopAnimations"},...IV];let OJ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?SV:KO}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:KO,imports:[Mo]}),n})();const LJ={provide:new a.OlP("mat-menu-scroll-strategy"),deps:[As],useFactory:function FJ(n){return()=>n.scrollStrategies.reposition()}};let VJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[LJ],imports:[js,hn,P0,Lp,zu,hn]}),n})();const AV="@firebase/database",MV="0.13.10";let QO="";function xV(n){QO=n}class HJ{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,V.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,V.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class jJ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,V.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const kV=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new HJ(t)}}catch{}return new jJ},$m=kV("localStorage"),XO=kV("sessionStorage"),Uy=new Uo.Yd("@firebase/database"),RV=function(){let n=1;return function(){return n++}}(),OV=function(n){const t=(0,V.dS)(n),e=new V.gQ;e.update(t);const i=e.digest();return V.US.encodeByteArray(i)},qC=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=qC.apply(null,i):t+="object"==typeof i?(0,V.Wl)(i):i,t+=" "}return t};let zm=null,PV=!0;const NV=function(n,t){(0,V.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Uy.logLevel=Uo.in.VERBOSE,zm=Uy.log.bind(Uy),t&&XO.set("logging_enabled",!0)):"function"==typeof n?zm=n:(zm=null,XO.remove("logging_enabled"))},Vr=function(...n){if(!0===PV&&(PV=!1,null===zm&&!0===XO.get("logging_enabled")&&NV(!0)),zm){const t=qC.apply(null,n);zm(t)}},YC=function(n){return function(...t){Vr(n,...t)}},JO=function(...n){const t="FIREBASE INTERNAL ERROR: "+qC(...n);Uy.error(t)},Xc=function(...n){const t=`FIREBASE FATAL ERROR: ${qC(...n)}`;throw Uy.error(t),new Error(t)},fs=function(...n){const t="FIREBASE WARNING: "+qC(...n);Uy.warn(t)},iT=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},vd="[MIN_NAME]",Jc="[MAX_NAME]",Gm=function(n,t){if(n===t)return 0;if(n===vd||t===Jc)return-1;if(t===vd||n===Jc)return 1;{const e=rT(n),i=rT(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},GJ=function(n,t){return n===t?0:n<t?-1:1},KC=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,V.Wl)(t))},eP=function(n){if("object"!=typeof n||null===n)return(0,V.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,V.Wl)(t[i]),e+=":",e+=eP(n[t[i]]);return e+="}",e},FV=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Br(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const LV=function(n){(0,V.hu)(!iT(n),"Invalid JSON number");const i=1023;let r,s,c,d,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const b=_.join("");let D="";for(p=0;p<64;p+=8){let M=parseInt(b.substr(p,8),2).toString(16);1===M.length&&(M="0"+M),D+=M}return D.toLowerCase()},YJ=new RegExp("^-?(0*)\\d{1,10}$"),VV=-2147483648,tP=2147483647,rT=function(n){if(YJ.test(n)){const t=Number(n);if(t>=VV&&t<=tP)return t}return null},Hy=function(n){try{n()}catch(t){setTimeout(()=>{throw fs("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},QC=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class QJ{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){fs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class XJ{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Vr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fs(t)}}let XC=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const $V=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,WV="websocket",ZV="long_polling";class iP{constructor(t,e,i,r,s=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$m.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&$m.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function qV(n,t,e){let i;if((0,V.hu)("string"==typeof t,"typeof type must == string"),(0,V.hu)("object"==typeof e,"typeof params must == object"),t===WV)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==ZV)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function JJ(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Br(e,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class eee{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,V.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,V.p$)(this.counters_)}}const rP={},sP={};function oP(n){const t=n.toString();return rP[t]||(rP[t]=new eee),rP[t]}class nee{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Hy(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class yf{constructor(t,e,i,r,s,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=YC(t),this.stats_=oP(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),qV(e,ZV,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new nee(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,V.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new aP((...s)=>{const[c,d,p,_,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&$V.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){yf.forceAllow_=!0}static forceDisallow(){yf.forceDisallow_=!0}static isAvailable(){return!((0,V.Yr)()||!yf.forceAllow_&&(yf.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,V.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,V.h$)(e),r=FV(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,V.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,V.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class aP{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,V.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=RV(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=aP.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Vr("frame writing exception"),d.stack&&Vr(d.stack),Vr(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Vr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,V.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Vr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let oT=null;typeof MozWebSocket<"u"?oT=MozWebSocket:typeof WebSocket<"u"&&(oT=WebSocket);let jy=(()=>{class n{constructor(e,i,r,s,c,d,p){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=YC(this.connId),this.stats_=oP(i),this.connURL=n.connectionURL_(i,d,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,c){const d={v:"5"};return!(0,V.Yr)()&&typeof location<"u"&&location.hostname&&$V.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),qV(e,WV,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$m.set("previous_websocket_failure",!0);try{let r;if((0,V.Yr)()){r={headers:{"User-Agent":`Firebase/5/${QO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new oT(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==oT&&!n.forceDisallow_}static previouslyFailed(){return $m.isInMemoryStorage||!0===$m.get("previous_websocket_failure")}markConnectionHealthy(){$m.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,V.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,V.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,V.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=FV(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),tB=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[yf,jy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=jy&&jy.isAvailable();let r=i&&!jy.previouslyFailed();if(e.webSocketOnly&&(i||fs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[jy];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class lB{constructor(t,e,i,r,s,c,d,p,_,b){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=YC("c:"+this.id+":"),this.transportManager_=new tB(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=QC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=KC("t",t),i=KC("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=KC("t",t),i=KC("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=KC("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?JO("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):JO("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&fs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),QC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):QC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($m.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class cB{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class uB{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,V.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,V.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class aT extends uB{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,V.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new aT}getInitialEvent(t){return(0,V.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Hn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Rn(){return new Hn("")}function an(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function vf(n){return n.pieces_.length-n.pieceNum_}function ni(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Hn(n.pieces_,t)}function cP(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function JC(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function fB(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Hn(t,0)}function Di(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Hn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Hn(e,0)}function ln(n){return n.pieceNum_>=n.pieces_.length}function Bs(n,t){const e=an(n),i=an(t);if(null===e)return t;if(e===i)return Bs(ni(n),ni(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Dee(n,t){const e=JC(n,0),i=JC(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=Gm(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function uP(n,t){if(vf(n)!==vf(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Ja(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(vf(n)>vf(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Iee{constructor(t,e){this.errorPrefix_=e,this.parts_=JC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,V.ug)(this.parts_[i]);pB(this)}}function pB(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Wm(n))}function Wm(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class dP extends uB{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new dP}getInitialEvent(t){return(0,V.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const ew=1e3;let cT,Zm=(()=>{class n extends cB{constructor(e,i,r,s,c,d,p,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=YC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ew,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,V.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dP.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&aT.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,c={r:s,a:e,b:i};this.log_((0,V.Wl)(c)),(0,V.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new V.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,V.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,V.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,b=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(r,s),e.onComplete&&e.onComplete(b,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,V.r3)(e,"w")){const r=(0,V.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();fs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,V.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,V.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,V.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const c={p:e};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,V.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):JO("Unrecognized action received from server: "+(0,V.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,V.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ew,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ew,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ew),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,we.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let p=!1,_=null;const b=function(){_?_.close():(p=!0,s())};e.realtime_={close:b,sendRequest:function(P){(0,V.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(P)}};const M=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[P,L]=yield Promise.all([e.authTokenProvider_.getToken(M),e.appCheckTokenProvider_.getToken(M)]);p?Vr("getToken() completed but was canceled"):(Vr("getToken() completed. Creating connection."),e.authToken_=P&&P.accessToken,e.appCheckToken_=L&&L.token,_=new lB(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,K=>{fs(K+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(P){e.log_("Failed to get token: "+P),p||(e.repoInfo_.nodeAdmin&&fs(P),b())}}})()}interrupt(e){Vr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Vr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,V.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ew,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>eP(c)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Hn(e).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Vr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Vr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,V.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+QO.replace(/\./g,"-")]=1,(0,V.uI)()?e["framework.cordova"]=1:(0,V.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=aT.getInstance().currentlyOnline();return(0,V.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class fn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new fn(t,e)}}class lT{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new fn(vd,t),r=new fn(vd,e);return 0!==this.compare(i,r)}minPost(){return fn.MIN}}class _B extends lT{static get __EMPTY_NODE(){return cT}static set __EMPTY_NODE(t){cT=t}compare(t,e){return Gm(t.name,e.name)}isDefinedOn(t){throw(0,V.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return fn.MIN}maxPost(){return new fn(Jc,cT)}makePost(t,e){return(0,V.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new fn(t,cT)}toString(){return".key"}}const eu=new _B;class uT{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let fP,Jl=(()=>{class n{constructor(e,i,r,s,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??fo.EMPTY_NODE,this.right=c??fo.EMPTY_NODE}copy(e,i,r,s,c){return new n(e??this.key,i??this.value,r??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return fo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return fo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class fo{constructor(t,e=fo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new fo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Jl.BLACK,null,null))}remove(t){return new fo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Jl.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new uT(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new uT(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new uT(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new uT(this.root_,null,this.comparator_,!0,t)}}function Oee(n,t){return Gm(n.name,t.name)}function hP(n,t){return Gm(n,t)}fo.EMPTY_NODE=new class Ree{copy(t,e,i,r,s){return this}insert(t,e,i){return new Jl(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const yB=function(n){return"number"==typeof n?"number:"+LV(n):"string:"+n},vB=function(n){if(n.isLeafNode()){const t=n.val();(0,V.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,V.r3)(t,".sv"),"Priority must be a string or number.")}else(0,V.hu)(n===fP||n.isEmpty(),"priority of unexpected type.");(0,V.hu)(n===fP||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let bB,CB,wB,$y=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,V.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),vB(this.priorityNode_)}static set __childrenNodeConstructor(e){bB=e}static get __childrenNodeConstructor(){return bB}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ln(e)?this:".priority"===an(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=an(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,V.hu)(".priority"!==r||1===vf(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ni(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+yB(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?LV(this.value_):this.value_,this.lazyHash_=OV(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,V.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,V.hu)(s>=0,"Unknown leaf type: "+i),(0,V.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const di=new class Lee extends lT{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?Gm(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return fn.MIN}maxPost(){return new fn(Jc,new $y("[PRIORITY-POST]",wB))}makePost(t,e){const i=CB(t);return new fn(e,new $y("[PRIORITY-POST]",i))}toString(){return".priority"}},Vee=Math.log(2);class Bee{constructor(t){this.count=parseInt(Math.log(t+1)/Vee,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const dT=function(n,t,e,i){n.sort(t);const r=function(p,_){const b=_-p;let D,M;if(0===b)return null;if(1===b)return D=n[p],M=e?e(D):D,new Jl(M,D.node,Jl.BLACK,null,null);{const P=parseInt(b/2,10)+p,L=r(p,P),K=r(P+1,_);return D=n[P],M=e?e(D):D,new Jl(M,D.node,Jl.BLACK,L,K)}},d=function(p){let _=null,b=null,D=n.length;const M=function(L,K){const se=D-L,Oe=D;D-=L;const Ze=r(se+1,Oe),Ke=n[se],Xe=e?e(Ke):Ke;P(new Jl(Xe,Ke.node,K,null,Ze))},P=function(L){_?(_.left=L,_=L):(b=L,_=L)};for(let L=0;L<p.count;++L){const K=p.nextBitIsOne(),se=Math.pow(2,p.count-(L+1));K?M(se,Jl.BLACK):(M(se,Jl.BLACK),M(se,Jl.RED))}return b}(new Bee(n.length));return new fo(i||t,d)};let pP;const zy={};class bd{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,V.hu)(zy&&di,"ChildrenNode.ts has not been loaded"),pP=pP||new bd({".priority":zy},{".priority":di}),pP}get(t){const e=(0,V.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof fo?e:null}hasIndex(t){return(0,V.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,V.hu)(t!==eu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(fn.Wrap);let d,c=s.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?dT(i,t.getCompare()):zy;const p=t.toString(),_=Object.assign({},this.indexSet_);_[p]=t;const b=Object.assign({},this.indexes_);return b[p]=d,new bd(b,_)}addToIndexes(t,e){const i=(0,V.UI)(this.indexes_,(r,s)=>{const c=(0,V.DV)(this.indexSet_,s);if((0,V.hu)(c,"Missing index implementation for "+s),r===zy){if(c.isDefinedOn(t.node)){const d=[],p=e.getIterator(fn.Wrap);let _=p.getNext();for(;_;)_.name!==t.name&&d.push(_),_=p.getNext();return d.push(t),dT(d,c.getCompare())}return zy}{const d=e.get(t.name);let p=r;return d&&(p=p.remove(new fn(t.name,d))),p.insert(t,t.node)}});return new bd(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,V.UI)(this.indexes_,r=>{if(r===zy)return r;{const s=e.get(t.name);return s?r.remove(new fn(t.name,s)):r}});return new bd(i,this.indexSet_)}}let tw,Qt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&vB(this.priorityNode_),this.children_.isEmpty()&&(0,V.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return tw||(tw=new n(new fo(hP),null,bd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||tw}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?tw:i}}getChild(e){const i=an(e);return null===i?this:this.getImmediateChild(i).getChild(ni(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,V.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new fn(e,i);let s,c;i.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?tw:this.priorityNode_;return new n(s,d,c)}}updateChild(e,i){const r=an(e);if(null===r)return i;{(0,V.hu)(".priority"!==an(e)||1===vf(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ni(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(di,(d,p)=>{i[d]=p.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!e&&c&&s<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+yB(this.getPriority().val())+":"),this.forEachChild(di,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":OV(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new fn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new fn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new fn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,fn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,fn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nw?-1:0}withIndex(e){if(e===eu||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===eu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(di),s=i.getIterator(di);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===eu?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const nw=new class Uee extends Qt{constructor(){super(new fo(hP),Qt.EMPTY_NODE,bd.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Qt.EMPTY_NODE}isEmpty(){return!1}};function Ri(n,t=null){if(null===n)return Qt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,V.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new $y(n,Ri(t));if(n instanceof Array){let e=Qt.EMPTY_NODE;return Br(n,(i,r)=>{if((0,V.r3)(n,i)&&"."!==i.substring(0,1)){const s=Ri(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(Ri(t))}{const e=[];let i=!1;if(Br(n,(c,d)=>{if("."!==c.substring(0,1)){const p=Ri(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new fn(c,p)))}}),0===e.length)return Qt.EMPTY_NODE;const s=dT(e,Oee,c=>c.name,hP);if(i){const c=dT(e,di.getCompare());return new Qt(s,Ri(t),new bd({".priority":c},{".priority":di}))}return new Qt(s,Ri(t),bd.Default)}}Object.defineProperties(fn,{MIN:{value:new fn(vd,Qt.EMPTY_NODE)},MAX:{value:new fn(Jc,nw)}}),_B.__EMPTY_NODE=Qt.EMPTY_NODE,$y.__childrenNodeConstructor=Qt,function Pee(n){fP=n}(nw),function Fee(n){wB=n}(nw),function Nee(n){CB=n}(Ri);class mP extends lT{constructor(t){super(),this.indexPath_=t,(0,V.hu)(!ln(t)&&".priority"!==an(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?Gm(t.name,e.name):s}makePost(t,e){const i=Ri(t),r=Qt.EMPTY_NODE.updateChild(this.indexPath_,i);return new fn(e,r)}maxPost(){const t=Qt.EMPTY_NODE.updateChild(this.indexPath_,nw);return new fn(Jc,t)}toString(){return JC(this.indexPath_,0).join("/")}}const gP=new class jee extends lT{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Gm(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return fn.MIN}maxPost(){return fn.MAX}makePost(t,e){const i=Ri(t);return new fn(e,i)}toString(){return".value"}},Gy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$ee=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Gy.charAt(e%64),e=Math.floor(e/64);(0,V.hu)(0===e,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=Gy.charAt(t[r]);return(0,V.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),IB=function(n){if(n===""+tP)return"-";const t=rT(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Jc;const s=Gy.charAt(Gy.indexOf(e[i])+1);return e[i]=s,e.slice(0,i+1).join("")},SB=function(n){if(n===""+VV)return vd;const t=rT(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+tP:(delete e[e.length-1],e.join("")):(e[e.length-1]=Gy.charAt(Gy.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function TB(n){return{type:"value",snapshotNode:n}}function Wy(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function iw(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function rw(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class yP{constructor(t){this.index_=t}updateChild(t,e,i,r,s,c){(0,V.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(iw(e,d)):(0,V.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Wy(e,i)):c.trackChildChange(rw(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(di,(r,s)=>{e.hasChild(r)||i.trackChildChange(iw(r,s))}),e.isLeafNode()||e.forEachChild(di,(r,s)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(s)||i.trackChildChange(rw(r,s,c))}else i.trackChildChange(Wy(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Qt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class sw{constructor(t){this.indexedFilter_=new yP(t.getIndex()),this.index_=t.getIndex(),this.startPost_=sw.getStartPost_(t),this.endPost_=sw.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,c){return this.matches(new fn(e,i))||(i=Qt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Qt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Qt.EMPTY_NODE);const s=this;return e.forEachChild(di,(c,d)=>{s.matches(new fn(c,d))||(r=r.updateImmediateChild(c,Qt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Gee{constructor(t){this.rangedFilter_=new sw(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,c){return this.rangedFilter_.matches(new fn(e,i))||(i=Qt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,c):this.fullLimitUpdateChild_(t,e,i,s,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Qt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Qt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,p;if(r=e.withIndex(this.index_),r=r.updatePriority(Qt.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const D=this.index_.getCompare();d=(M,P)=>D(P,M)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let _=0,b=!1;for(;p.hasNext();){const D=p.getNext();!b&&d(s,D)<=0&&(b=!0),b&&_<this.limit_&&d(D,c)<=0?_++:r=r.updateImmediateChild(D.name,Qt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let c;if(this.reverse_){const D=this.index_.getCompare();c=(M,P)=>D(P,M)}else c=this.index_.getCompare();const d=t;(0,V.hu)(d.numChildren()===this.limit_,"");const p=new fn(e,i),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(p);if(d.hasChild(e)){const D=d.getImmediateChild(e);let M=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=M&&(M.name===e||d.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const P=null==M?1:c(M,p);if(b&&!i.isEmpty()&&P>=0)return s?.trackChildChange(rw(e,i,D)),d.updateImmediateChild(e,i);{s?.trackChildChange(iw(e,D));const K=d.updateImmediateChild(e,Qt.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(s?.trackChildChange(Wy(M.name,M.node)),K.updateImmediateChild(M.name,M.node)):K}}return i.isEmpty()?t:b&&c(_,p)>=0?(null!=s&&(s.trackChildChange(iw(_.name,_.node)),s.trackChildChange(Wy(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(_.name,Qt.EMPTY_NODE)):t}}class hT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=di}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,V.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===di}copy(){const t=new hT;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function vP(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function bP(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function fT(n,t){const e=n.copy();return e.index_=t,e}function AB(n){const t={};if(n.isDefault())return t;let e;return n.index_===di?e="$priority":n.index_===gP?e="$value":n.index_===eu?e="$key":((0,V.hu)(n.index_ instanceof mP,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,V.Wl)(e),n.startSet_&&(t.startAt=(0,V.Wl)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,V.Wl)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,V.Wl)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,V.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function MB(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==di&&(t.i=n.index_.toString()),t}class pT extends cB{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=YC("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,V.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=pT.getListenId_(t,i),d={};this.listens_[c]=d;const p=AB(t._queryParams);this.restRequest_(s+".json",p,(_,b)=>{let D=b;if(404===_&&(D=null,_=null),null===_&&this.onDataUpdate_(s,D,!1,i),(0,V.DV)(this.listens_,c)===d){let M;M=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(M,null)}})}unlisten(t,e){const i=pT.getListenId_(t,e);delete this.listens_[i]}get(t){const e=AB(t._queryParams),i=t._path.toString(),r=new V.BH;return this.restRequest_(i+".json",e,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,V.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,V.cI)(d.responseText)}catch{fs("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&fs("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class Qee{constructor(){this.rootNode_=Qt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function mT(){return{value:null,children:new Map}}function Zy(n,t,e){if(ln(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=an(t);n.children.has(i)||n.children.set(i,mT()),Zy(n.children.get(i),t=ni(t),e)}}function CP(n,t){if(ln(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(di,(i,r)=>{Zy(n,new Hn(i),r)}),CP(n,t)}}if(n.children.size>0){const e=an(t);return t=ni(t),n.children.has(e)&&CP(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function wP(n,t,e){null!==n.value?e(t,n.value):function Xee(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{wP(r,new Hn(t.toString()+"/"+i),e)})}class Jee{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Br(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class nte{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Jee(t);const i=1e4+2e4*Math.random();QC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Br(t,(r,s)=>{s>0&&(0,V.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),QC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var el=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(el||(el={})),el))();function IP(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class gT{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=el.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(ln(this.path)){if(null!=this.affectedTree.value)return(0,V.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Hn(t));return new gT(Rn(),e,this.revert)}}return(0,V.hu)(an(this.path)===t,"operationForChild called for unrelated child."),new gT(ni(this.path),this.affectedTree,this.revert)}}class ow{constructor(t,e){this.source=t,this.path=e,this.type=el.LISTEN_COMPLETE}operationForChild(t){return ln(this.path)?new ow(this.source,Rn()):new ow(this.source,ni(this.path))}}class qm{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=el.OVERWRITE}operationForChild(t){return ln(this.path)?new qm(this.source,Rn(),this.snap.getImmediateChild(t)):new qm(this.source,ni(this.path),this.snap)}}class qy{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=el.MERGE}operationForChild(t){if(ln(this.path)){const e=this.children.subtree(new Hn(t));return e.isEmpty()?null:e.value?new qm(this.source,Rn(),e.value):new qy(this.source,Rn(),e)}return(0,V.hu)(an(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new qy(this.source,ni(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class bf{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ln(t))return this.isFullyInitialized()&&!this.filtered_;const e=an(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class ite{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function aw(n,t,e,i,r,s){const c=i.filter(d=>d.type===e);c.sort((d,p)=>function ote(n,t,e){if(null==t.childName||null==e.childName)throw(0,V.g5)("Should only compare child_ events.");const i=new fn(t.childName,t.snapshotNode),r=new fn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function ste(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(_=>{_.respondsTo(d.type)&&t.push(_.createEvent(p,n.query_))})})}function _T(n,t){return{eventCache:n,serverCache:t}}function lw(n,t,e,i){return _T(new bf(t,e,i),n.serverCache)}function kB(n,t,e,i){return _T(n.eventCache,new bf(t,e,i))}function yT(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ym(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let SP;class hi{constructor(t,e=(()=>(SP||(SP=new fo(GJ)),SP))()){this.value=t,this.children=e}static fromObject(t){let e=new hi(null);return Br(t,(i,r)=>{e=e.set(new Hn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Rn(),value:this.value};if(ln(t))return null;{const i=an(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(ni(t),e);return null!=s?{path:Di(new Hn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ln(t))return this;{const e=an(t),i=this.children.get(e);return null!==i?i.subtree(ni(t)):new hi(null)}}set(t,e){if(ln(t))return new hi(e,this.children);{const i=an(t),s=(this.children.get(i)||new hi(null)).set(ni(t),e),c=this.children.insert(i,s);return new hi(this.value,c)}}remove(t){if(ln(t))return this.children.isEmpty()?new hi(null):new hi(null,this.children);{const e=an(t),i=this.children.get(e);if(i){const r=i.remove(ni(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new hi(null):new hi(this.value,s)}return this}}get(t){if(ln(t))return this.value;{const e=an(t),i=this.children.get(e);return i?i.get(ni(t)):null}}setTree(t,e){if(ln(t))return e;{const i=an(t),s=(this.children.get(i)||new hi(null)).setTree(ni(t),e);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new hi(this.value,c)}}fold(t){return this.fold_(Rn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Di(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Rn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(ln(t))return null;{const s=an(t),c=this.children.get(s);return c?c.findOnPath_(ni(t),Di(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Rn(),e)}foreachOnPath_(t,e,i){if(ln(t))return this;{this.value&&i(e,this.value);const r=an(t),s=this.children.get(r);return s?s.foreachOnPath_(ni(t),Di(e,r),i):new hi(null)}}foreach(t){this.foreach_(Rn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Di(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class ec{constructor(t){this.writeTree_=t}static empty(){return new ec(new hi(null))}}function cw(n,t,e){if(ln(t))return new ec(new hi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const c=Bs(r,t);return s=s.updateChild(c,e),new ec(n.writeTree_.set(r,s))}{const r=new hi(e),s=n.writeTree_.setTree(t,r);return new ec(s)}}}function TP(n,t,e){let i=n;return Br(e,(r,s)=>{i=cw(i,Di(t,r),s)}),i}function RB(n,t){if(ln(t))return ec.empty();{const e=n.writeTree_.setTree(t,new hi(null));return new ec(e)}}function AP(n,t){return null!=Km(n,t)}function Km(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Bs(e.path,t)):null}function OB(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(di,(i,r)=>{t.push(new fn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new fn(i,r.value))}),t}function Cf(n,t){if(ln(t))return n;{const e=Km(n,t);return new ec(null!=e?new hi(e):n.writeTree_.subtree(t))}}function MP(n){return n.writeTree_.isEmpty()}function Yy(n,t){return PB(Rn(),n.writeTree_,t)}function PB(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,V.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=PB(Di(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Di(n,".priority"),i)),e}}function vT(n,t){return BB(t,n)}function hte(n,t){if(n.snap)return Ja(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ja(Di(n.path,e),t))return!0;return!1}function pte(n){return n.visible}function NB(n,t,e){let i=ec.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const c=s.path;let d;if(s.snap)Ja(e,c)?(d=Bs(e,c),i=cw(i,d,s.snap)):Ja(c,e)&&(d=Bs(c,e),i=cw(i,Rn(),s.snap.getChild(d)));else{if(!s.children)throw(0,V.g5)("WriteRecord should have .snap or .children");if(Ja(e,c))d=Bs(e,c),i=TP(i,d,s.children);else if(Ja(c,e))if(d=Bs(c,e),ln(d))i=TP(i,Rn(),s.children);else{const p=(0,V.DV)(s.children,an(d));if(p){const _=p.getChild(ni(d));i=cw(i,Rn(),_)}}}}}return i}function FB(n,t,e,i,r){if(i||r){const s=Cf(n.visibleWrites,t);return!r&&MP(s)?e:r||null!=e||AP(s,Rn())?Yy(NB(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(Ja(_.path,t)||Ja(t,_.path))},t),e||Qt.EMPTY_NODE):null}{const s=Km(n.visibleWrites,t);if(null!=s)return s;{const c=Cf(n.visibleWrites,t);return MP(c)?e:null!=e||AP(c,Rn())?Yy(c,e||Qt.EMPTY_NODE):null}}}function bT(n,t,e,i){return FB(n.writeTree,n.treePath,t,e,i)}function xP(n,t){return function mte(n,t,e){let i=Qt.EMPTY_NODE;const r=Km(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(di,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(e){const s=Cf(n.visibleWrites,t);return e.forEachChild(di,(c,d)=>{const p=Yy(Cf(s,new Hn(c)),d);i=i.updateImmediateChild(c,p)}),OB(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return OB(Cf(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function LB(n,t,e,i){return function gte(n,t,e,i,r){(0,V.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Di(t,e);if(AP(n.visibleWrites,s))return null;{const c=Cf(n.visibleWrites,s);return MP(c)?r.getChild(e):Yy(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function CT(n,t){return function yte(n,t){return Km(n.visibleWrites,t)}(n.writeTree,Di(n.treePath,t))}function kP(n,t,e){return function _te(n,t,e,i){const r=Di(t,e),s=Km(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?Yy(Cf(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function VB(n,t){return BB(Di(n.treePath,t),n.writeTree)}function BB(n,t){return{treePath:n,writeTree:t}}class wte{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,V.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,V.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,rw(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,iw(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,Wy(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,V.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,rw(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const UB=new class Ete{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class RP{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new bf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kP(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ym(this.viewCache_),s=function Cte(n,t,e,i,r,s){return function vte(n,t,e,i,r,s,c){let d;const p=Cf(n.visibleWrites,t),_=Km(p,Rn());if(null!=_)d=_;else{if(null==e)return[];d=Yy(p,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const b=[],D=c.getCompare(),M=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let P=M.getNext();for(;P&&b.length<r;)0!==D(P,i)&&b.push(P),P=M.getNext();return b}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function HB(n,t,e,i,r,s){const c=t.eventCache;if(null!=CT(i,e))return t;{let d,p;if(ln(e))if((0,V.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=Ym(t),D=xP(i,_ instanceof Qt?_:Qt.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),D,s)}else{const _=bT(i,Ym(t));d=n.filter.updateFullNode(t.eventCache.getNode(),_,s)}else{const _=an(e);if(".priority"===_){(0,V.hu)(1===vf(e),"Can't have a priority with additional path components");const b=c.getNode();p=t.serverCache.getNode();const D=LB(i,e,b,p);d=null!=D?n.filter.updatePriority(b,D):c.getNode()}else{const b=ni(e);let D;if(c.isCompleteForChild(_)){p=t.serverCache.getNode();const M=LB(i,e,c.getNode(),p);D=null!=M?c.getNode().getImmediateChild(_).updateChild(b,M):c.getNode().getImmediateChild(_)}else D=kP(i,_,t.serverCache);d=null!=D?n.filter.updateChild(c.getNode(),_,D,b,r,s):c.getNode()}}return lw(t,d,c.isFullyInitialized()||ln(e),n.filter.filtersNodes())}}function wT(n,t,e,i,r,s,c,d){const p=t.serverCache;let _;const b=c?n.filter:n.filter.getIndexedFilter();if(ln(e))_=b.updateFullNode(p.getNode(),i,null);else if(b.filtersNodes()&&!p.isFiltered()){const P=p.getNode().updateChild(e,i);_=b.updateFullNode(p.getNode(),P,null)}else{const P=an(e);if(!p.isCompleteForPath(e)&&vf(e)>1)return t;const L=ni(e),se=p.getNode().getImmediateChild(P).updateChild(L,i);_=".priority"===P?b.updatePriority(p.getNode(),se):b.updateChild(p.getNode(),P,se,L,UB,null)}const D=kB(t,_,p.isFullyInitialized()||ln(e),b.filtersNodes());return HB(n,D,e,r,new RP(r,D,s),d)}function OP(n,t,e,i,r,s,c){const d=t.eventCache;let p,_;const b=new RP(r,t,s);if(ln(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,c),p=lw(t,_,!0,n.filter.filtersNodes());else{const D=an(e);if(".priority"===D)_=n.filter.updatePriority(t.eventCache.getNode(),i),p=lw(t,_,d.isFullyInitialized(),d.isFiltered());else{const M=ni(e),P=d.getNode().getImmediateChild(D);let L;if(ln(M))L=i;else{const K=b.getCompleteChild(D);L=null!=K?".priority"===cP(M)&&K.getChild(fB(M)).isEmpty()?K:K.updateChild(M,i):Qt.EMPTY_NODE}p=P.equals(L)?t:lw(t,n.filter.updateChild(d.getNode(),D,L,M,b,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function jB(n,t){return n.eventCache.isCompleteForChild(t)}function $B(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function PP(n,t,e,i,r,s,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,p=t;_=ln(e)?i:new hi(null).setTree(e,i);const b=t.serverCache.getNode();return _.children.inorderTraversal((D,M)=>{if(b.hasChild(D)){const L=$B(0,t.serverCache.getNode().getImmediateChild(D),M);p=wT(n,p,new Hn(D),L,r,s,c,d)}}),_.children.inorderTraversal((D,M)=>{const P=!t.serverCache.isCompleteForChild(D)&&null===M.value;if(!b.hasChild(D)&&!P){const K=$B(0,t.serverCache.getNode().getImmediateChild(D),M);p=wT(n,p,new Hn(D),K,r,s,c,d)}}),p}class Rte{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new yP(i.getIndex()),s=function Wee(n){return n.loadsAllData()?new yP(n.getIndex()):n.hasLimit()?new Gee(n):new sw(n)}(i);this.processor_=function Dte(n){return{filter:n}}(s);const c=e.serverCache,d=e.eventCache,p=r.updateFullNode(Qt.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(Qt.EMPTY_NODE,d.getNode(),null),b=new bf(p,c.isFullyInitialized(),r.filtersNodes()),D=new bf(_,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=_T(D,b),this.eventGenerator_=new ite(this.query_)}get query(){return this.query_}}function Nte(n,t){const e=Ym(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!ln(t)&&!e.getImmediateChild(an(t)).isEmpty())?e.getChild(t):null}function zB(n){return 0===n.eventRegistrations_.length}function GB(n,t,e){const i=[];if(e){(0,V.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function WB(n,t,e,i){t.type===el.MERGE&&null!==t.source.queryId&&((0,V.hu)(Ym(n.viewCache_),"We should always have a full cache before handling merges"),(0,V.hu)(yT(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Ste(n,t,e,i,r){const s=new wte;let c,d;if(e.type===el.OVERWRITE){const _=e;_.source.fromUser?c=OP(n,t,_.path,_.snap,i,r,s):((0,V.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered()&&!ln(_.path),c=wT(n,t,_.path,_.snap,i,r,d,s))}else if(e.type===el.MERGE){const _=e;_.source.fromUser?c=function Ate(n,t,e,i,r,s,c){let d=t;return i.foreach((p,_)=>{const b=Di(e,p);jB(t,an(b))&&(d=OP(n,d,b,_,r,s,c))}),i.foreach((p,_)=>{const b=Di(e,p);jB(t,an(b))||(d=OP(n,d,b,_,r,s,c))}),d}(n,t,_.path,_.children,i,r,s):((0,V.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered(),c=PP(n,t,_.path,_.children,i,r,d,s))}else if(e.type===el.ACK_USER_WRITE){const _=e;c=_.revert?function kte(n,t,e,i,r,s){let c;if(null!=CT(i,e))return t;{const d=new RP(i,t,r),p=t.eventCache.getNode();let _;if(ln(e)||".priority"===an(e)){let b;if(t.serverCache.isFullyInitialized())b=bT(i,Ym(t));else{const D=t.serverCache.getNode();(0,V.hu)(D instanceof Qt,"serverChildren would be complete if leaf node"),b=xP(i,D)}_=n.filter.updateFullNode(p,b,s)}else{const b=an(e);let D=kP(i,b,t.serverCache);null==D&&t.serverCache.isCompleteForChild(b)&&(D=p.getImmediateChild(b)),_=null!=D?n.filter.updateChild(p,b,D,ni(e),d,s):t.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,Qt.EMPTY_NODE,ni(e),d,s):p,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=bT(i,Ym(t)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=CT(i,Rn()),lw(t,_,c,n.filter.filtersNodes())}}(n,t,_.path,i,r,s):function Mte(n,t,e,i,r,s,c){if(null!=CT(r,e))return t;const d=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(ln(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return wT(n,t,e,p.getNode().getChild(e),r,s,d,c);if(ln(e)){let _=new hi(null);return p.getNode().forEachChild(eu,(b,D)=>{_=_.set(new Hn(b),D)}),PP(n,t,e,_,r,s,d,c)}return t}{let _=new hi(null);return i.foreach((b,D)=>{const M=Di(e,b);p.isCompleteForPath(M)&&(_=_.set(b,p.getNode().getChild(M)))}),PP(n,t,e,_,r,s,d,c)}}(n,t,_.path,_.affectedTree,i,r,s)}else{if(e.type!==el.LISTEN_COMPLETE)throw(0,V.g5)("Unknown operation type: "+e.type);c=function xte(n,t,e,i,r){const s=t.serverCache;return HB(n,kB(t,s.getNode(),s.isFullyInitialized()||ln(e),s.isFiltered()),e,i,UB,r)}(n,t,e.path,i,s)}const p=s.getChanges();return function Tte(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=yT(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(TB(yT(t)))}}(t,c,p),{viewCache:c,changes:p}}(n.processor_,r,t,e,i);return function Ite(n,t){(0,V.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,V.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,V.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,ZB(n,s.changes,s.viewCache.eventCache.getNode(),null)}function ZB(n,t,e,i){return function rte(n,t,e,i){const r=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function zee(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),aw(n,r,"child_removed",t,i,e),aw(n,r,"child_added",t,i,e),aw(n,r,"child_moved",s,i,e),aw(n,r,"child_changed",t,i,e),aw(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let ET,IT;class qB{constructor(){this.views=new Map}}function NP(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,V.hu)(null!=s,"SyncTree gave us an op for an invalid query."),WB(s,t,e,i)}{let s=[];for(const c of n.views.values())s=s.concat(WB(c,t,e,i));return s}}function YB(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=bT(e,r?i:null),p=!1;d?p=!0:i instanceof Qt?(d=xP(e,i),p=!1):(d=Qt.EMPTY_NODE,p=!1);const _=_T(new bf(d,p,!1),new bf(i,r,!1));return new Rte(t,_)}return c}function KB(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function wf(n,t){let e=null;for(const i of n.views.values())e=e||Nte(i,t);return e}function QB(n,t){return t._queryParams.loadsAllData()?DT(n):n.views.get(t._queryIdentifier)}function XB(n,t){return null!=QB(n,t)}function Ef(n){return null!=DT(n)}function DT(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Gte=1;class JB{constructor(t){this.listenProvider_=t,this.syncPointTree_=new hi(null),this.pendingWriteTree_=function bte(){return{visibleWrites:ec.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function FP(n,t,e,i,r){return function lte(n,t,e,i,r){(0,V.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=cw(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Ky(n,new qm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Df(n,t,e=!1){const i=function ute(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function dte(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,V.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&hte(d,i.path)?r=!1:Ja(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function fte(n){n.visibleWrites=NB(n.allWrites,pte,Rn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=RB(n.visibleWrites,i.path):Br(i.children,p=>{n.visibleWrites=RB(n.visibleWrites,Di(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let s=new hi(null);return null!=i.snap?s=s.set(Rn(),!0):Br(i.children,c=>{s=s.set(new Hn(c),!0)}),Ky(n,new gT(i.path,s,e))}return[]}function uw(n,t,e){return Ky(n,new qm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function ST(n,t,e,i,r=!1){const s=t._path,c=n.syncPointTree_.get(s);let d=[];if(c&&("default"===t._queryIdentifier||XB(c,t))){const p=function jte(n,t,e,i){const r=t._queryIdentifier,s=[];let c=[];const d=Ef(n);if("default"===r)for(const[p,_]of n.views.entries())c=c.concat(GB(_,e,i)),zB(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||s.push(_.query));else{const p=n.views.get(r);p&&(c=c.concat(GB(p,e,i)),zB(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return d&&!Ef(n)&&s.push(new(function Bte(){return(0,V.hu)(ET,"Reference.ts has not been loaded"),ET}())(t._repo,t._path)),{removed:s,events:c}}(c,t,e,i);(function Ute(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const _=p.removed;if(d=p.events,!r){const b=-1!==_.findIndex(M=>M._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(s,(M,P)=>Ef(P));if(b&&!D){const M=n.syncPointTree_.subtree(s);if(!M.isEmpty()){const P=function Xte(n){return n.fold((t,e,i)=>{if(e&&Ef(e))return[DT(e)];{let r=[];return e&&(r=KB(e)),Br(i,(s,c)=>{r=r.concat(c)}),r}})}(M);for(let L=0;L<P.length;++L){const K=P[L],se=K.query,Oe=i7(n,K);n.listenProvider_.startListening(hw(se),dw(n,se),Oe.hashFn,Oe.onComplete)}}}!D&&_.length>0&&!i&&(b?n.listenProvider_.stopListening(hw(t),null):_.forEach(M=>{const P=n.queryToTagMap.get(AT(M));n.listenProvider_.stopListening(hw(M),P)}))}!function Jte(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=AT(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,_)}return d}function e7(n,t,e,i){const r=VP(n,i);if(null!=r){const s=BP(r),c=s.path,d=s.queryId,p=Bs(c,t);return UP(n,c,new qm(IP(d),p,e))}return[]}function LP(n,t,e,i=!1){const r=t._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(r,(M,P)=>{const L=Bs(M,r);s=s||wf(P,L),c=c||Ef(P)});let p,d=n.syncPointTree_.get(r);d?(c=c||Ef(d),s=s||wf(d,Rn())):(d=new qB,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=s?p=!0:(p=!1,s=Qt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((P,L)=>{const K=wf(L,Rn());K&&(s=s.updateImmediateChild(P,K))}));const _=XB(d,t);if(!_&&!t._queryParams.loadsAllData()){const M=AT(t);(0,V.hu)(!n.queryToTagMap.has(M),"View does not exist, but we have a tag");const P=function ene(){return Gte++}();n.queryToTagMap.set(M,P),n.tagToQueryMap.set(P,M)}let D=function Hte(n,t,e,i,r,s){const c=YB(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function Fte(n,t){n.eventRegistrations_.push(t)}(c,e),function Lte(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(di,(s,c)=>{i.push(Wy(s,c))}),e.isFullyInitialized()&&i.push(TB(e.getNode())),ZB(n,i,e.getNode(),t)}(c,e)}(d,t,e,vT(n.pendingWriteTree_,r),s,p);if(!_&&!c&&!i){const M=QB(d,t);D=D.concat(function tne(n,t,e){const i=t._path,r=dw(n,t),s=i7(n,e),c=n.listenProvider_.startListening(hw(t),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,V.hu)(!Ef(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((_,b,D)=>{if(!ln(_)&&b&&Ef(b))return[DT(b).query];{let M=[];return b&&(M=M.concat(KB(b).map(P=>P.query))),Br(D,(P,L)=>{M=M.concat(L)}),M}});for(let _=0;_<p.length;++_){const b=p[_];n.listenProvider_.stopListening(hw(b),dw(n,b))}}return c}(n,t,M))}return D}function TT(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,d)=>{const _=wf(d,Bs(c,t));if(_)return _});return FB(r,t,s,e,!0)}function Ky(n,t){return t7(t,n.syncPointTree_,null,vT(n.pendingWriteTree_,Rn()))}function t7(n,t,e,i){if(ln(n.path))return n7(n,t,e,i);{const r=t.get(Rn());null==e&&null!=r&&(e=wf(r,Rn()));let s=[];const c=an(n.path),d=n.operationForChild(c),p=t.children.get(c);if(p&&d){const _=e?e.getImmediateChild(c):null,b=VB(i,c);s=s.concat(t7(d,p,_,b))}return r&&(s=s.concat(NP(r,n,i,e))),s}}function n7(n,t,e,i){const r=t.get(Rn());null==e&&null!=r&&(e=wf(r,Rn()));let s=[];return t.children.inorderTraversal((c,d)=>{const p=e?e.getImmediateChild(c):null,_=VB(i,c),b=n.operationForChild(c);b&&(s=s.concat(n7(b,d,p,_)))}),r&&(s=s.concat(NP(r,n,i,e))),s}function i7(n,t){const e=t.query,i=dw(n,e);return{hashFn:()=>(function Ote(n){return n.viewCache_.serverCache.getNode()}(t)||Qt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Yte(n,t,e){const i=VP(n,e);if(i){const r=BP(i),s=r.path,c=r.queryId,d=Bs(s,t);return UP(n,s,new ow(IP(c),d))}return[]}(n,e._path,i):function qte(n,t){return Ky(n,new ow({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function qJ(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return ST(n,e,null,s)}}}}function dw(n,t){const e=AT(t);return n.queryToTagMap.get(e)}function AT(n){return n._path.toString()+"$"+n._queryIdentifier}function VP(n,t){return n.tagToQueryMap.get(t)}function BP(n){const t=n.indexOf("$");return(0,V.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Hn(n.substr(0,t))}}function UP(n,t,e){const i=n.syncPointTree_.get(t);return(0,V.hu)(i,"Missing sync point for query tag that we're tracking"),NP(i,e,vT(n.pendingWriteTree_,t),null)}function hw(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function zte(){return(0,V.hu)(IT,"Reference.ts has not been loaded"),IT}())(n._repo,n._path):n}class HP{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new HP(e)}node(){return this.node_}}class jP{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Di(this.path_,t);return new jP(this.syncTree_,e)}node(){return TT(this.syncTree_,this.path_)}}const r7=function(n,t,e){return n&&"object"==typeof n?((0,V.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?ine(n[".sv"],t,e):"object"==typeof n[".sv"]?rne(n[".sv"],t):void(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},ine=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,V.hu)(!1,"Unexpected server value: "+n)},rne=function(n,t,e){n.hasOwnProperty("increment")||(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,V.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,V.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},s7=function(n,t,e,i){return zP(t,new jP(e,n),i)},$P=function(n,t,e){return zP(n,new HP(t),e)};function zP(n,t,e){const i=n.getPriority().val(),r=r7(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,d=r7(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new $y(d,Ri(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new $y(r))),c.forEachChild(di,(d,p)=>{const _=zP(p,t.getImmediateChild(d),e);_!==p&&(s=s.updateImmediateChild(d,_))}),s}}class GP{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function MT(n,t){let e=t instanceof Hn?t:new Hn(t),i=n,r=an(e);for(;null!==r;){const s=(0,V.DV)(i.node.children,r)||{children:{},childCount:0};i=new GP(r,i,s),e=ni(e),r=an(e)}return i}function Qm(n){return n.node.value}function WP(n,t){n.node.value=t,ZP(n)}function o7(n){return n.node.childCount>0}function xT(n,t){Br(n.node.children,(e,i)=>{t(new GP(e,n,i))})}function a7(n,t,e,i){e&&!i&&t(n),xT(n,r=>{a7(r,t,!0,i)}),e&&i&&t(n)}function fw(n){return new Hn(null===n.parent?n.name:fw(n.parent)+"/"+n.name)}function ZP(n){null!==n.parent&&function ane(n,t,e){const i=function sne(n){return void 0===Qm(n)&&!o7(n)}(e),r=(0,V.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,ZP(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,ZP(n))}(n.parent,n.name,n)}const lne=/[\[\].#$\/\u0000-\u001F\u007F]/,cne=/[\[\].#$\u0000-\u001F\u007F]/,qP=10485760,kT=function(n){return"string"==typeof n&&0!==n.length&&!lne.test(n)},l7=function(n){return"string"==typeof n&&0!==n.length&&!cne.test(n)},pw=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!iT(n)||n&&"object"==typeof n&&(0,V.r3)(n,".sv")},tu=function(n,t,e,i){i&&void 0===t||mw((0,V.gK)(n,"value"),t,e)},mw=function(n,t,e){const i=e instanceof Hn?new Iee(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Wm(i));if("function"==typeof t)throw new Error(n+"contains a function "+Wm(i)+" with contents = "+t.toString());if(iT(t))throw new Error(n+"contains "+t.toString()+" "+Wm(i));if("string"==typeof t&&t.length>qP/3&&(0,V.ug)(t)>qP)throw new Error(n+"contains a string greater than "+qP+" utf8 bytes "+Wm(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Br(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!kT(c)))throw new Error(n+" contains an invalid key ("+c+") "+Wm(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function See(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,V.ug)(t),pB(n)})(i,c),mw(n,d,i),function Tee(n){const t=n.parts_.pop();n.byteLength_-=(0,V.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Wm(i)+" in addition to actual children.")}},c7=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,V.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];Br(t,(c,d)=>{const p=new Hn(c);if(mw(r,d,Di(e,p)),".priority"===cP(p)&&!pw(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=JC(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!kT(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Dee);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Ja(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},YP=function(n,t,e){if(!e||void 0!==t){if(iT(t))throw new Error((0,V.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!pw(t))throw new Error((0,V.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},gw=function(n,t,e,i){if(!(i&&void 0===e||kT(e)))throw new Error((0,V.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},_w=function(n,t,e,i){if(!(i&&void 0===e||l7(e)))throw new Error((0,V.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},tl=function(n,t){if(".info"===an(t))throw new Error(n+" failed = Can't modify data under /.info/")},u7=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!kT(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),l7(n)}(e))throw new Error((0,V.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class fne{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function RT(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!uP(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function d7(n,t,e){RT(n,e),h7(n,i=>uP(i,t))}function Qo(n,t,e){RT(n,e),h7(n,i=>Ja(i,t)||Ja(t,i))}function h7(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(pne(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function pne(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();zm&&Vr("event: "+e.toString()),Hy(i)}}}const f7="repo_interrupt";class gne{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fne,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mT(),this.transactionQueueTree_=new GP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function p7(n){const e=n.infoData_.getNode(new Hn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function yw(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:p7(n)})}function m7(n,t,e,i,r){n.dataUpdateCount++;const s=new Hn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const p=(0,V.UI)(e,_=>Ri(_));c=function Kte(n,t,e,i){const r=VP(n,i);if(r){const s=BP(r),c=s.path,d=s.queryId,p=Bs(c,t),_=hi.fromObject(e);return UP(n,c,new qy(IP(d),p,_))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=Ri(e);c=e7(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,V.UI)(e,_=>Ri(_));c=function Zte(n,t,e){const i=hi.fromObject(e);return Ky(n,new qy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,p)}else{const p=Ri(e);c=uw(n.serverSyncTree_,s,p)}let d=s;c.length>0&&(d=Xy(n,s)),Qo(n.eventQueue_,d,c)}function g7(n,t){KP(n,"connected",t),!1===t&&function Cne(n){Qy(n,"onDisconnectEvents");const t=yw(n),e=mT();wP(n.onDisconnect_,Rn(),(r,s)=>{const c=s7(r,s,n.serverSyncTree_,t);Zy(e,r,c)});let i=[];wP(e,Rn(),(r,s)=>{i=i.concat(uw(n.serverSyncTree_,r,s));const c=eN(n,r);Xy(n,c)}),n.onDisconnect_=mT(),Qo(n.eventQueue_,Rn(),i)}(n)}function KP(n,t,e){const i=new Hn("/.info/"+t),r=Ri(e);n.infoData_.updateSnapshot(i,r);const s=uw(n.infoSyncTree_,i,r);Qo(n.eventQueue_,i,s)}function OT(n){return n.nextWriteId_++}function QP(n,t,e,i,r){Qy(n,"set",{path:t.toString(),value:e,priority:i});const s=yw(n),c=Ri(e,i),d=TT(n.serverSyncTree_,t),p=$P(c,d,s),_=OT(n),b=FP(n.serverSyncTree_,t,p,_,!0);RT(n.eventQueue_,b),n.server_.put(t.toString(),c.val(!0),(M,P)=>{const L="ok"===M;L||fs("set at "+t+" failed: "+M);const K=Df(n.serverSyncTree_,_,!L);Qo(n.eventQueue_,t,K),If(0,r,M,P)});const D=eN(n,t);Xy(n,D),Qo(n.eventQueue_,D,[])}function wne(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&CP(n.onDisconnect_,t),If(0,e,i,r)})}function _7(n,t,e,i){const r=Ri(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,c)=>{"ok"===s&&Zy(n.onDisconnect_,t,r),If(0,i,s,c)})}function XP(n,t,e){let i;i=".info"===an(t._path)?ST(n.infoSyncTree_,t,e):ST(n.serverSyncTree_,t,e),d7(n.eventQueue_,t._path,i)}function y7(n){n.persistentConnection_&&n.persistentConnection_.interrupt(f7)}function Qy(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Vr(e,...t)}function If(n,t,e,i){t&&Hy(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,t(c)}})}function JP(n,t,e){return TT(n.serverSyncTree_,t,e)||Qt.EMPTY_NODE}function PT(n,t=n.transactionQueueTree_){if(t||NT(n,t),Qm(t)){const e=b7(n,t);(0,V.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Ane(n,t,e){const i=e.map(_=>_.currentWriteId),r=JP(n,t,i);let s=r;const c=r.hash();for(let _=0;_<e.length;_++){const b=e[_];(0,V.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const D=Bs(t,b.path);s=s.updateChild(D,b.currentOutputSnapshotRaw)}const d=s.val(!0),p=t;n.server_.put(p.toString(),d,_=>{Qy(n,"transaction put response",{path:p.toString(),status:_});let b=[];if("ok"===_){const D=[];for(let M=0;M<e.length;M++)e[M].status=2,b=b.concat(Df(n.serverSyncTree_,e[M].currentWriteId)),e[M].onComplete&&D.push(()=>e[M].onComplete(null,!0,e[M].currentOutputSnapshotResolved)),e[M].unwatcher();NT(n,MT(n.transactionQueueTree_,t)),PT(n,n.transactionQueueTree_),Qo(n.eventQueue_,t,b);for(let M=0;M<D.length;M++)Hy(D[M])}else{if("datastale"===_)for(let D=0;D<e.length;D++)e[D].status=3===e[D].status?4:0;else{fs("transaction at "+p.toString()+" failed: "+_);for(let D=0;D<e.length;D++)e[D].status=4,e[D].abortReason=_}Xy(n,t)}},c)}(n,fw(t),e)}else o7(t)&&xT(t,e=>{PT(n,e)})}function Xy(n,t){const e=v7(n,t),i=fw(e);return function Mne(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const p=t[d],_=Bs(e,p.path);let D,b=!1;if((0,V.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,D=p.abortReason,r=r.concat(Df(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)b=!0,D="maxretry",r=r.concat(Df(n.serverSyncTree_,p.currentWriteId,!0));else{const M=JP(n,p.path,c);p.currentInputSnapshot=M;const P=t[d].update(M.val());if(void 0!==P){mw("transaction failed: Data returned ",P,p.path);let L=Ri(P);"object"==typeof P&&null!=P&&(0,V.r3)(P,".priority")||(L=L.updatePriority(M.getPriority()));const se=p.currentWriteId,Oe=yw(n),Ze=$P(L,M,Oe);p.currentOutputSnapshotRaw=L,p.currentOutputSnapshotResolved=Ze,p.currentWriteId=OT(n),c.splice(c.indexOf(se),1),r=r.concat(FP(n.serverSyncTree_,p.path,Ze,p.currentWriteId,p.applyLocally)),r=r.concat(Df(n.serverSyncTree_,se,!0))}else b=!0,D="nodata",r=r.concat(Df(n.serverSyncTree_,p.currentWriteId,!0))}Qo(n.eventQueue_,e,r),r=[],b&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===D?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(D),!1,null)))}NT(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)Hy(i[d]);PT(n,n.transactionQueueTree_)}(n,b7(n,e),i),i}function v7(n,t){let e,i=n.transactionQueueTree_;for(e=an(t);null!==e&&void 0===Qm(i);)i=MT(i,e),e=an(t=ni(t));return i}function b7(n,t){const e=[];return C7(n,t,e),e.sort((i,r)=>i.order-r.order),e}function C7(n,t,e){const i=Qm(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);xT(t,r=>{C7(n,r,e)})}function NT(n,t){const e=Qm(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,WP(t,e.length>0?e:void 0)}xT(t,i=>{NT(n,i)})}function eN(n,t){const e=fw(v7(n,t)),i=MT(n.transactionQueueTree_,t);return function one(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{tN(n,r)}),tN(n,i),a7(i,r=>{tN(n,r)}),e}function tN(n,t){const e=Qm(t);if(e){const i=[];let r=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,V.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,V.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Df(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?WP(t,void 0):e.length=s+1,Qo(n.eventQueue_,fw(t),r);for(let c=0;c<i.length;c++)Hy(i[c])}}const nN=function(n,t){const e=Rne(n),i=e.namespace;return"firebase.com"===e.domain&&Xc(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Xc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&fs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new iP(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Hn(e.pathString)}},Rne=function(n){let t="",e="",i="",r="",s="",c=!0,d="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),t=n.substring(0,Math.min(b,D)),b<D&&(r=function xne(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(b,D)));const M=function kne(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):fs(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,D)));_=t.indexOf(":"),_>=0?(c="https"===d||"wss"===d,p=parseInt(t.substring(_+1),10)):_=t.length;const P=t.slice(0,_);if("localhost"===P.toLowerCase())e="localhost";else if(P.split(".").length<=2)e=P;else{const L=t.indexOf(".");i=t.substring(0,L).toLowerCase(),e=t.substring(L+1),s=i}"ns"in M&&(s=M.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class w7{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,V.Wl)(this.snapshot.exportVal())}}class E7{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class iN{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,V.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class D7{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new V.BH;return wne(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){tl("OnDisconnect.remove",this._path);const t=new V.BH;return _7(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){tl("OnDisconnect.set",this._path),tu("OnDisconnect.set",t,this._path,!1);const e=new V.BH;return _7(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){tl("OnDisconnect.setWithPriority",this._path),tu("OnDisconnect.setWithPriority",t,this._path,!1),YP("OnDisconnect.setWithPriority",e,!1);const i=new V.BH;return function Ene(n,t,e,i,r){const s=Ri(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,d)=>{"ok"===c&&Zy(n.onDisconnect_,t,s),If(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){tl("OnDisconnect.update",this._path),c7("OnDisconnect.update",t,this._path,!1);const e=new V.BH;return function Dne(n,t,e,i){if((0,V.xb)(e))return Vr("onDisconnect().update() called with empty data.  Don't do anything."),void If(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&Br(e,(c,d)=>{const p=Ri(d);Zy(n.onDisconnect_,Di(t,c),p)}),If(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class po{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return ln(this._path)?null:cP(this._path)}get ref(){return new nl(this._repo,this._path)}get _queryIdentifier(){const t=MB(this._queryParams),e=eP(t);return"{}"===e?"default":e}get _queryObject(){return MB(this._queryParams)}isEqual(t){if(!((t=(0,V.m9)(t))instanceof po))return!1;const e=this._repo===t._repo,i=uP(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Eee(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function FT(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Sf(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===eu){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==vd)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Jc)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===di){if(null!=t&&!pw(t)||null!=e&&!pw(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,V.hu)(n.getIndex()instanceof mP||n.getIndex()===gP,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function LT(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class nl extends po{constructor(t,e){super(t,e,new hT,!1)}get parent(){const t=fB(this._path);return null===t?null:new nl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Xm{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Hn(t),i=Jm(this.ref,t);return new Xm(this._node.getChild(e),i,di)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Xm(r,Jm(this.ref,i),di)))}hasChild(t){const e=new Hn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function I7(n,t){return(n=(0,V.m9)(n))._checkNotDeleted("ref"),void 0!==t?Jm(n._root,t):n._root}function S7(n,t){(n=(0,V.m9)(n))._checkNotDeleted("refFromURL");const e=nN(t,n._repo.repoInfo_.nodeAdmin);u7("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Xc("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),I7(n,e.path.toString())}function Jm(n,t){return null===an((n=(0,V.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),_w("child","path",e,!1)):_w("child","path",t,!1),new nl(n._repo,Di(n._path,t));var e}function rN(n,t){n=(0,V.m9)(n),tl("set",n._path),tu("set",t,n._path,!1);const e=new V.BH;return QP(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Lne(n,t){c7("update",t,n._path,!1);const e=new V.BH;return function bne(n,t,e,i){Qy(n,"update",{path:t.toString(),value:e});let r=!0;const s=yw(n),c={};if(Br(e,(d,p)=>{r=!1,c[d]=s7(Di(t,d),Ri(p),n.serverSyncTree_,s)}),r)Vr("update() called with empty data.  Don't do anything."),If(0,i,"ok",void 0);else{const d=OT(n),p=function Wte(n,t,e,i){!function cte(n,t,e,i){(0,V.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=TP(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=hi.fromObject(e);return Ky(n,new qy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);RT(n.eventQueue_,p),n.server_.merge(t.toString(),e,(_,b)=>{const D="ok"===_;D||fs("update at "+t+" failed: "+_);const M=Df(n.serverSyncTree_,d,!D),P=M.length>0?Xy(n,t):t;Qo(n.eventQueue_,P,M),If(0,i,_,b)}),Br(e,_=>{const b=eN(n,Di(t,_));Xy(n,b)}),Qo(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Vne(n){n=(0,V.m9)(n);const t=new iN(()=>{}),e=new vw(t);return function vne(n,t,e){const i=function Qte(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(_,b)=>{const D=Bs(_,e);i=i||wf(b,D)});let r=n.syncPointTree_.get(e);r?i=i||wf(r,Rn()):(r=new qB,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,c=s?new bf(i,!0,!1):null;return function Pte(n){return yT(n.viewCache_)}(YB(r,t,vT(n.pendingWriteTree_,t._path),s?c.getNode():Qt.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=Ri(r).withIndex(t._queryParams.getIndex());let c;if(LP(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())c=uw(n.serverSyncTree_,t._path,s);else{const d=dw(n.serverSyncTree_,t);c=e7(n.serverSyncTree_,t._path,s,d)}return Qo(n.eventQueue_,t._path,c),ST(n.serverSyncTree_,t,e,null,!0),s},r=>(Qy(n,"get for query "+(0,V.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Xm(i,new nl(n._repo,n._path),n._queryParams.getIndex()))}class vw{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new w7("value",this,new Xm(t.snapshotNode,new nl(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new E7(this,t,e):null}matches(t){return t instanceof vw&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class VT{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new E7(this,t,e):null}createEvent(t,e){(0,V.hu)(null!=t.childName,"Child events should have a childName.");const i=Jm(new nl(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new w7(t.type,this,new Xm(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof VT&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function bw(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=e,_=(b,D)=>{XP(n._repo,n,d),p(b,D)};_.userCallback=e.userCallback,_.context=e.context,e=_}const c=new iN(e,s||void 0),d="value"===t?new vw(c):new VT(t,c);return function Ine(n,t,e){let i;i=".info"===an(t._path)?LP(n.infoSyncTree_,t,e):LP(n.serverSyncTree_,t,e),d7(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>XP(n._repo,n,d)}function sN(n,t,e,i){return bw(n,"value",t,e,i)}function T7(n,t,e,i){return bw(n,"child_added",t,e,i)}function A7(n,t,e,i){return bw(n,"child_changed",t,e,i)}function M7(n,t,e,i){return bw(n,"child_moved",t,e,i)}function x7(n,t,e,i){return bw(n,"child_removed",t,e,i)}function k7(n,t,e){let i=null;const r=e?new iN(e):null;"value"===t?i=new vw(r):t&&(i=new VT(t,r)),XP(n._repo,n,i)}class tc{}class R7 extends tc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){tu("endAt",this._value,t._path,!0);const e=bP(t._queryParams,this._value,this._key);if(LT(e),Sf(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new po(t._repo,t._path,e,t._orderByCalled)}}class Une extends tc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){tu("endBefore",this._value,t._path,!1);const e=function Kee(n,t,e){let i,r;return n.index_===eu?("string"==typeof t&&(t=SB(t)),r=bP(n,t,e)):(i=null==e?vd:SB(e),r=bP(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(LT(e),Sf(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new po(t._repo,t._path,e,t._orderByCalled)}}class O7 extends tc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){tu("startAt",this._value,t._path,!0);const e=vP(t._queryParams,this._value,this._key);if(LT(e),Sf(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new po(t._repo,t._path,e,t._orderByCalled)}}class $ne extends tc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){tu("startAfter",this._value,t._path,!1);const e=function Yee(n,t,e){let i;if(n.index_===eu)"string"==typeof t&&(t=IB(t)),i=vP(n,t,e);else{let r;r=null==e?Jc:IB(e),i=vP(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(LT(e),Sf(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new po(t._repo,t._path,e,t._orderByCalled)}}class Gne extends tc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new po(t._repo,t._path,function Zee(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Zne extends tc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new po(t._repo,t._path,function qee(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Yne extends tc{constructor(t){super(),this._path=t}_apply(t){FT(t,"orderByChild");const e=new Hn(this._path);if(ln(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new mP(e),r=fT(t._queryParams,i);return Sf(r),new po(t._repo,t._path,r,!0)}}class Qne extends tc{_apply(t){FT(t,"orderByKey");const e=fT(t._queryParams,eu);return Sf(e),new po(t._repo,t._path,e,!0)}}class Jne extends tc{_apply(t){FT(t,"orderByPriority");const e=fT(t._queryParams,di);return Sf(e),new po(t._repo,t._path,e,!0)}}class tie extends tc{_apply(t){FT(t,"orderByValue");const e=fT(t._queryParams,gP);return Sf(e),new po(t._repo,t._path,e,!0)}}class iie extends tc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(tu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new R7(this._value,this._key)._apply(new O7(this._value,this._key)._apply(t))}}function nc(n,...t){let e=(0,V.m9)(n);for(const i of t)e=i._apply(e);return e}(function Vte(n){(0,V.hu)(!ET,"__referenceConstructor has already been defined"),ET=n})(nl),function $te(n){(0,V.hu)(!IT,"__referenceConstructor has already been defined"),IT=n}(nl);const oN={};function N7(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Xc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=nN(s,r),d=c.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${d.namespace}`,c=nN(s,r),d=c.repoInfo):p=!c.repoInfo.secure;const b=r&&p?new XC(XC.OWNER):new XJ(n.name,n.options,t);u7("Invalid Firebase Database URL",c),ln(c.path)||Xc("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function lie(n,t,e,i){let r=oN[t.name];r||(r={},oN[t.name]=r);let s=r[n.toURLString()];return s&&Xc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new gne(n,false,e,i),r[n.toURLString()]=s,s}(d,n,b,new QJ(n.name,e));return new uie(D,n)}class uie{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function _ne(n,t,e){if(n.stats_=oP(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new pT(n.repoInfo_,(i,r,s,c)=>{m7(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>g7(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,V.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Zm(n.repoInfo_,t,(i,r,s,c)=>{m7(n,i,r,s,c)},i=>{g7(n,i)},i=>{!function yne(n,t){Br(t,(e,i)=>{KP(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function tee(n,t){const e=n.toString();return sP[e]||(sP[e]=t()),sP[e]}(n.repoInfo_,()=>new nte(n.stats_,n.server_)),n.infoData_=new Qee,n.infoSyncTree_=new JB({startListening:(i,r,s,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=uw(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),KP(n,"connected",!1),n.serverSyncTree_=new JB({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,p)=>{const _=c(d,p);Qo(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nl(this._repo,Rn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function aie(n,t){const e=oN[t];(!e||e[n.key]!==n)&&Xc(`Database ${t}(${n.repoInfo_}) has already been deleted.`),y7(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Xc("Cannot call "+t+" on a deleted database.")}}function F7(){tB.IS_TRANSPORT_INITIALIZED&&fs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function die(){F7(),yf.forceDisallow()}function hie(){F7(),jy.forceDisallow(),yf.forceAllow()}function fie(n=(0,Ci.getApp)(),t){const e=(0,Ci._getProvider)(n,"database").getImmediate({identifier:t}),i=(0,V.P0)("database");return i&&L7(e,...i),e}function L7(n,t,e,i={}){(n=(0,V.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Xc("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Xc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new XC(XC.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,V.Sg)(i.mockUserToken,n.app.options.projectId);s=new XC(c)}!function oie(n,t,e,i){n.repoInfo_=new iP(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}function gie(n,t){NV(n,t)}const yie={".sv":"timestamp"};class Cie{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Zm.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Zm.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function _ie(n){xV(Ci.SDK_VERSION),(0,Ci._registerComponent)(new Ho.wA("database",(t,{instanceIdentifier:e})=>N7(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ci.registerVersion)(AV,MV,n),(0,Ci.registerVersion)(AV,MV,"esm2017")}();const Iie=new Uo.Yd("@firebase/database-compat"),V7=function(n){Iie.warn("FIREBASE WARNING: "+n)};class Aie{constructor(t){this._delegate=t}cancel(t){(0,V.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,V.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,V.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,V.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,V.Dv)("OnDisconnect.set",1,2,arguments.length),(0,V.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,V.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,V.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,V.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,V7("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,V.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Mie{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,V.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Tf{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,V.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,V.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,V.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,V.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,V.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),_w("DataSnapshot.child","path",t,!1),new Tf(this._database,this._delegate.child(t))}hasChild(t){return(0,V.Dv)("DataSnapshot.hasChild",1,1,arguments.length),_w("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,V.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,V.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,V.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Tf(this._database,e)))}hasChildren(){return(0,V.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,V.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,V.Dv)("DataSnapshot.ref",0,0,arguments.length),new Xo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Qr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,V.Dv)("Query.on",2,4,arguments.length),(0,V.Wj)("Query.on","callback",e,!1);const c=Qr.getCancelAndContextArgs_("Query.on",i,r),d=(_,b)=>{e.call(c.context,new Tf(this.database,_),b)};d.userCallback=e,d.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return sN(this._delegate,d,p),e;case"child_added":return T7(this._delegate,d,p),e;case"child_removed":return x7(this._delegate,d,p),e;case"child_changed":return A7(this._delegate,d,p),e;case"child_moved":return M7(this._delegate,d,p),e;default:throw new Error((0,V.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,V.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,V.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,V.Wj)("Query.off","callback",e,!0),(0,V.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,k7(this._delegate,t,r)}else k7(this._delegate,t)}get(){return Vne(this._delegate).then(t=>new Tf(this.database,t))}once(t,e,i,r){(0,V.Dv)("Query.once",1,4,arguments.length),(0,V.Wj)("Query.once","callback",e,!0);const s=Qr.getCancelAndContextArgs_("Query.once",i,r),c=new V.BH,d=(_,b)=>{const D=new Tf(this.database,_);e&&e.call(s.context,D,b),c.resolve(D)};d.userCallback=e,d.context=s.context;const p=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(t){case"value":sN(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":T7(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":x7(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":A7(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":M7(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,V.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,V.Dv)("Query.limitToFirst",1,1,arguments.length),new Qr(this.database,nc(this._delegate,function Wne(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Gne(n)}(t)))}limitToLast(t){return(0,V.Dv)("Query.limitToLast",1,1,arguments.length),new Qr(this.database,nc(this._delegate,function qne(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Zne(n)}(t)))}orderByChild(t){return(0,V.Dv)("Query.orderByChild",1,1,arguments.length),new Qr(this.database,nc(this._delegate,function Kne(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return _w("orderByChild","path",n,!1),new Yne(n)}(t)))}orderByKey(){return(0,V.Dv)("Query.orderByKey",0,0,arguments.length),new Qr(this.database,nc(this._delegate,function Xne(){return new Qne}()))}orderByPriority(){return(0,V.Dv)("Query.orderByPriority",0,0,arguments.length),new Qr(this.database,nc(this._delegate,function eie(){return new Jne}()))}orderByValue(){return(0,V.Dv)("Query.orderByValue",0,0,arguments.length),new Qr(this.database,nc(this._delegate,function nie(){return new tie}()))}startAt(t=null,e){return(0,V.Dv)("Query.startAt",0,2,arguments.length),new Qr(this.database,nc(this._delegate,function jne(n=null,t){return gw("startAt","key",t,!0),new O7(n,t)}(t,e)))}startAfter(t=null,e){return(0,V.Dv)("Query.startAfter",0,2,arguments.length),new Qr(this.database,nc(this._delegate,function zne(n,t){return gw("startAfter","key",t,!0),new $ne(n,t)}(t,e)))}endAt(t=null,e){return(0,V.Dv)("Query.endAt",0,2,arguments.length),new Qr(this.database,nc(this._delegate,function Bne(n,t){return gw("endAt","key",t,!0),new R7(n,t)}(t,e)))}endBefore(t=null,e){return(0,V.Dv)("Query.endBefore",0,2,arguments.length),new Qr(this.database,nc(this._delegate,function Hne(n,t){return gw("endBefore","key",t,!0),new Une(n,t)}(t,e)))}equalTo(t,e){return(0,V.Dv)("Query.equalTo",1,2,arguments.length),new Qr(this.database,nc(this._delegate,function rie(n,t){return gw("equalTo","key",t,!0),new iie(n,t)}(t,e)))}toString(){return(0,V.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,V.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,V.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Qr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,V.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,V.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,V.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Xo(this.database,new nl(this._delegate._repo,this._delegate._path))}}class Xo extends Qr{constructor(t,e){super(t,new po(e._repo,e._path,new hT,!1)),this.database=t,this._delegate=e}getKey(){return(0,V.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,V.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Xo(this.database,Jm(this._delegate,t))}getParent(){(0,V.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Xo(this.database,t):null}getRoot(){return(0,V.Dv)("Reference.root",0,0,arguments.length),new Xo(this.database,this._delegate.root)}set(t,e){(0,V.Dv)("Reference.set",1,2,arguments.length),(0,V.Wj)("Reference.set","onComplete",e,!0);const i=rN(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,V.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,V7("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}tl("Reference.update",this._delegate._path),(0,V.Wj)("Reference.update","onComplete",e,!0);const i=Lne(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,V.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,V.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Fne(n,t,e){if(tl("setWithPriority",n._path),tu("setWithPriority",t,n._path,!1),YP("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new V.BH;return QP(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,V.Dv)("Reference.remove",0,1,arguments.length),(0,V.Wj)("Reference.remove","onComplete",t,!0);const e=function Pne(n){return tl("remove",n._path),rN(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,V.Dv)("Reference.transaction",1,3,arguments.length),(0,V.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,V.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,V.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function wie(n,t,e){var i;if(n=(0,V.m9)(n),tl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new V.BH,d=sN(n,()=>{});return function Tne(n,t,e,i,r,s){Qy(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:RV(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=JP(n,t,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{mw("transaction failed: Data returned ",p,c.path),c.status=0;const _=MT(n.transactionQueueTree_,t),b=Qm(_)||[];let D;b.push(c),WP(_,b),"object"==typeof p&&null!==p&&(0,V.r3)(p,".priority")?(D=(0,V.DV)(p,".priority"),(0,V.hu)(pw(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(TT(n.serverSyncTree_,t)||Qt.EMPTY_NODE).getPriority().val();const M=yw(n),P=Ri(p,D),L=$P(P,d,M);c.currentOutputSnapshotRaw=P,c.currentOutputSnapshotResolved=L,c.currentWriteId=OT(n);const K=FP(n.serverSyncTree_,t,L,c.currentWriteId,c.applyLocally);Qo(n.eventQueue_,t,K),PT(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,_,b)=>{let D=null;p?s.reject(p):(D=new Xm(b,new nl(n._repo,n._path),di),s.resolve(new Cie(_,D)))},d,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new Mie(s.committed,new Tf(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,V.Dv)("Reference.setPriority",1,2,arguments.length),(0,V.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Nne(n,t){n=(0,V.m9)(n),tl("setPriority",n._path),YP("setPriority",t,!1);const e=new V.BH;return QP(n._repo,Di(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,V.Dv)("Reference.push",0,2,arguments.length),(0,V.Wj)("Reference.push","onComplete",e,!0);const i=function One(n,t){n=(0,V.m9)(n),tl("push",n._path),tu("push",t,n._path,!0);const e=p7(n._repo),i=$ee(e),r=Jm(n,i),s=Jm(n,i);let c;return c=null!=t?rN(s,t).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new Xo(this.database,c));e&&r.then(()=>e(null),c=>e(c));const s=new Xo(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return tl("Reference.onDisconnect",this._delegate._path),new Aie(new D7(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Cw{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:die,forceLongPolling:hie}}useEmulator(t,e,i={}){L7(this._delegate,t,e,i)}ref(t){if((0,V.Dv)("database.ref",0,1,arguments.length),t instanceof Xo){const e=S7(this._delegate,t.toString());return new Xo(this,e)}{const e=I7(this._delegate,t);return new Xo(this,e)}}refFromURL(t){(0,V.Dv)("database.refFromURL",1,1,arguments.length);const i=S7(this._delegate,t);return new Xo(this,i)}goOffline(){return(0,V.Dv)("database.goOffline",0,0,arguments.length),function pie(n){(n=(0,V.m9)(n))._checkNotDeleted("goOffline"),y7(n._repo)}(this._delegate)}goOnline(){return(0,V.Dv)("database.goOnline",0,0,arguments.length),function mie(n){(n=(0,V.m9)(n))._checkNotDeleted("goOnline"),function Sne(n){n.persistentConnection_&&n.persistentConnection_.resume(f7)}(n._repo)}(this._delegate)}}Cw.ServerValue={TIMESTAMP:function vie(){return yie}(),increment:n=>function bie(n){return{".sv":{increment:n}}}(n)};var kie=Object.freeze({__proto__:null,initStandalone:function xie({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){xV(e);const c=new Ho.zt("auth-internal",new Ho.H0("database-standalone"));return c.setComponent(new Ho.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Cw(N7(n,c,void 0,t,s),n),namespace:r}}});const Rie=Cw.ServerValue;function B7(n){return null==n}function U7(n){return"function"==typeof n.set}function H7(n,t){return U7(t)?t:n.ref(t)}function j7(n,t){if(function Pie(n){return"string"==typeof n}(n))return t.stringCase();if(U7(n))return t.firebaseCase();if(function Nie(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function ww(n,t,e="on",i=bp.z){return new Ln.y(r=>{let s=null;return s=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,Qe.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:c,key:d}}),(0,K2.B)())}function $7(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Vie(n,t){const{payload:e,prevKey:i,key:r}=t,s=$7(n,r),c=function Lie(n,t){if(B7(t))return 0;{const e=$7(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function z7(n){return(B7(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function G7(n,t,e){return function Fie(n,t,e){return ww(n,"value","once",e).pipe(Zn(i=>{const r=[et(i)];return t.forEach(s=>r.push(ww(n,s,"on",e))),(0,zo.T)(...r).pipe(xt(Vie,[]))}),Yg())}(n,t=z7(t),e)}function W7(n,t,e){const i=(t=z7(t)).map(r=>ww(n,r,"on",e));return(0,zo.T)(...i)}function Z7(n,t){return function(i,r){return j7(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function jie(n){return function(e){return e?j7(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function q7(n,t){return function(){return ww(n,"value","on",t)}}!function Oie(n){n.INTERNAL.registerComponent(new Ho.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Cw(r,i)},"PUBLIC").setServiceProps({Reference:Xo,Query:Qr,Database:Cw,DataSnapshot:Tf,enableLogging:gie,INTERNAL:kie,ServerValue:Rie}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(z0.Z);const Gie=new a.OlP("angularfire2.realtimeDatabaseURL"),Wie=new a.OlP("angularfire2.database.use-emulator");let Zie=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,D,M,P,L,K,se){this.schedulers=d;const Oe=p,Ze=(0,Yi.on)(e,c,i);_&&wR(Ze,c,b,M,P,L,D,K),this.database=(0,Yi.cc)(`${Ze.name}.database.${r}`,"AngularFireDatabase",Ze.name,()=>{const Ke=c.runOutsideAngular(()=>Ze.database(r||void 0));return Oe&&Ke.useEmulator(...Oe),Ke},[Oe])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>H7(this.database,e));let s=r;return i&&(s=i(r)),function $ie(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Z7(i,"update"),set:Z7(i,"set"),push:r=>i.push(r),remove:jie(i),snapshotChanges:r=>G7(n,r,e).pipe(Tt.iC),stateChanges:r=>W7(n,r,e).pipe(Tt.iC),auditTrail:r=>function Bie(n,t,e){return function Hie(n,t,e){return function Uie(n,t){return ww(n,"value","on",t).pipe((0,Qe.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function BJ(...n){const t=(0,os.jO)(n);return(0,wn.e)((e,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let p=0;p<r;p++)(0,zr.Xf)(n[p]).subscribe((0,Vn.x)(i,_=>{s[p]=_,!d&&!c[p]&&(c[p]=!0,(d=c.every(Ss.y))&&(c=null))},Qg.Z));e.subscribe((0,Vn.x)(i,p=>{if(d){const _=[p,...s];i.next(t?t(..._):_)}}))})}(t),(0,Qe.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function UJ(n){return(0,wn.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Vn.x)(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Qe.U)(r=>r.actions))}(n,W7(n,t).pipe(xt((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(Tt.iC),valueChanges:(r,s)=>G7(n,r,e).pipe((0,Qe.U)(d=>d.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),Tt.iC)}}(s,this)}object(e){return function zie(n,t){return{query:n,snapshotChanges:()=>q7(n,t.schedulers.outsideAngular)().pipe(Tt.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>q7(n,t.schedulers.outsideAngular)().pipe(Tt.iC,(0,Qe.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>H7(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Yi.Dh),a.LFG(Yi.xv,8),a.LFG(Gie,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Tt.HU),a.LFG(Wie,8),a.LFG(ky,8),a.LFG(gR,8),a.LFG(_R,8),a.LFG(yR,8),a.LFG(vR,8),a.LFG(bR,8),a.LFG(CR,8),a.LFG(fd,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qie=(()=>{class n{constructor(){cS.Z.registerVersion("angularfire",Tt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Zie]}),n})();function Y7(n){return Boolean(n.parentElement&&"picture"===n.parentElement.nodeName.toLowerCase())}function Ew(n){return"img"===n.nodeName.toLowerCase()}function K7(n,t,e){return Ew(n)?e&&"srcset"in n?n.srcset=t:n.src=t:n.style.backgroundImage=`url('${t}')`,n}function aN(n){return t=>{const e=t.parentElement.getElementsByTagName("source");for(let i=0;i<e.length;i++){const r=e[i].getAttribute(n);r&&("srcset"in e[i]?e[i].srcset=r:e[i].src=r)}}}const Kie=aN("defaultImage"),Q7=aN("lazyLoad"),Qie=aN("errorImage");function lN(n){return(t,e,i)=>{Ew(t)&&Y7(t)&&n(t),e&&K7(t,e,i)}}const Xie=lN(Kie),Jie=lN(Q7),ere=lN(Qie);function X7(n,t){n.className=n.className.replace(t,"")}function cN(n,t){n.className.includes(t)||(n.className+=` ${t}`)}class rre extends class ire extends class tre{constructor(){this.navigator=function Yie(){return typeof window<"u"?window.navigator:void 0}()}setPlatformId(t){this.platformId=t}onDestroy(t){}onAttributeChange(t){}}{setup(t){Xie(t.element,t.defaultImagePath,t.useSrcset),t.imagePath&&cN(t.element,"ng-lazyloading"),function nre(n,t){return n.className&&n.className.includes(t)}(t.element,"ng-lazyloaded")&&X7(t.element,"ng-lazyloaded")}finally(t){cN(t.element,"ng-lazyloaded"),X7(t.element,"ng-lazyloading")}loadImage(t){if(this.skipLazyLoading(t))return[t.imagePath];const{element:e,useSrcset:i,imagePath:r,decode:s}=t;let c;return Ew(e)&&Y7(e)?(c=e.parentNode.cloneNode(!0).getElementsByTagName("img")[0],Q7(c),K7(c,r,i)):(c=new Image,Ew(e)&&e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),Ew(e)&&e.sizes&&(c.sizes=e.sizes),i&&"srcset"in c?c.srcset=r:c.src=r),s&&c.decode?c.decode().then(()=>r):new Promise((d,p)=>{c.onload=()=>d(r),c.onerror=()=>p(null)})}setErrorImage(t,e){const{element:i,useSrcset:r,errorImagePath:s}=e;ere(i,s,r),cN(i,"ng-failed-lazyloaded")}setLoadedImage(t,e){const{element:i,useSrcset:r}=e;Jie(i,t,r)}isDisabled(){return Do(this.platformId)&&!this.isBot()}skipLazyLoading(t){return this.isBot(t)}isBot(t){return!!this.navigator?.userAgent&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot|prerender/i.test(this.navigator.userAgent)}}{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new ht.x,this.uniqKey={}}getObservable(t){if(this.skipLazyLoading(t))return et({isIntersecting:!0});if(t.customObservable)return t.customObservable;const e=t.scrollContainer||this.uniqKey,i={root:t.scrollContainer||null};t.offset&&(i.rootMargin=`${t.offset}px`);let r=this.observers.get(e);return r||(r=new IntersectionObserver(s=>this.loadingCallback(s),i),this.observers.set(e,r)),r.observe(t.element),Ln.y.create(s=>{const c=this.intersectionSubject.pipe(_n(d=>d.target===t.element)).subscribe(s);return()=>{c.unsubscribe(),r.unobserve(t.element)}})}isVisible(t){return t.isIntersecting}loadingCallback(t){t.forEach(e=>this.intersectionSubject.next(e))}}const sre=new a.OlP("LazyLoadImageHooks");let ore=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:sre,useClass:rre}]}),n})();class il{constructor(t,e,i,r){this.left=t,this.top=e,this.right=i,this.bottom=r}static fromElement(t){const{left:e,top:i,right:r,bottom:s}=t.getBoundingClientRect();return 0===e&&0===i&&0===r&&0===s?il.empty:new il(e,i,r,s)}static fromWindow(t){return new il(0,0,t.innerWidth,t.innerHeight)}inflate(t){this.left-=t,this.top-=t,this.right+=t,this.bottom+=t}intersectsWith(t){return t.left<this.right&&this.left<t.right&&t.top<this.bottom&&this.top<t.bottom}getIntersectionWith(t){const e=Math.max(this.left,t.left),i=Math.max(this.top,t.top),r=Math.min(this.right,t.right),s=Math.min(this.bottom,t.bottom);return r>=e&&s>=i?new il(e,i,r,s):il.empty}}il.empty=new il(0,0,0,0);const uN_firebase={projectId:"webproject-66460",appId:"1:169001102760:web:91bac9232d70de4490c19d",databaseURL:"https://webproject-66460-default-rtdb.firebaseio.com",storageBucket:"webproject-66460.appspot.com",locationId:"us-central",apiKey:"AIzaSyAdEjds6aWdCZOag7ahdniZp8UcVAzJ0HM",authDomain:"webproject-66460.firebaseapp.com",messagingSenderId:"169001102760"};class dN{constructor(t){return t}}class BT{constructor(){return(0,Tt.vb)("auth")}}const hN=new a.OlP("angularfire2.auth-instances");function lre(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new dN(i)}}const cre={provide:BT,deps:[[new a.FiY,hN]]},ure={provide:dN,useFactory:function are(n,t){const e=(0,Tt.JM)("auth",n,t);return e&&new dN(e)},deps:[[new a.FiY,hN],uf]};let dre=(()=>{class n{constructor(){(0,Wc.KN)("angularfire",Tt.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[ure,cre]}),n})();function hre(n,...t){return{ngModule:dre,providers:[{provide:hN,useFactory:lre(n),multi:!0,deps:[a.R0b,a.zs3,Tt.HU,bC,[new a.FiY,fd],...t]}]}}const fre=(0,Tt.u3)(zv.n,!0);class fN{constructor(t){return t}}const eU="database",pN=new a.OlP("angularfire2.database-instances");function gre(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new fN(i)}}const _re={provide:class pre{constructor(){return(0,Tt.vb)(eU)}},deps:[[new a.FiY,pN]]},yre={provide:fN,useFactory:function mre(n,t){const e=(0,Tt.JM)(eU,n,t);return e&&new fN(e)},deps:[[new a.FiY,pN],uf]};let vre=(()=>{class n{constructor(){(0,Wc.KN)("angularfire",Tt.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[yre,_re]}),n})();function bre(n,...t){return{ngModule:vre,providers:[{provide:pN,useFactory:gre(n),multi:!0,deps:[a.R0b,a.zs3,Tt.HU,bC,[new a.FiY,BT],[new a.FiY,fd],...t]}]}}const Cre=(0,Tt.u3)(fie,!0);class mN{constructor(t){return t}}const tU="firestore",gN=new a.OlP("angularfire2.firestore-instances");function Dre(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new mN(i)}}const Ire={provide:class wre{constructor(){return(0,Tt.vb)(tU)}},deps:[[new a.FiY,gN]]},Sre={provide:mN,useFactory:function Ere(n,t){const e=(0,Tt.JM)(tU,n,t);return e&&new mN(e)},deps:[[new a.FiY,gN],uf]};let Tre=(()=>{class n{constructor(){(0,Wc.KN)("angularfire",Tt.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Sre,Ire]}),n})();function Are(n,...t){return{ngModule:Tre,providers:[{provide:gN,useFactory:Dre(n),multi:!0,deps:[a.R0b,a.zs3,Tt.HU,bC,[new a.FiY,BT],[new a.FiY,fd],...t]}]}}const Mre=(0,Tt.u3)(D$,!0);class _N{constructor(t){return t}}const nU="storage",yN=new a.OlP("angularfire2.storage-instances");function Rre(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new _N(i)}}const Ore={provide:class xre{constructor(){return(0,Tt.vb)(nU)}},deps:[[new a.FiY,yN]]},Pre={provide:_N,useFactory:function kre(n,t){const e=(0,Tt.JM)(nU,n,t);return e&&new _N(e)},deps:[[new a.FiY,yN],uf]};let Nre=(()=>{class n{constructor(){(0,Wc.KN)("angularfire",Tt.q4.full,"gcs")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Pre,Ore]}),n})();function Fre(n,...t){return{ngModule:Nre,providers:[{provide:yN,useFactory:Rre(n),multi:!0,deps:[a.R0b,a.zs3,Tt.HU,bC,[new a.FiY,BT],[new a.FiY,fd],...t]}]}}const Lre=(0,Tt.u3)(wZ,!0);let Ure=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[v_,hn,v_,hn]}),n})(),Hre=(()=>{class n{constructor(e){this.auth=e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Zc))},n.\u0275mod=a.oAB({type:n,bootstrap:[TR]}),n.\u0275inj=a.cJS({providers:[Zc,t6,U9],imports:[Mo,PQ,Qq,Xq,OJ,ore,tq,DG,RG,qie,qG,sD,Ure,gY,U9,LE,FZ,xY,SQ,UZ,VJ,j0,SK,K8,jY,J4,qY,Yi.hO.initializeApp(uN_firebase),Rz(()=>Oz(uN_firebase)),hre(()=>fre()),bre(()=>Cre()),Are(()=>Mre()),Fre(()=>Lre())]}),n})();(0,a.G48)(),Sl().bootstrapModule(Hre).catch(n=>console.error(n))},5867:(pt,xe,B)=>{B.d(xe,{C6:()=>a.getApps,KN:()=>a.registerVersion,Mq:()=>a.getApp,ZF:()=>a.initializeApp});var a=B(9681);(0,a.registerVersion)("firebase","9.13.0","app")},127:(pt,xe,B)=>{B.d(xe,{Z:()=>a.Z});var a=B(3942);a.Z.registerVersion("firebase","9.13.0","app-compat")},5881:(pt,xe,B)=>{B.r(xe);var a=B(5861),z=B(3942),N=B(8247),le=B(2090),ie=(B(9681),B(1877),B(4859));function pe(){return window}function Z(){return(Z=(0,a.Z)(function*($,O,H){var oe;const{BuildInfo:Be}=pe();(0,N.ap)(O.sessionId,"AuthEvent did not contain a session ID");const ut=yield ge(O.sessionId),dt={};return(0,N.aq)()?dt.ibi=Be.packageName:(0,N.ar)()?dt.apn=Be.packageName:(0,N.as)($,"operation-not-supported-in-this-environment"),Be.displayName&&(dt.appDisplayName=Be.displayName),dt.sessionId=ut,(0,N.at)($,H,O.type,void 0,null!==(oe=O.eventId)&&void 0!==oe?oe:void 0,dt)})).apply(this,arguments)}function Ge(){return(Ge=(0,a.Z)(function*($){const{BuildInfo:O}=pe(),H={};(0,N.aq)()?H.iosBundleId=O.packageName:(0,N.ar)()?H.androidPackageName=O.packageName:(0,N.as)($,"operation-not-supported-in-this-environment"),yield(0,N.au)($,H)})).apply(this,arguments)}function lt(){return(lt=(0,a.Z)(function*($,O,H){const{cordova:oe}=pe();let Be=()=>{};try{yield new Promise((ut,dt)=>{let ke=null;function He(){var Bt;ut();const Cn=null===(Bt=oe.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof Cn&&Cn(),"function"==typeof H?.close&&H.close()}function Nt(){ke||(ke=window.setTimeout(()=>{dt((0,N.aw)($,"redirect-cancelled-by-user"))},2e3))}function bn(){"visible"===document?.visibilityState&&Nt()}O.addPassiveListener(He),document.addEventListener("resume",Nt,!1),(0,N.ar)()&&document.addEventListener("visibilitychange",bn,!1),Be=()=>{O.removePassiveListener(He),document.removeEventListener("resume",Nt,!1),document.removeEventListener("visibilitychange",bn,!1),ke&&window.clearTimeout(ke)}})}finally{Be()}})).apply(this,arguments)}function ge($){return st.apply(this,arguments)}function st(){return(st=(0,a.Z)(function*($){const O=nt($),H=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(H)).map(Be=>Be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function nt($){if((0,N.ap)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const O=new ArrayBuffer($.length),H=new Uint8Array(O);for(let oe=0;oe<$.length;oe++)H[oe]=$.charCodeAt(oe);return H}class Pe extends N.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(O)),super.onEvent(O)}initialized(){var O=this;return(0,a.Z)(function*(){yield O.initPromise})()}}function ae($){return he.apply(this,arguments)}function he(){return(he=(0,a.Z)(function*($){const O=yield ne()._get(me($));return O&&(yield ne()._remove(me($))),O})).apply(this,arguments)}function ee(){const $=[],O="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const oe=Math.floor(Math.random()*O.length);$.push(O.charAt(oe))}return $.join("")}function ne(){return(0,N.az)(N.b)}function me($){return(0,N.aA)("authEvent",$.config.apiKey,$.name)}function $e($){if(!$?.includes("?"))return{};const[O,...H]=$.split("?");return(0,le.zd)(H.join("?"))}function Je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aw)("no-auth-event")}}function qt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function Pi($=(0,le.z$)()){return!("file:"!==qt()&&"ionic:"!==qt()&&"capacitor:"!==qt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function es(){try{const $=self.localStorage,O=N.aI();if($)return $.setItem(O,"1"),$.removeItem(O),!function Jr($=(0,le.z$)()){return function tr(){return(0,le.w1)()&&11===document?.documentMode}()||function Gn($=(0,le.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,le.hl)()}catch{return nr()&&(0,le.hl)()}return!1}function nr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kn(){return(function Ht(){return"http:"===qt()||"https:"===qt()}()||(0,le.ru)()||Pi())&&!function Xr(){return(0,le.b$)()||(0,le.UG)()}()&&es()&&!nr()}function Hr(){return Pi()&&typeof document<"u"}function it(){return(it=(0,a.Z)(function*(){return!!Hr()&&new Promise($=>{const O=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),$(!0)})})})).apply(this,arguments)}const ii={LOCAL:"local",NONE:"none",SESSION:"session"},Mn=N.ax,Ii="persistence";function xn($){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,a.Z)(function*($){yield $._initializationPromise;const O=mt(),H=N.aA(Ii,$.config.apiKey,$.name);O&&O.setItem(H,$._getPersistence())})).apply(this,arguments)}function mt(){var $;try{return(null===($=function fi(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const gt=N.ax;class Pt{constructor(){this.browserResolver=N.az(N.k),this.cordovaResolver=N.az(class un{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(O){var H=this;return(0,a.Z)(function*(){const oe=O._key();let Be=H.eventManagers.get(oe);return Be||(Be=new Pe(O),H.eventManagers.set(oe,Be),H.attachCallbackListeners(O,Be)),Be})()}_openPopup(O){(0,N.as)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,H,oe,Be){var ut=this;return(0,a.Z)(function*(){!function De($){var O,H,oe,Be,ut,dt,ke,He,Nt,bn;const Bt=pe();(0,N.ax)("function"==typeof(null===(O=Bt?.universalLinks)||void 0===O?void 0:O.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.ax)(typeof(null===(H=Bt?.BuildInfo)||void 0===H?void 0:H.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.ax)("function"==typeof(null===(ut=null===(Be=null===(oe=Bt?.cordova)||void 0===oe?void 0:oe.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===ut?void 0:ut.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(He=null===(ke=null===(dt=Bt?.cordova)||void 0===dt?void 0:dt.plugins)||void 0===ke?void 0:ke.browsertab)||void 0===He?void 0:He.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(bn=null===(Nt=Bt?.cordova)||void 0===Nt?void 0:Nt.InAppBrowser)||void 0===bn?void 0:bn.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const dt=yield ut._initialize(O);yield dt.initialized(),dt.resetRedirect(),(0,N.aD)(),yield ut._originValidation(O);const ke=function Te($,O,H=null){return{type:O,eventId:H,urlResponse:null,sessionId:ee(),postBody:null,tenantId:$.tenantId,error:(0,N.aw)($,"no-auth-event")}}(O,oe,Be);yield function qe($,O){return ne()._set(me($),O)}(O,ke);const He=yield function Y($,O,H){return Z.apply(this,arguments)}(O,ke,H),Nt=yield function Le($){const{cordova:O}=pe();return new Promise(H=>{O.plugins.browsertab.isAvailable(oe=>{let Be=null;oe?O.plugins.browsertab.openUrl($):Be=O.InAppBrowser.open($,(0,N.av)()?"_blank":"_system","location=yes"),H(Be)})})}(He);return function Ae($,O,H){return lt.apply(this,arguments)}(O,dt,Nt)})()}_isIframeWebStorageSupported(O,H){throw new Error("Method not implemented.")}_originValidation(O){const H=O._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function te($){return Ge.apply(this,arguments)}(O)),this.originValidationPromises[H]}attachCallbackListeners(O,H){const{universalLinks:oe,handleOpenURL:Be,BuildInfo:ut}=pe(),dt=setTimeout((0,a.Z)(function*(){yield ae(O),H.onEvent(Je())}),500),ke=function(){var bn=(0,a.Z)(function*(Bt){clearTimeout(dt);const Cn=yield ae(O);let ms=null;Cn&&Bt?.url&&(ms=function be($,O){var H,oe;const Be=function je($){const O=$e($),H=O.link?decodeURIComponent(O.link):void 0,oe=$e(H).link,Be=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return $e(Be).link||Be||oe||H||$}(O);if(Be.includes("/__/auth/callback")){const ut=$e(Be),dt=ut.firebaseError?function ue($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(ut.firebaseError)):null,ke=null===(oe=null===(H=dt?.code)||void 0===H?void 0:H.split("auth/"))||void 0===oe?void 0:oe[1],He=ke?(0,N.aw)(ke):null;return He?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:Be,postBody:null}}return null}(Cn,Bt.url)),H.onEvent(ms||Je())});return function(Cn){return bn.apply(this,arguments)}}();typeof oe<"u"&&"function"==typeof oe.subscribe&&oe.subscribe(null,ke);const He=Be,Nt=`${ut.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var bn=(0,a.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(Nt)&&ke({url:Bt}),"function"==typeof He)try{He(Bt)}catch(Cn){console.error(Cn)}});return function(Bt){return bn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(O){var H=this;return(0,a.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,H,oe,Be){var ut=this;return(0,a.Z)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openPopup(O,H,oe,Be)})()}_openRedirect(O,H,oe,Be){var ut=this;return(0,a.Z)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openRedirect(O,H,oe,Be)})()}_isIframeWebStorageSupported(O,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,H)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return Hr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,a.Z)(function*(){if(O.underlyingResolver)return;const H=yield function ts(){return it.apply(this,arguments)}();O.underlyingResolver=H?O.cordovaResolver:O.browserResolver})()}}function ir($){return $.unwrap()}function zi($){return Gi($)}function Gi($){const{_tokenResponse:O}=$ instanceof le.ZR?$.customData:$;if(!O)return null;if(!($ instanceof le.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return N.P.credentialFromResult($);const H=O.providerId;if(!H||H===N.o.PASSWORD)return null;let oe;switch(H){case N.o.GOOGLE:oe=N.Q;break;case N.o.FACEBOOK:oe=N.N;break;case N.o.GITHUB:oe=N.T;break;case N.o.TWITTER:oe=N.W;break;default:const{oauthIdToken:Be,oauthAccessToken:ut,oauthTokenSecret:dt,pendingToken:ke,nonce:He}=O;return ut||dt||Be||ke?ke?H.startsWith("saml.")?N.aL._create(H,ke):N.J._fromParams({providerId:H,signInMethod:H,pendingToken:ke,idToken:Be,accessToken:ut}):new N.U(H).credential({idToken:Be,accessToken:ut,rawNonce:He}):null}return $ instanceof le.ZR?oe.credentialFromError($):oe.credentialFromResult($)}function Vt($,O){return O.catch(H=>{throw H instanceof le.ZR&&function Mt($,O){var H,oe;const Be=null===(H=O.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===(null===(oe=O)||void 0===oe?void 0:oe.code))O.resolver=new bi($,N.an($,O));else if(Be){const ut=Gi(O),dt=O;ut&&(dt.credential=ut,dt.tenantId=Be.tenantId||void 0,dt.email=Be.email||void 0,dt.phoneNumber=Be.phoneNumber||void 0)}}($,H),H}).then(H=>{const Be=H.user;return{operationType:H.operationType,credential:zi(H),additionalUserInfo:N.al(H),user:Un.getOrCreate(Be)}})}function fr($,O){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,a.Z)(function*($,O){const H=yield O;return{verificationId:H.verificationId,confirm:oe=>Vt($,H.confirm(oe))}})).apply(this,arguments)}class bi{constructor(O,H){this.resolver=H,this.auth=function ri($){return $.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return Vt(ir(this.auth),this.resolver.resolveSignIn(O))}}class Un{constructor(O){this._delegate=O,this.multiFactor=N.ao(O)}static getOrCreate(O){return Un.USER_MAP.has(O)||Un.USER_MAP.set(O,new Un(O)),Un.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var H=this;return(0,a.Z)(function*(){return Vt(H.auth,N.Z(H._delegate,O))})()}linkWithPhoneNumber(O,H){var oe=this;return(0,a.Z)(function*(){return fr(oe.auth,N.l(oe._delegate,O,H))})()}linkWithPopup(O){var H=this;return(0,a.Z)(function*(){return Vt(H.auth,N.d(H._delegate,O,Pt))})()}linkWithRedirect(O){var H=this;return(0,a.Z)(function*(){return yield xn(N.aE(H.auth)),N.g(H._delegate,O,Pt)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var H=this;return(0,a.Z)(function*(){return Vt(H.auth,N._(H._delegate,O))})()}reauthenticateWithPhoneNumber(O,H){return fr(this.auth,N.r(this._delegate,O,H))}reauthenticateWithPopup(O){return Vt(this.auth,N.e(this._delegate,O,Pt))}reauthenticateWithRedirect(O){var H=this;return(0,a.Z)(function*(){return yield xn(N.aE(H.auth)),N.h(H._delegate,O,Pt)})()}sendEmailVerification(O){return N.ab(this._delegate,O)}unlink(O){var H=this;return(0,a.Z)(function*(){return yield N.ak(H._delegate,O),H})()}updateEmail(O){return N.ag(this._delegate,O)}updatePassword(O){return N.ah(this._delegate,O)}updatePhoneNumber(O){return N.u(this._delegate,O)}updateProfile(O){return N.af(this._delegate,O)}verifyBeforeUpdateEmail(O,H){return N.ac(this._delegate,O,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Un.USER_MAP=new WeakMap;const ot=N.ax;let Me=(()=>{class ${constructor(H,oe){if(this.app=H,oe.isInitialized())return this._delegate=oe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Be}=H.options;ot(Be,"invalid-api-key",{appName:H.name}),ot(Be,"invalid-api-key",{appName:H.name});const ut=typeof window<"u"?Pt:void 0;this._delegate=oe.initialize({options:{persistence:Dt(Be,H.name),popupRedirectResolver:ut}}),this._delegate._updateErrorMap(N.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Un.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,oe){N.G(this._delegate,H,oe)}applyActionCode(H){return N.a2(this._delegate,H)}checkActionCode(H){return N.a3(this._delegate,H)}confirmPasswordReset(H,oe){return N.a1(this._delegate,H,oe)}createUserWithEmailAndPassword(H,oe){var Be=this;return(0,a.Z)(function*(){return Vt(Be._delegate,N.a5(Be._delegate,H,oe))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return N.aa(this._delegate,H)}isSignInWithEmailLink(H){return N.a8(this._delegate,H)}getRedirectResult(){var H=this;return(0,a.Z)(function*(){ot(Kn(),H._delegate,"operation-not-supported-in-this-environment");const oe=yield N.j(H._delegate,Pt);return oe?Vt(H._delegate,Promise.resolve(oe)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function vn($,O){(0,N.aE)($)._logFramework(O)}(this._delegate,H)}onAuthStateChanged(H,oe,Be){const{next:ut,error:dt,complete:ke}=at(H,oe,Be);return this._delegate.onAuthStateChanged(ut,dt,ke)}onIdTokenChanged(H,oe,Be){const{next:ut,error:dt,complete:ke}=at(H,oe,Be);return this._delegate.onIdTokenChanged(ut,dt,ke)}sendSignInLinkToEmail(H,oe){return N.a7(this._delegate,H,oe)}sendPasswordResetEmail(H,oe){return N.a0(this._delegate,H,oe||void 0)}setPersistence(H){var oe=this;return(0,a.Z)(function*(){let Be;switch(function mo($,O){Mn(Object.values(ii).includes(O),$,"invalid-persistence-type"),(0,le.b$)()?Mn(O!==ii.SESSION,$,"unsupported-persistence-type"):(0,le.UG)()?Mn(O===ii.NONE,$,"unsupported-persistence-type"):nr()?Mn(O===ii.NONE||O===ii.LOCAL&&(0,le.hl)(),$,"unsupported-persistence-type"):Mn(O===ii.NONE||es(),$,"unsupported-persistence-type")}(oe._delegate,H),H){case ii.SESSION:Be=N.a;break;case ii.LOCAL:Be=(yield N.az(N.i)._isAvailable())?N.i:N.b;break;case ii.NONE:Be=N.L;break;default:return N.as("argument-error",{appName:oe._delegate.name})}return oe._delegate.setPersistence(Be)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return Vt(this._delegate,N.X(this._delegate))}signInWithCredential(H){return Vt(this._delegate,N.Y(this._delegate,H))}signInWithCustomToken(H){return Vt(this._delegate,N.$(this._delegate,H))}signInWithEmailAndPassword(H,oe){return Vt(this._delegate,N.a6(this._delegate,H,oe))}signInWithEmailLink(H,oe){return Vt(this._delegate,N.a9(this._delegate,H,oe))}signInWithPhoneNumber(H,oe){return fr(this._delegate,N.s(this._delegate,H,oe))}signInWithPopup(H){var oe=this;return(0,a.Z)(function*(){return ot(Kn(),oe._delegate,"operation-not-supported-in-this-environment"),Vt(oe._delegate,N.c(oe._delegate,H,Pt))})()}signInWithRedirect(H){var oe=this;return(0,a.Z)(function*(){return ot(Kn(),oe._delegate,"operation-not-supported-in-this-environment"),yield xn(oe._delegate),N.f(oe._delegate,H,Pt)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return N.a4(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=ii,$})();function at($,O,H){let oe=$;"function"!=typeof $&&({next:oe,error:O,complete:H}=$);const Be=oe;return{next:dt=>Be(dt&&Un.getOrCreate(dt)),error:O,complete:H}}function Dt($,O){const H=function Sn($,O){const H=mt();if(!H)return[];const oe=N.aA(Ii,$,O);switch(H.getItem(oe)){case ii.NONE:return[N.L];case ii.LOCAL:return[N.i,N.a];case ii.SESSION:return[N.a];default:return[]}}($,O);if(typeof self<"u"&&!H.includes(N.i)&&H.push(N.i),typeof window<"u")for(const oe of[N.b,N.a])H.includes(oe)||H.push(oe);return H.includes(N.L)||H.push(N.L),H}class St{constructor(){this.providerId="phone",this._delegate=new N.P(ir(z.Z.auth()))}static credential(O,H){return N.P.credential(O,H)}verifyPhoneNumber(O,H){return this._delegate.verifyPhoneNumber(O,H)}unwrap(){return this._delegate}}St.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,St.PROVIDER_ID=N.P.PROVIDER_ID;const tn=N.ax;class q{constructor(O,H,oe=z.Z.app()){var Be;tn(null===(Be=oe.options)||void 0===Be?void 0:Be.apiKey,"invalid-api-key",{appName:oe.name}),this._delegate=new N.R(O,H,oe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function X($){$.INTERNAL.registerComponent(new ie.wA("auth-compat",O=>{const H=O.getProvider("app-compat").getImmediate(),oe=O.getProvider("auth");return new Me(H,oe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.M,FacebookAuthProvider:N.N,GithubAuthProvider:N.T,GoogleAuthProvider:N.Q,OAuthProvider:N.U,SAMLAuthProvider:N.V,PhoneAuthProvider:St,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:q,TwitterAuthProvider:N.W,Auth:Me,AuthCredential:N.H,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.2.24")}(z.Z)},9751:(pt,xe,B)=>{B.d(xe,{y:()=>pe});var a=B(930),z=B(727),N=B(8822),le=B(9635),de=B(2416),ye=B(576),ie=B(2806);let pe=(()=>{class te{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const Ae=new te;return Ae.source=this,Ae.operator=Le,Ae}subscribe(Le,Ae,lt){const De=function Z(te){return te&&te instanceof a.Lv||function Y(te){return te&&(0,ye.m)(te.next)&&(0,ye.m)(te.error)&&(0,ye.m)(te.complete)}(te)&&(0,z.Nn)(te)}(Le)?Le:new a.Hp(Le,Ae,lt);return(0,ie.x)(()=>{const{operator:ge,source:st}=this;De.add(ge?ge.call(De,st):st?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(Le){try{return this._subscribe(Le)}catch(Ae){Le.error(Ae)}}forEach(Le,Ae){return new(Ae=ve(Ae))((lt,De)=>{const ge=new a.Hp({next:st=>{try{Le(st)}catch(nt){De(nt),ge.unsubscribe()}},error:De,complete:lt});this.subscribe(ge)})}_subscribe(Le){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(Le)}[N.L](){return this}pipe(...Le){return(0,le.U)(Le)(this)}toPromise(Le){return new(Le=ve(Le))((Ae,lt)=>{let De;this.subscribe(ge=>De=ge,ge=>lt(ge),()=>Ae(De))})}}return te.create=Ge=>new te(Ge),te})();function ve(te){var Ge;return null!==(Ge=te??de.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(pt,xe,B)=>{B.d(xe,{x:()=>ie});var a=B(9751),z=B(727);const le=(0,B(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=B(8737),ye=B(2806);let ie=(()=>{class ve extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const te=new pe(this,this);return te.operator=Z,te}_throwIfClosed(){if(this.closed)throw new le}next(Z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(Z)}})}error(Z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:te}=this;for(;te.length;)te.shift().error(Z)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:te,isStopped:Ge,observers:Le}=this;return te||Ge?z.Lc:(this.currentObservers=null,Le.push(Z),new z.w0(()=>{this.currentObservers=null,(0,de.P)(Le,Z)}))}_checkFinalizedStatuses(Z){const{hasError:te,thrownError:Ge,isStopped:Le}=this;te?Z.error(Ge):Le&&Z.complete()}asObservable(){const Z=new a.y;return Z.source=this,Z}}return ve.create=(Y,Z)=>new pe(Y,Z),ve})();class pe extends ie{constructor(Y,Z){super(),this.destination=Y,this.source=Z}next(Y){var Z,te;null===(te=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===te||te.call(Z,Y)}error(Y){var Z,te;null===(te=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===te||te.call(Z,Y)}complete(){var Y,Z;null===(Z=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===Z||Z.call(Y)}_subscribe(Y){var Z,te;return null!==(te=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(Y))&&void 0!==te?te:z.Lc}}},930:(pt,xe,B)=>{B.d(xe,{Hp:()=>lt,Lv:()=>te});var a=B(576),z=B(727),N=B(2416),le=B(7849),de=B(5032);const ye=ve("C",void 0,void 0);function ve(Ve,Pe,Te){return{kind:Ve,value:Pe,error:Te}}var Y=B(3410),Z=B(2806);class te extends z.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,z.Nn)(Pe)&&Pe.add(this)):this.destination=nt}static create(Pe,Te,qe){return new lt(Pe,Te,qe)}next(Pe){this.isStopped?st(function pe(Ve){return ve("N",Ve,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?st(function ie(Ve){return ve("E",void 0,Ve)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?st(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Le(Ve,Pe){return Ge.call(Ve,Pe)}class Ae{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:Te}=this;if(Te.next)try{Te.next(Pe)}catch(qe){De(qe)}}error(Pe){const{partialObserver:Te}=this;if(Te.error)try{Te.error(Pe)}catch(qe){De(qe)}else De(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(Te){De(Te)}}}class lt extends te{constructor(Pe,Te,qe){let ae;if(super(),(0,a.m)(Pe)||!Pe)ae={next:Pe??void 0,error:Te??void 0,complete:qe??void 0};else{let he;this&&N.v.useDeprecatedNextContext?(he=Object.create(Pe),he.unsubscribe=()=>this.unsubscribe(),ae={next:Pe.next&&Le(Pe.next,he),error:Pe.error&&Le(Pe.error,he),complete:Pe.complete&&Le(Pe.complete,he)}):ae=Pe}this.destination=new Ae(ae)}}function De(Ve){N.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Ve):(0,le.h)(Ve)}function st(Ve,Pe){const{onStoppedNotification:Te}=N.v;Te&&Y.z.setTimeout(()=>Te(Ve,Pe))}const nt={closed:!0,next:de.Z,error:function ge(Ve){throw Ve},complete:de.Z}},727:(pt,xe,B)=>{B.d(xe,{Lc:()=>ye,w0:()=>de,Nn:()=>ie});var a=B(576);const N=(0,B(3888).d)(ve=>function(Z){ve(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((te,Ge)=>`${Ge+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var le=B(8737);class de{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Le of Z)Le.remove(this);else Z.remove(this);const{initialTeardown:te}=this;if((0,a.m)(te))try{te()}catch(Le){Y=Le instanceof N?Le.errors:[Le]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Le of Ge)try{pe(Le)}catch(Ae){Y=Y??[],Ae instanceof N?Y=[...Y,...Ae.errors]:Y.push(Ae)}}if(Y)throw new N(Y)}}add(Y){var Z;if(Y&&Y!==this)if(this.closed)pe(Y);else{if(Y instanceof de){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(Y)}}_hasParent(Y){const{_parentage:Z}=this;return Z===Y||Array.isArray(Z)&&Z.includes(Y)}_addParent(Y){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(Y),Z):Z?[Z,Y]:Y}_removeParent(Y){const{_parentage:Z}=this;Z===Y?this._parentage=null:Array.isArray(Z)&&(0,le.P)(Z,Y)}remove(Y){const{_finalizers:Z}=this;Z&&(0,le.P)(Z,Y),Y instanceof de&&Y._removeParent(this)}}de.EMPTY=(()=>{const ve=new de;return ve.closed=!0,ve})();const ye=de.EMPTY;function ie(ve){return ve instanceof de||ve&&"closed"in ve&&(0,a.m)(ve.remove)&&(0,a.m)(ve.add)&&(0,a.m)(ve.unsubscribe)}function pe(ve){(0,a.m)(ve)?ve():ve.unsubscribe()}},2416:(pt,xe,B)=>{B.d(xe,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,xe,B)=>{B.d(xe,{E:()=>z});const z=new(B(9751).y)(de=>de.complete())},8996:(pt,xe,B)=>{B.d(xe,{D:()=>Pe});var a=B(8421),z=B(5363),N=B(9468),ye=B(9751),pe=B(2202),ve=B(576),Y=B(9672);function te(Te,qe){if(!Te)throw new Error("Iterable cannot be null");return new ye.y(ae=>{(0,Y.f)(ae,qe,()=>{const he=Te[Symbol.asyncIterator]();(0,Y.f)(ae,qe,()=>{he.next().then(be=>{be.done?ae.complete():ae.next(be.value)})},0,!0)})})}var Ge=B(3670),Le=B(8239),Ae=B(1144),lt=B(6495),De=B(2206),ge=B(4532),st=B(3260);function Pe(Te,qe){return qe?function Ve(Te,qe){if(null!=Te){if((0,Ge.c)(Te))return function le(Te,qe){return(0,a.Xf)(Te).pipe((0,N.R)(qe),(0,z.Q)(qe))}(Te,qe);if((0,Ae.z)(Te))return function ie(Te,qe){return new ye.y(ae=>{let he=0;return qe.schedule(function(){he===Te.length?ae.complete():(ae.next(Te[he++]),ae.closed||this.schedule())})})}(Te,qe);if((0,Le.t)(Te))return function de(Te,qe){return(0,a.Xf)(Te).pipe((0,N.R)(qe),(0,z.Q)(qe))}(Te,qe);if((0,De.D)(Te))return te(Te,qe);if((0,lt.T)(Te))return function Z(Te,qe){return new ye.y(ae=>{let he;return(0,Y.f)(ae,qe,()=>{he=Te[pe.h](),(0,Y.f)(ae,qe,()=>{let be,ee;try{({value:be,done:ee}=he.next())}catch(ne){return void ae.error(ne)}ee?ae.complete():ae.next(be)},0,!0)}),()=>(0,ve.m)(he?.return)&&he.return()})}(Te,qe);if((0,st.L)(Te))return function nt(Te,qe){return te((0,st.Q)(Te),qe)}(Te,qe)}throw(0,ge.z)(Te)}(Te,qe):(0,a.Xf)(Te)}},8421:(pt,xe,B)=>{B.d(xe,{Xf:()=>Ge});var a=B(655),z=B(1144),N=B(8239),le=B(9751),de=B(3670),ye=B(2206),ie=B(4532),pe=B(6495),ve=B(3260),Y=B(576),Z=B(7849),te=B(8822);function Ge(Ve){if(Ve instanceof le.y)return Ve;if(null!=Ve){if((0,de.c)(Ve))return function Le(Ve){return new le.y(Pe=>{const Te=Ve[te.L]();if((0,Y.m)(Te.subscribe))return Te.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ve);if((0,z.z)(Ve))return function Ae(Ve){return new le.y(Pe=>{for(let Te=0;Te<Ve.length&&!Pe.closed;Te++)Pe.next(Ve[Te]);Pe.complete()})}(Ve);if((0,N.t)(Ve))return function lt(Ve){return new le.y(Pe=>{Ve.then(Te=>{Pe.closed||(Pe.next(Te),Pe.complete())},Te=>Pe.error(Te)).then(null,Z.h)})}(Ve);if((0,ye.D)(Ve))return ge(Ve);if((0,pe.T)(Ve))return function De(Ve){return new le.y(Pe=>{for(const Te of Ve)if(Pe.next(Te),Pe.closed)return;Pe.complete()})}(Ve);if((0,ve.L)(Ve))return function st(Ve){return ge((0,ve.Q)(Ve))}(Ve)}throw(0,ie.z)(Ve)}function ge(Ve){return new le.y(Pe=>{(function nt(Ve,Pe){var Te,qe,ae,he;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Te=(0,a.KL)(Ve);!(qe=yield Te.next()).done;)if(Pe.next(qe.value),Pe.closed)return}catch(be){ae={error:be}}finally{try{qe&&!qe.done&&(he=Te.return)&&(yield he.call(Te))}finally{if(ae)throw ae.error}}Pe.complete()})})(Ve,Pe).catch(Te=>Pe.error(Te))})}},6451:(pt,xe,B)=>{B.d(xe,{T:()=>ye});var a=B(8189),z=B(8421),N=B(515),le=B(3269),de=B(8996);function ye(...ie){const pe=(0,le.yG)(ie),ve=(0,le._6)(ie,1/0),Y=ie;return Y.length?1===Y.length?(0,z.Xf)(Y[0]):(0,a.J)(ve)((0,de.D)(Y,pe)):N.E}},5403:(pt,xe,B)=>{B.d(xe,{x:()=>z});var a=B(930);function z(le,de,ye,ie,pe){return new N(le,de,ye,ie,pe)}class N extends a.Lv{constructor(de,ye,ie,pe,ve,Y){super(de),this.onFinalize=ve,this.shouldUnsubscribe=Y,this._next=ye?function(Z){try{ye(Z)}catch(te){de.error(te)}}:super._next,this._error=pe?function(Z){try{pe(Z)}catch(te){de.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(Z){de.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(pt,xe,B)=>{B.d(xe,{U:()=>N});var a=B(4482),z=B(5403);function N(le,de){return(0,a.e)((ye,ie)=>{let pe=0;ye.subscribe((0,z.x)(ie,ve=>{ie.next(le.call(de,ve,pe++))}))})}},8189:(pt,xe,B)=>{B.d(xe,{J:()=>N});var a=B(5577),z=B(4671);function N(le=1/0){return(0,a.z)(z.y,le)}},5577:(pt,xe,B)=>{B.d(xe,{z:()=>pe});var a=B(4004),z=B(8421),N=B(4482),le=B(9672),de=B(5403),ie=B(576);function pe(ve,Y,Z=1/0){return(0,ie.m)(Y)?pe((te,Ge)=>(0,a.U)((Le,Ae)=>Y(te,Le,Ge,Ae))((0,z.Xf)(ve(te,Ge))),Z):("number"==typeof Y&&(Z=Y),(0,N.e)((te,Ge)=>function ye(ve,Y,Z,te,Ge,Le,Ae,lt){const De=[];let ge=0,st=0,nt=!1;const Ve=()=>{nt&&!De.length&&!ge&&Y.complete()},Pe=qe=>ge<te?Te(qe):De.push(qe),Te=qe=>{Le&&Y.next(qe),ge++;let ae=!1;(0,z.Xf)(Z(qe,st++)).subscribe((0,de.x)(Y,he=>{Ge?.(he),Le?Pe(he):Y.next(he)},()=>{ae=!0},void 0,()=>{if(ae)try{for(ge--;De.length&&ge<te;){const he=De.shift();Ae?(0,le.f)(Y,Ae,()=>Te(he)):Te(he)}Ve()}catch(he){Y.error(he)}}))};return ve.subscribe((0,de.x)(Y,Pe,()=>{nt=!0,Ve()})),()=>{lt?.()}}(te,Ge,ve,Z)))}},5363:(pt,xe,B)=>{B.d(xe,{Q:()=>le});var a=B(9672),z=B(4482),N=B(5403);function le(de,ye=0){return(0,z.e)((ie,pe)=>{ie.subscribe((0,N.x)(pe,ve=>(0,a.f)(pe,de,()=>pe.next(ve),ye),()=>(0,a.f)(pe,de,()=>pe.complete(),ye),ve=>(0,a.f)(pe,de,()=>pe.error(ve),ye)))})}},3099:(pt,xe,B)=>{B.d(xe,{B:()=>de});var a=B(8421),z=B(7579),N=B(930),le=B(4482);function de(ie={}){const{connector:pe=(()=>new z.x),resetOnError:ve=!0,resetOnComplete:Y=!0,resetOnRefCountZero:Z=!0}=ie;return te=>{let Ge,Le,Ae,lt=0,De=!1,ge=!1;const st=()=>{Le?.unsubscribe(),Le=void 0},nt=()=>{st(),Ge=Ae=void 0,De=ge=!1},Ve=()=>{const Pe=Ge;nt(),Pe?.unsubscribe()};return(0,le.e)((Pe,Te)=>{lt++,!ge&&!De&&st();const qe=Ae=Ae??pe();Te.add(()=>{lt--,0===lt&&!ge&&!De&&(Le=ye(Ve,Z))}),qe.subscribe(Te),!Ge&&lt>0&&(Ge=new N.Hp({next:ae=>qe.next(ae),error:ae=>{ge=!0,st(),Le=ye(nt,ve,ae),qe.error(ae)},complete:()=>{De=!0,st(),Le=ye(nt,Y),qe.complete()}}),(0,a.Xf)(Pe).subscribe(Ge))})(te)}}function ye(ie,pe,...ve){if(!0===pe)return void ie();if(!1===pe)return;const Y=new N.Hp({next:()=>{Y.unsubscribe(),ie()}});return pe(...ve).subscribe(Y)}},9468:(pt,xe,B)=>{B.d(xe,{R:()=>z});var a=B(4482);function z(N,le=0){return(0,a.e)((de,ye)=>{ye.add(N.schedule(()=>de.subscribe(ye),le))})}},8505:(pt,xe,B)=>{B.d(xe,{b:()=>de});var a=B(576),z=B(4482),N=B(5403),le=B(4671);function de(ye,ie,pe){const ve=(0,a.m)(ye)||ie||pe?{next:ye,error:ie,complete:pe}:ye;return ve?(0,z.e)((Y,Z)=>{var te;null===(te=ve.subscribe)||void 0===te||te.call(ve);let Ge=!0;Y.subscribe((0,N.x)(Z,Le=>{var Ae;null===(Ae=ve.next)||void 0===Ae||Ae.call(ve,Le),Z.next(Le)},()=>{var Le;Ge=!1,null===(Le=ve.complete)||void 0===Le||Le.call(ve),Z.complete()},Le=>{var Ae;Ge=!1,null===(Ae=ve.error)||void 0===Ae||Ae.call(ve,Le),Z.error(Le)},()=>{var Le,Ae;Ge&&(null===(Le=ve.unsubscribe)||void 0===Le||Le.call(ve)),null===(Ae=ve.finalize)||void 0===Ae||Ae.call(ve)}))}):le.y}},4408:(pt,xe,B)=>{B.d(xe,{o:()=>de});var a=B(727);class z extends a.w0{constructor(ie,pe){super()}schedule(ie,pe=0){return this}}const N={setInterval(ye,ie,...pe){const{delegate:ve}=N;return ve?.setInterval?ve.setInterval(ye,ie,...pe):setInterval(ye,ie,...pe)},clearInterval(ye){const{delegate:ie}=N;return(ie?.clearInterval||clearInterval)(ye)},delegate:void 0};var le=B(8737);class de extends z{constructor(ie,pe){super(ie,pe),this.scheduler=ie,this.work=pe,this.pending=!1}schedule(ie,pe=0){var ve;if(this.closed)return this;this.state=ie;const Y=this.id,Z=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(Z,Y,pe)),this.pending=!0,this.delay=pe,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(Z,this.id,pe),this}requestAsyncId(ie,pe,ve=0){return N.setInterval(ie.flush.bind(ie,this),ve)}recycleAsyncId(ie,pe,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return pe;null!=pe&&N.clearInterval(pe)}execute(ie,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(ie,pe);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,pe){let Y,ve=!1;try{this.work(ie)}catch(Z){ve=!0,Y=Z||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:ie,scheduler:pe}=this,{actions:ve}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ve,this),null!=ie&&(this.id=this.recycleAsyncId(pe,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,xe,B)=>{B.d(xe,{v:()=>N});var a=B(6063);class z{constructor(de,ye=z.now){this.schedulerActionCtor=de,this.now=ye}schedule(de,ye=0,ie){return new this.schedulerActionCtor(this,de).schedule(ie,ye)}}z.now=a.l.now;class N extends z{constructor(de,ye=z.now){super(de,ye),this.actions=[],this._active=!1}flush(de){const{actions:ye}=this;if(this._active)return void ye.push(de);let ie;this._active=!0;do{if(ie=de.execute(de.state,de.delay))break}while(de=ye.shift());if(this._active=!1,ie){for(;de=ye.shift();)de.unsubscribe();throw ie}}}},4986:(pt,xe,B)=>{B.d(xe,{P:()=>le,z:()=>N});var a=B(4408);const N=new(B(7565).v)(a.o),le=N},6063:(pt,xe,B)=>{B.d(xe,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(pt,xe,B)=>{B.d(xe,{z:()=>a});const a={setTimeout(z,N,...le){const{delegate:de}=a;return de?.setTimeout?de.setTimeout(z,N,...le):setTimeout(z,N,...le)},clearTimeout(z){const{delegate:N}=a;return(N?.clearTimeout||clearTimeout)(z)},delegate:void 0}},2202:(pt,xe,B)=>{B.d(xe,{h:()=>z});const z=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,xe,B)=>{B.d(xe,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(pt,xe,B)=>{B.d(xe,{_6:()=>ye,jO:()=>le,yG:()=>de});var a=B(576),z=B(3532);function N(ie){return ie[ie.length-1]}function le(ie){return(0,a.m)(N(ie))?ie.pop():void 0}function de(ie){return(0,z.K)(N(ie))?ie.pop():void 0}function ye(ie,pe){return"number"==typeof N(ie)?ie.pop():pe}},8737:(pt,xe,B)=>{function a(z,N){if(z){const le=z.indexOf(N);0<=le&&z.splice(le,1)}}B.d(xe,{P:()=>a})},3888:(pt,xe,B)=>{function a(z){const le=z(de=>{Error.call(de),de.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}B.d(xe,{d:()=>a})},2806:(pt,xe,B)=>{B.d(xe,{O:()=>le,x:()=>N});var a=B(2416);let z=null;function N(de){if(a.v.useDeprecatedSynchronousErrorHandling){const ye=!z;if(ye&&(z={errorThrown:!1,error:null}),de(),ye){const{errorThrown:ie,error:pe}=z;if(z=null,ie)throw pe}}else de()}function le(de){a.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=de)}},9672:(pt,xe,B)=>{function a(z,N,le,de=0,ye=!1){const ie=N.schedule(function(){le(),ye?z.add(this.schedule(null,de)):this.unsubscribe()},de);if(z.add(ie),!ye)return ie}B.d(xe,{f:()=>a})},4671:(pt,xe,B)=>{function a(z){return z}B.d(xe,{y:()=>a})},1144:(pt,xe,B)=>{B.d(xe,{z:()=>a});const a=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(pt,xe,B)=>{B.d(xe,{D:()=>z});var a=B(576);function z(N){return Symbol.asyncIterator&&(0,a.m)(N?.[Symbol.asyncIterator])}},576:(pt,xe,B)=>{function a(z){return"function"==typeof z}B.d(xe,{m:()=>a})},3670:(pt,xe,B)=>{B.d(xe,{c:()=>N});var a=B(8822),z=B(576);function N(le){return(0,z.m)(le[a.L])}},6495:(pt,xe,B)=>{B.d(xe,{T:()=>N});var a=B(2202),z=B(576);function N(le){return(0,z.m)(le?.[a.h])}},8239:(pt,xe,B)=>{B.d(xe,{t:()=>z});var a=B(576);function z(N){return(0,a.m)(N?.then)}},3260:(pt,xe,B)=>{B.d(xe,{L:()=>le,Q:()=>N});var a=B(655),z=B(576);function N(de){return(0,a.FC)(this,arguments,function*(){const ie=de.getReader();try{for(;;){const{value:pe,done:ve}=yield(0,a.qq)(ie.read());if(ve)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(pe)}}finally{ie.releaseLock()}})}function le(de){return(0,z.m)(de?.getReader)}},3532:(pt,xe,B)=>{B.d(xe,{K:()=>z});var a=B(576);function z(N){return N&&(0,a.m)(N.schedule)}},4482:(pt,xe,B)=>{B.d(xe,{A:()=>z,e:()=>N});var a=B(576);function z(le){return(0,a.m)(le?.lift)}function N(le){return de=>{if(z(de))return de.lift(function(ye){try{return le(ye,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(pt,xe,B)=>{function a(){}B.d(xe,{Z:()=>a})},9635:(pt,xe,B)=>{B.d(xe,{U:()=>N,z:()=>z});var a=B(4671);function z(...le){return N(le)}function N(le){return 0===le.length?a.y:1===le.length?le[0]:function(ye){return le.reduce((ie,pe)=>pe(ie),ye)}}},7849:(pt,xe,B)=>{B.d(xe,{h:()=>N});var a=B(2416),z=B(3410);function N(le){z.z.setTimeout(()=>{const{onUnhandledError:de}=a.v;if(!de)throw le;de(le)})}},4532:(pt,xe,B)=>{function a(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(xe,{z:()=>a})},655:(pt,xe,B)=>{function le(ee,ne){var me={};for(var ue in ee)Object.prototype.hasOwnProperty.call(ee,ue)&&ne.indexOf(ue)<0&&(me[ue]=ee[ue]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(ue=Object.getOwnPropertySymbols(ee);je<ue.length;je++)ne.indexOf(ue[je])<0&&Object.prototype.propertyIsEnumerable.call(ee,ue[je])&&(me[ue[je]]=ee[ue[je]])}return me}function pe(ee,ne,me,ue){return new(me||(me=Promise))(function($e,Ct){function un(vn){try{Je(ue.next(vn))}catch(On){Ct(On)}}function Wt(vn){try{Je(ue.throw(vn))}catch(On){Ct(On)}}function Je(vn){vn.done?$e(vn.value):function je($e){return $e instanceof me?$e:new me(function(Ct){Ct($e)})}(vn.value).then(un,Wt)}Je((ue=ue.apply(ee,ne||[])).next())})}function De(ee){return this instanceof De?(this.v=ee,this):new De(ee)}function ge(ee,ne,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,ue=me.apply(ee,ne||[]),$e=[];return je={},Ct("next"),Ct("throw"),Ct("return"),je[Symbol.asyncIterator]=function(){return this},je;function Ct(nn){ue[nn]&&(je[nn]=function(rn){return new Promise(function(qt,Ht){$e.push([nn,rn,qt,Ht])>1||un(nn,rn)})})}function un(nn,rn){try{!function Wt(nn){nn.value instanceof De?Promise.resolve(nn.value.v).then(Je,vn):On($e[0][2],nn)}(ue[nn](rn))}catch(qt){On($e[0][3],qt)}}function Je(nn){un("next",nn)}function vn(nn){un("throw",nn)}function On(nn,rn){nn(rn),$e.shift(),$e.length&&un($e[0][0],$e[0][1])}}function nt(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ne=ee[Symbol.asyncIterator];return ne?ne.call(ee):(ee=function te(ee){var ne="function"==typeof Symbol&&Symbol.iterator,me=ne&&ee[ne],ue=0;if(me)return me.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&ue>=ee.length&&(ee=void 0),{value:ee&&ee[ue++],done:!ee}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),me={},ue("next"),ue("throw"),ue("return"),me[Symbol.asyncIterator]=function(){return this},me);function ue($e){me[$e]=ee[$e]&&function(Ct){return new Promise(function(un,Wt){!function je($e,Ct,un,Wt){Promise.resolve(Wt).then(function(Je){$e({value:Je,done:un})},Ct)}(un,Wt,(Ct=ee[$e](Ct)).done,Ct.value)})}}}B.d(xe,{FC:()=>ge,KL:()=>nt,_T:()=>le,mG:()=>pe,qq:()=>De})},4650:(pt,xe,B)=>{B.d(xe,{$8M:()=>yc,$Z:()=>Mc,AFp:()=>U_,ALo:()=>zp,AaK:()=>pe,Akn:()=>Ua,BQk:()=>Ba,CHM:()=>Of,CRH:()=>Ph,CZH:()=>Lh,CqO:()=>h0,D6c:()=>ze,EJc:()=>nm,EiD:()=>Dc,EpF:()=>rE,F$t:()=>xp,F4k:()=>sE,FYo:()=>WT,FiY:()=>Ce,G48:()=>eI,Gf:()=>Oh,GfV:()=>$w,Gpc:()=>Z,Gre:()=>bE,Hsn:()=>m0,Ikx:()=>h_,JOm:()=>ka,JVY:()=>_g,KtG:()=>la,L6k:()=>sv,LAX:()=>av,LFG:()=>jt,LSH:()=>vg,Lbi:()=>mb,Lck:()=>xh,MAs:()=>l0,MMx:()=>eD,NdJ:()=>$u,O4$:()=>du,OlP:()=>Fn,Oqu:()=>v0,PXZ:()=>Cb,Q6J:()=>r_,QGY:()=>d0,QP$:()=>Be,QbO:()=>ND,Qsj:()=>EN,R0b:()=>mn,RDi:()=>mg,Rgc:()=>Ku,SBq:()=>Au,Sil:()=>_b,Suo:()=>pD,TTD:()=>Hs,TgZ:()=>wh,Udp:()=>y0,WFA:()=>f0,X6Q:()=>JD,XFs:()=>it,Xpm:()=>Me,Xts:()=>fv,Y36:()=>Pa,YKP:()=>XE,YNc:()=>$l,Yjl:()=>$,Yz7:()=>rn,Z0I:()=>Xr,ZZ4:()=>ey,_Bn:()=>jp,_UZ:()=>c0,_Vd:()=>Sc,_c5:()=>Pb,_uU:()=>kM,aQg:()=>Ob,c2e:()=>FD,cJS:()=>Ht,cg1:()=>IE,d8E:()=>T0,dDg:()=>Vc,dqk:()=>Pt,eBb:()=>ov,eFA:()=>YD,ekj:()=>Pp,eoX:()=>vb,f3M:()=>_n,g9A:()=>OD,h0i:()=>Mh,hGG:()=>Gx,hij:()=>b0,iGM:()=>fD,ifc:()=>gt,ip1:()=>B_,jDz:()=>tD,kL8:()=>SE,kcU:()=>Fd,lG2:()=>X,lcZ:()=>lD,lqb:()=>xa,lri:()=>$D,mCW:()=>y,n5z:()=>Zs,n_E:()=>Gp,oAB:()=>tn,oxw:()=>cE,pB0:()=>Jd,q3G:()=>zn,q4F:()=>zw,qLn:()=>up,qOj:()=>yh,qZA:()=>s_,qzn:()=>eo,rWj:()=>Uh,s9C:()=>g0,sBO:()=>Kl,sIi:()=>Ep,s_b:()=>Wp,soG:()=>$_,tb:()=>tm,tp0:()=>_t,uIk:()=>Bu,vHH:()=>Ae,vpe:()=>vr,wAp:()=>Rt,xp6:()=>C1,ynx:()=>o_,z2F:()=>K_,z3N:()=>Ts,zSh:()=>Eg,zs3:()=>ro});var a=B(7579),z=B(727),N=B(9751),le=B(6451),de=B(3099);function ye(o){for(let l in o)if(o[l]===ye)return l;throw Error("Could not find renamed property on target object.")}function ie(o,l){for(const u in l)l.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=l[u])}function pe(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(pe).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function ve(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const Y=ye({__forward_ref__:ye});function Z(o){return o.__forward_ref__=Z,o.toString=function(){return pe(this())},o}function te(o){return Ge(o)?o():o}function Ge(o){return"function"==typeof o&&o.hasOwnProperty(Y)&&o.__forward_ref__===Z}class Ae extends Error{constructor(l,u){super(function lt(o,l){return`NG0${Math.abs(o)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function De(o){return"string"==typeof o?o:null==o?"":String(o)}function Pe(o,l){throw new Ae(-201,!1)}function Wt(o,l){null==o&&function Je(o,l,u,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,o,null,"!=")}function rn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Ht(o){return{providers:o.providers||[],imports:o.imports||[]}}function Pi(o){return tr(o,nr)||tr(o,Hr)}function Xr(o){return null!==Pi(o)}function tr(o,l){return o.hasOwnProperty(l)?o[l]:null}function es(o){return o&&(o.hasOwnProperty(Kn)||o.hasOwnProperty(ts))?o[Kn]:null}const nr=ye({\u0275prov:ye}),Kn=ye({\u0275inj:ye}),Hr=ye({ngInjectableDef:ye}),ts=ye({ngInjectorDef:ye});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let fi;function Mn(o){const l=fi;return fi=o,l}function Ii(o,l,u){const h=Pi(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&it.Optional?null:void 0!==l?l:void Pe(pe(o))}function xn(o){return{toString:o}.toString()}var Pn=(()=>((Pn=Pn||{})[Pn.OnPush=0]="OnPush",Pn[Pn.Default=1]="Default",Pn))(),gt=(()=>{return(o=gt||(gt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",gt;var o})();const Pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zi={},Mt=[],Gi=ye({\u0275cmp:ye}),Vt=ye({\u0275dir:ye}),fr=ye({\u0275pipe:ye}),Xt=ye({\u0275mod:ye}),bi=ye({\u0275fac:ye}),Un=ye({__NG_ELEMENT_ID__:ye});let ot=0;function Me(o){return xn(()=>{const u=!0===o.standalone,h={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Pn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Mt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||gt.Emulated,id:"c"+ot++,styles:o.styles||Mt,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.dependencies,v=o.features;return f.inputs=G(o.inputs,h),f.outputs=G(o.outputs),v&&v.forEach(w=>w(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(Dt).filter(St):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(oe).filter(St):null,f})}function Dt(o){return O(o)||H(o)}function St(o){return null!==o}function tn(o){return xn(()=>({type:o.type,bootstrap:o.bootstrap||Mt,declarations:o.declarations||Mt,imports:o.imports||Mt,exports:o.exports||Mt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function G(o,l){if(null==o)return zi;const u={};for(const h in o)if(o.hasOwnProperty(h)){let f=o[h],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=h,l&&(l[f]=m)}return u}const X=Me;function $(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function O(o){return o[Gi]||null}function H(o){return o[Vt]||null}function oe(o){return o[fr]||null}function Be(o){const l=O(o)||H(o)||oe(o);return null!==l&&l.standalone}function ut(o,l){const u=o[Xt]||null;if(!u&&!0===l)throw new Error(`Type ${pe(o)} does not have '\u0275mod' property.`);return u}function pi(o){return Array.isArray(o)&&"object"==typeof o[1]}function wr(o){return Array.isArray(o)&&!0===o[1]}function Us(o){return 0!=(8&o.flags)}function al(o){return 2==(2&o.flags)}function ll(o){return 1==(1&o.flags)}function mr(o){return null!==o.template}function iu(o){return 0!=(256&o[2])}function Ni(o,l){return o.hasOwnProperty(bi)?o[bi]:null}class sa{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Hs(){return Td}function Td(o){return o.type.prototype.ngOnChanges&&(o.setInput=ru),ac}function ac(){const o=oa(this),l=o?.current;if(l){const u=o.previous;if(u===zi)o.previous=l;else for(let h in l)u[h]=l[h];o.current=null,this.ngOnChanges(l)}}function ru(o,l,u,h){const f=oa(o)||function js(o,l){return o[Ad]=l}(o,{previous:zi,current:null}),m=f.current||(f.current={}),v=f.previous,w=this.declaredInputs[u],I=v[w];m[w]=new sa(I&&I.currentValue,l,v===zi),o[h]=l}Hs.ngInherit=!0;const Ad="__ngSimpleChanges__";function oa(o){return o[Ad]||null}function Wn(o){for(;Array.isArray(o);)o=o[0];return o}function jr(o,l){return Wn(l[o])}function Fi(o,l){return Wn(l[o.index])}function Io(o,l){return o.data[l]}function ns(o,l){return o[l]}function dn(o,l){const u=l[o];return pi(u)?u:u[0]}function $s(o){return 64==(64&o[2])}function Sr(o,l){return null==l?null:o[l]}function dl(o){o[18]=0}function Qn(o,l){o[5]+=l;let u=o,h=o[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const Ft={lFrame:Cl(null),bindingsEnabled:!0};function So(){return Ft.bindingsEnabled}function Ne(){return Ft.lFrame.lView}function Yt(){return Ft.lFrame.tView}function Of(o){return Ft.lFrame.contextLView=o,o[8]}function la(o){return Ft.lFrame.contextLView=null,o}function mi(){let o=ca();for(;null!==o&&64===o.type;)o=o.parent;return o}function ca(){return Ft.lFrame.currentTNode}function rr(o,l){const u=Ft.lFrame;u.currentTNode=o,u.isParent=l}function uc(){return Ft.lFrame.isParent}function ua(){Ft.lFrame.isParent=!1}function yl(){return Ft.lFrame.bindingIndex++}function Cs(o){const l=Ft.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,u}function Rd(o,l){const u=Ft.lFrame;u.bindingIndex=u.bindingRootIndex=o,da(l)}function da(o){Ft.lFrame.currentDirectiveIndex=o}function cu(o){const l=Ft.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function vl(){return Ft.lFrame.currentQueryIndex}function uu(o){Ft.lFrame.currentQueryIndex=o}function bl(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function Od(o,l,u){if(u&it.SkipSelf){let f=l,m=o;for(;!(f=f.parent,null!==f||u&it.Host||(f=bl(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;l=f,o=m}const h=Ft.lFrame=Ff();return h.currentTNode=l,h.lView=o,!0}function ha(o){const l=Ff(),u=o[1];Ft.lFrame=l,l.currentTNode=u.firstChild,l.lView=o,l.tView=u,l.contextLView=o,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Ff(){const o=Ft.lFrame,l=null===o?null:o.child;return null===l?Cl(o):l}function Cl(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function Lf(){const o=Ft.lFrame;return Ft.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Pd=Lf;function zs(){const o=Lf();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function jn(){return Ft.lFrame.selectedIndex}function ws(o){Ft.lFrame.selectedIndex=o}function $n(){const o=Ft.lFrame;return Io(o.tView,o.selectedIndex)}function du(){Ft.lFrame.currentNamespace="svg"}function Fd(){!function fu(){Ft.lFrame.currentNamespace=null}()}function dc(o,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:A,ngOnDestroy:R}=m;v&&(o.contentHooks||(o.contentHooks=[])).push(-u,v),w&&((o.contentHooks||(o.contentHooks=[])).push(u,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,w)),I&&(o.viewHooks||(o.viewHooks=[])).push(-u,I),A&&((o.viewHooks||(o.viewHooks=[])).push(u,A),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,A)),null!=R&&(o.destroyHooks||(o.destroyHooks=[])).push(u,R)}}function fa(o,l,u){ma(o,l,3,u)}function pa(o,l,u,h){(3&o[2])===u&&ma(o,l,u,h)}function Ld(o,l){let u=o[2];(3&u)===l&&(u&=2047,u+=1,o[2]=u)}function ma(o,l,u,h){const m=h??-1,v=l.length-1;let w=0;for(let I=void 0!==h?65535&o[18]:0;I<v;I++)if("number"==typeof l[I+1]){if(w=l[I],null!=h&&w>=h)break}else l[I]<0&&(o[18]+=65536),(w<m||-1==m)&&(Vd(o,u,l,I),o[18]=(4294901760&o[18])+I+2),I++}function Vd(o,l,u,h){const f=u[h]<0,m=u[h+1],w=o[f?-u[h]:u[h]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class Tr{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Es(o,l,u){let h=0;for(;h<u.length;){const f=u[h];if("number"==typeof f){if(0!==f)break;h++;const m=u[h++],v=u[h++],w=u[h++];o.setAttribute(l,v,w,m)}else{const m=f,v=u[++h];_u(m)?o.setProperty(l,m,v):o.setAttribute(l,m,v),h++}}return h}function El(o){return 3===o||4===o||6===o}function _u(o){return 64===o.charCodeAt(0)}function Dl(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?u=f:0===u||Ud(o,u,f,null,-1===u||2===u?l[++h]:null)}}return o}function Ud(o,l,u,h,f){let m=0,v=o.length;if(-1===l)v=-1;else for(;m<o.length;){const w=o[m++];if("number"==typeof w){if(w===l){v=-1;break}if(w>l){v=m-1;break}}}for(;m<o.length;){const w=o[m];if("number"==typeof w)break;if(w===u){if(null===h)return void(null!==f&&(o[m+1]=f));if(h===o[m+1])return void(o[m+2]=f)}m++,null!==h&&m++,null!==f&&m++}-1!==v&&(o.splice(v,0,l),m=v+1),o.splice(m++,0,u),null!==h&&o.splice(m++,0,h),null!==f&&o.splice(m++,0,f)}function Bf(o){return-1!==o}function _i(o){return 32767&o}function Ws(o,l){let u=function Uf(o){return o>>16}(o),h=l;for(;u>0;)h=h[15],u--;return h}let yu=!0;function Il(o){const l=yu;return yu=o,l}let Hd=0;const _r={};function Ds(o,l){const u=mc(o,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(o.injectorIndex=l.length,vu(h.data,o),vu(l,null),vu(h.blueprint,null));const f=Sl(o,l),m=o.injectorIndex;if(Bf(f)){const v=_i(f),w=Ws(f,l),I=w[1].data;for(let A=0;A<8;A++)l[m+A]=w[v+A]|I[v+A]}return l[m+8]=f,m}function vu(o,l){o.push(0,0,0,0,0,0,0,0,l)}function mc(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function Sl(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,h=null,f=l;for(;null!==f;){if(h=wa(f),null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Ao(o,l,u){!function jd(o,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(Un)&&(h=u[Un]),null==h&&(h=u[Un]=Hd++);const f=255&h;l.data[o+(f>>5)]|=1<<f}(o,l,u)}function _a(o,l,u){if(u&it.Optional||void 0!==o)return o;Pe()}function Mo(o,l,u,h){if(u&it.Optional&&void 0===h&&(h=null),0==(u&(it.Self|it.Host))){const f=o[9],m=Mn(void 0);try{return f?f.get(l,h,u&it.Optional):Ii(l,h,u&it.Optional)}finally{Mn(m)}}return _a(h,0,u)}function ya(o,l,u,h=it.Default,f){if(null!==o){if(1024&l[2]){const v=function $f(o,l,u,h,f){let m=o,v=l;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const w=$d(m,v,u,h|it.Self,_r);if(w!==_r)return w;let I=m.parent;if(!I){const A=v[21];if(A){const R=A.get(u,_r,h);if(R!==_r)return R}I=wa(v),v=v[15]}m=I}return f}(o,l,u,h,_r);if(v!==_r)return v}const m=$d(o,l,u,h,_r);if(m!==_r)return m}return Mo(l,u,h,f)}function $d(o,l,u,h,f){const m=function jf(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(Un)?o[Un]:void 0;return"number"==typeof l?l>=0?255&l:bu:l}(u);if("function"==typeof m){if(!Od(l,o,h))return h&it.Host?_a(f,0,h):Mo(l,u,h,f);try{const v=m(h);if(null!=v||h&it.Optional)return v;Pe()}finally{Pd()}}else if("number"==typeof m){let v=null,w=mc(o,l),I=-1,A=h&it.Host?l[16][6]:null;for((-1===w||h&it.SkipSelf)&&(I=-1===w?Sl(o,l):l[w+8],-1!==I&&_c(h,!1)?(v=l[1],w=_i(I),l=Ws(I,l)):w=-1);-1!==w;){const R=l[1];if(va(m,w,R.data)){const U=gc(w,l,u,v,h,A);if(U!==_r)return U}I=l[w+8],-1!==I&&_c(h,l[1].data[w+8]===A)&&va(m,w,l)?(v=R,w=_i(I),l=Ws(I,l)):w=-1}}return f}function gc(o,l,u,h,f,m){const v=l[1],w=v.data[o+8],R=Al(w,v,u,null==h?al(w)&&yu:h!=v&&0!=(3&w.type),f&it.Host&&m===w);return null!==R?rs(l,v,R,w):_r}function Al(o,l,u,h,f){const m=o.providerIndexes,v=l.data,w=1048575&m,I=o.directiveStart,R=m>>20,W=f?w+R:o.directiveEnd;for(let Q=h?w:w+R;Q<W;Q++){const Ie=v[Q];if(Q<I&&u===Ie||Q>=I&&Ie.type===u)return Q}if(f){const Q=v[I];if(Q&&mr(Q)&&Q.type===u)return I}return null}function rs(o,l,u,h){let f=o[u];const m=l.data;if(function gu(o){return o instanceof Tr}(f)){const v=f;v.resolving&&function st(o,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${o}${u}`)}(function ge(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():De(o)}(m[u]));const w=Il(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?Mn(v.injectImpl):null;Od(o,h,it.Default);try{f=o[u]=v.factory(void 0,m,o,h),l.firstCreatePass&&u>=h.directiveStart&&function mu(o,l,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(h){const v=Td(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,f),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],l)}finally{null!==I&&Mn(I),Il(w),v.resolving=!1,Pd()}}return f}function va(o,l,u){return!!(u[l+(o>>5)]&1<<o)}function _c(o,l){return!(o&it.Self||o&it.Host&&l)}class ba{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return ya(this._tNode,this._lView,l,h,u)}}function bu(){return new ba(mi(),Ne())}function Zs(o){return xn(()=>{const l=o.prototype.constructor,u=l[bi]||Ca(l),h=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==h;){const m=f[bi]||Ca(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Ca(o){return Ge(o)?()=>{const l=Ca(te(o));return l&&l()}:Ni(o)}function wa(o){const l=o[1],u=l.type;return 2===u?l.declTNode:1===u?o[6]:null}function yc(o){return function Tl(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const u=o.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const m=u[f];if(El(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(m===l)return u[f+1];f+=2}}}return null}(mi(),o)}const Ea="__parameters__";function Ia(o,l,u){return xn(()=>{const h=function Cu(o){return function(...u){if(o){const h=o(...u);for(const f in h)this[f]=h[f]}}}(l);function f(...m){if(this instanceof f)return h.apply(this,m),this;const v=new f(...m);return w.annotation=v,w;function w(I,A,R){const U=I.hasOwnProperty(Ea)?I[Ea]:Object.defineProperty(I,Ea,{value:[]})[Ea];for(;U.length<=R;)U.push(null);return(U[R]=U[R]||[]).push(v),I}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class Fn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=rn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function kn(o,l){void 0===l&&(l=o);for(let u=0;u<o.length;u++){let h=o[u];Array.isArray(h)?(l===o&&(l=o.slice(0,u)),kn(h,l)):l!==o&&l.push(h)}return l}function Is(o,l){o.forEach(u=>Array.isArray(u)?Is(u,l):l(u))}function Ro(o,l,u){l>=o.length?o.push(u):o.splice(l,0,u)}function Ln(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function Oo(o,l){const u=[];for(let h=0;h<o;h++)u.push(l);return u}function Qe(o,l,u){let h=as(o,l);return h>=0?o[1|h]=u:(h=~h,function Wf(o,l,u,h){let f=o.length;if(f==l)o.push(u,h);else if(1===f)o.push(h,o[0]),o[0]=u;else{for(f--,o.push(o[f-1],o[f]);f>l;)o[f]=o[f-2],f--;o[l]=u,o[l+1]=h}}(o,h,l,u)),h}function wu(o,l){const u=as(o,l);if(u>=0)return o[1|u]}function as(o,l){return function xl(o,l,u){let h=0,f=o.length>>u;for(;f!==h;){const m=h+(f-h>>1),v=o[m<<u];if(l===v)return m<<u;v>l?f=m:h=m+1}return~(f<<u)}(o,l,1)}const yr={},bc="__NG_DI_FLAG__",Zi="ngTempTokenPath",Li=/\n/gm,wn="__source";let Ks;function No(o){const l=Ks;return Ks=o,l}function Zn(o,l=it.Default){if(void 0===Ks)throw new Ae(-203,!1);return null===Ks?Ii(o,void 0,l):Ks.get(o,l&it.Optional?null:void 0,l)}function jt(o,l=it.Default){return(function ii(){return fi}()||Zn)(te(o),l)}function _n(o,l=it.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),jt(o,l)}function S(o){const l=[];for(let u=0;u<o.length;u++){const h=te(o[u]);if(Array.isArray(h)){if(0===h.length)throw new Ae(900,!1);let f,m=it.Default;for(let v=0;v<h.length;v++){const w=h[v],I=k(w);"number"==typeof I?-1===I?f=w.token:m|=I:f=w}l.push(jt(f,m))}else l.push(jt(h))}return l}function T(o,l){return o[bc]=l,o.prototype[bc]=l,o}function k(o){return o[bc]}const Ce=T(Ia("Optional"),8),_t=T(Ia("SkipSelf"),4);let Qf,Eu;function mg(o){Qf=o}function Vo(o){return function Kd(){if(void 0===Eu&&(Eu=null,Pt.trustedTypes))try{Eu=Pt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Eu}()?.createHTML(o)||o}class Nl{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ec extends Nl{getTypeName(){return"HTML"}}class Iu extends Nl{getTypeName(){return"Style"}}class Jf extends Nl{getTypeName(){return"Script"}}class Xd extends Nl{getTypeName(){return"URL"}}class ep extends Nl{getTypeName(){return"ResourceURL"}}function Ts(o){return o instanceof Nl?o.changingThisBreaksApplicationSecurity:o}function eo(o,l){const u=function tp(o){return o instanceof Nl&&o.getTypeName()||null}(o);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function _g(o){return new Ec(o)}function sv(o){return new Iu(o)}function ov(o){return new Jf(o)}function av(o){return new Xd(o)}function Jd(o){return new ep(o)}class lv{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Vo(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class cv{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Vo(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Vo(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function y(o){return(o=String(o)).match(g)?o:"unsafe:"+o}function E(o){const l={};for(const u of o.split(","))l[u]=!0;return l}function x(...o){const l={};for(const u of o)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const F=E("area,br,col,hr,img,wbr"),re=E("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Re=E("rp,rt"),En=x(F,x(re,E("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),x(Re,E("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),x(Re,re)),sr=E("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),th=x(sr,E("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),E("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nh=E("script,style,template");class Fl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!En.hasOwnProperty(u))return this.sanitizedSomething=!0,!nh.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let f=0;f<h.length;f++){const m=h.item(f),v=m.name,w=v.toLowerCase();if(!th.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let I=m.value;sr[w]&&(I=y(I)),this.buf.push(" ",v,'="',ih(I),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();En.hasOwnProperty(u)&&!F.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(ih(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const yg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ip=/([^\#-~ |!])/g;function ih(o){return o.replace(/&/g,"&amp;").replace(yg,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(ip,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Su;function Dc(o,l){let u=null;try{Su=Su||function np(o){const l=new cv(o);return function C(){try{return!!(new window.DOMParser).parseFromString(Vo(""),"text/html")}catch{return!1}}()?new lv(l):l}(o);let h=l?String(l):"";u=Su.getInertBodyElement(h);let f=5,m=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=m,m=u.innerHTML,u=Su.getInertBodyElement(h)}while(h!==m);return Vo((new Fl).sanitizeChildren(Ta(u)||u))}finally{if(u){const h=Ta(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Ta(o){return"content"in o&&function uv(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var zn=(()=>((zn=zn||{})[zn.NONE=0]="NONE",zn[zn.HTML=1]="HTML",zn[zn.STYLE=2]="STYLE",zn[zn.SCRIPT=3]="SCRIPT",zn[zn.URL=4]="URL",zn[zn.RESOURCE_URL=5]="RESOURCE_URL",zn))();function vg(o){const l=function rp(){const o=Ne();return o&&o[12]}();return l?l.sanitize(zn.URL,o)||"":eo(o,"URL")?Ts(o):y(De(o))}const fv=new Fn("ENVIRONMENT_INITIALIZER"),kw=new Fn("INJECTOR",-1),Rw=new Fn("INJECTOR_DEF_TYPES");class Ow{get(l,u=yr){if(u===yr){const h=new Error(`NullInjectorError: No provider for ${pe(l)}!`);throw h.name="NullInjectorError",h}return u}}function jT(...o){return{\u0275providers:Pw(0,o)}}function Pw(o,...l){const u=[],h=new Set;let f;return Is(l,m=>{const v=m;Cg(v,u,[],h)&&(f||(f=[]),f.push(v))}),void 0!==f&&Nw(f,u),u}function Nw(o,l){for(let u=0;u<o.length;u++){const{providers:f}=o[u];Is(f,m=>{l.push(m)})}}function Cg(o,l,u,h){if(!(o=te(o)))return!1;let f=null,m=es(o);const v=!m&&O(o);if(m||v){if(v&&!v.standalone)return!1;f=o}else{const I=o.ngModule;if(m=es(I),!m)return!1;f=I}const w=h.has(f);if(v){if(w)return!1;if(h.add(f),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of I)Cg(A,l,u,h)}}else{if(!m)return!1;{if(null!=m.imports&&!w){let A;h.add(f);try{Is(m.imports,R=>{Cg(R,l,u,h)&&(A||(A=[]),A.push(R))})}finally{}void 0!==A&&Nw(A,l)}if(!w){const A=Ni(f)||(()=>new f);l.push({provide:f,useFactory:A,deps:Mt},{provide:Rw,useValue:f,multi:!0},{provide:fv,useValue:()=>jt(f),multi:!0})}const I=m.providers;null==I||w||Is(I,R=>{l.push(R)})}}return f!==o&&void 0!==o.providers}const Fw=ye({provide:String,useValue:ye});function sp(o){return null!==o&&"object"==typeof o&&Fw in o}function to(o){return"function"==typeof o}const Eg=new Fn("Set Injector scope."),Dg={},Tu={};let Ig;function Sg(){return void 0===Ig&&(Ig=new Ow),Ig}class xa{}class pv extends xa{constructor(l,u,h,f){super(),this.parent=u,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ag(l,v=>this.processProvider(v)),this.records.set(kw,rh(void 0,this)),f.has("environment")&&this.records.set(xa,rh(void 0,this));const m=this.records.get(Eg);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Rw.multi,Mt,it.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=No(this),h=Mn(void 0);try{return l()}finally{No(u),Mn(h)}}get(l,u=yr,h=it.Default){this.assertNotDestroyed();const f=No(this),m=Mn(void 0);try{if(!(h&it.SkipSelf)){let w=this.records.get(l);if(void 0===w){const I=function zT(o){return"function"==typeof o||"object"==typeof o&&o instanceof Fn}(l)&&Pi(l);w=I&&this.injectableDefInScope(I)?rh(op(l),Dg):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(h&it.Self?Sg():this.parent).get(l,u=h&it.Optional&&u===yr?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Zi]=v[Zi]||[]).unshift(pe(l)),f)throw v;return function j(o,l,u,h){const f=o[Zi];throw l[wn]&&f.unshift(l[wn]),o.message=function J(o,l,u,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=pe(l);if(Array.isArray(l))f=l.map(pe).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let w=l[v];m.push(v+":"+("string"==typeof w?JSON.stringify(w):pe(w)))}f=`{${m.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${o.replace(Li,"\n  ")}`}("\n"+o.message,f,u,h),o.ngTokenPath=f,o[Zi]=null,o}(v,l,"R3InjectorError",this.source)}throw v}finally{Mn(m),No(f)}}resolveInjectorInitializers(){const l=No(this),u=Mn(void 0);try{const h=this.get(fv.multi,Mt,it.Self);for(const f of h)f()}finally{No(l),Mn(u)}}toString(){const l=[],u=this.records;for(const h of u.keys())l.push(pe(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(l){let u=to(l=te(l))?l:te(l&&l.provide);const h=function mv(o){return sp(o)?rh(void 0,o.useValue):rh(Tg(o),Dg)}(l);if(to(l)||!0!==l.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=rh(void 0,Dg,!0),f.factory=()=>S(f.multi),this.records.set(u,f)),u=l,f.multi.push(l)}this.records.set(u,h)}hydrate(l,u){return u.value===Dg&&(u.value=Tu,u.value=u.factory()),"object"==typeof u.value&&u.value&&function $T(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=te(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function op(o){const l=Pi(o),u=null!==l?l.factory:Ni(o);if(null!==u)return u;if(o instanceof Fn)throw new Ae(204,!1);if(o instanceof Function)return function Vw(o){const l=o.length;if(l>0)throw Oo(l,"?"),new Ae(204,!1);const u=function Gn(o){const l=o&&(o[nr]||o[Hr]);if(l){const u=function Jr(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Ae(204,!1)}function Tg(o,l,u){let h;if(to(o)){const f=te(o);return Ni(f)||op(f)}if(sp(o))h=()=>te(o.useValue);else if(function Ma(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...S(o.deps||[]));else if(function wg(o){return!(!o||!o.useExisting)}(o))h=()=>jt(te(o.useExisting));else{const f=te(o&&(o.useClass||o.provide));if(!function ap(o){return!!o.deps}(o))return Ni(f)||op(f);h=()=>new f(...S(o.deps))}return h}function rh(o,l,u=!1){return{factory:o,value:l,multi:u?[]:void 0}}function gv(o){return!!o.\u0275providers}function Ag(o,l){for(const u of o)Array.isArray(u)?Ag(u,l):gv(u)?Ag(u.\u0275providers,l):l(u)}class _v{}class xg{resolveComponentFactory(l){throw function Uw(o){const l=Error(`No component factory found for ${pe(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let Sc=(()=>{class o{}return o.NULL=new xg,o})();function GT(){return sh(mi(),Ne())}function sh(o,l){return new Au(Fi(o,l))}let Au=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=GT,o})();function jw(o){return o instanceof Au?o.nativeElement:o}class WT{}let EN=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function DN(){const o=Ne(),u=dn(mi().index,o);return(pi(u)?u:o)[11]}(),o})(),yv=(()=>{class o{}return o.\u0275prov=rn({token:o,providedIn:"root",factory:()=>null}),o})();class $w{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const zw=new $w("14.2.8"),vv={};function Iv(o){return o.ngOriginalError}class up{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Iv(l);for(;u&&Iv(u);)u=Iv(u);return u||null}}const Sv=new Map;let JT=0;const Fg="__ngContext__";function or(o,l){pi(l)?(o[Fg]=l[20],function tA(o){Sv.set(o[20],o)}(l)):o[Fg]=l}function Ll(o){return o instanceof Function?o():o}var ka=(()=>((ka=ka||{})[ka.Important=1]="Important",ka[ka.DashCase=2]="DashCase",ka))();function kv(o,l){return undefined(o,l)}function uh(o){const l=o[3];return wr(l)?l[3]:l}function Bg(o){return n1(o[13])}function Ug(o){return n1(o[4])}function n1(o){for(;null!==o&&!wr(o);)o=o[4];return o}function dh(o,l,u,h,f){if(null!=h){let m,v=!1;wr(h)?m=h:pi(h)&&(v=!0,h=h[0]);const w=Wn(h);0===o&&null!==u?null==f?u1(l,u,w):Ra(l,u,w,f||null,!0):1===o&&null!==u?Ra(l,u,w,f||null,!0):2===o?function mA(o,l,u){const h=$g(o,l);h&&function pA(o,l,u,h){o.removeChild(l,u,h)}(o,h,l,u)}(l,w,v):3===o&&l.destroyNode(w),null!=m&&function PN(o,l,u,h,f){const m=u[7];m!==Wn(u)&&dh(l,o,h,m,f);for(let w=10;w<u.length;w++){const I=u[w];Mu(I[1],I,o,l,h,m)}}(l,o,m,u,f)}}function Hg(o,l,u){return o.createElement(l,u)}function a1(o,l){const u=o[9],h=u.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,Qn(f,-1)),u.splice(h,1)}function Nv(o,l){if(o.length<=10)return;const u=10+l,h=o[u];if(h){const f=h[17];null!==f&&f!==o&&a1(f,h),l>0&&(o[u-1][4]=h[4]);const m=Ln(o,10+l);!function Pv(o,l){Mu(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const v=m[19];null!==v&&v.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function fp(o,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&Mu(o,l,u,3,null,null),function RN(o){let l=o[13];if(!l)return jg(o[1],o);for(;l;){let u=null;if(pi(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==o;)pi(l)&&jg(l[1],l),l=l[3];null===l&&(l=o),pi(l)&&jg(l[1],l),u=l&&l[4]}l=u}}(l)}}function jg(o,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function Lv(o,l){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let h=0;h<u.length;h+=2){const f=l[u[h]];if(!(f instanceof Tr)){const m=u[h+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const w=f[m[v]],I=m[v+1];try{I.call(w)}finally{}}else try{m.call(f)}finally{}}}}(o,l),function Fv(o,l){const u=o.cleanup,h=l[7];let f=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+1],w="function"==typeof v?v(l):Wn(l[v]),I=h[f=u[m+2]],A=u[m+3];"boolean"==typeof A?w.removeEventListener(u[m],I,A):A>=0?h[f=A]():h[f=-A].unsubscribe(),m+=2}else{const v=h[f=u[m+1]];u[m].call(v)}if(null!==h){for(let m=f+1;m<h.length;m++)(0,h[m])();l[7]=null}}(o,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&wr(l[3])){u!==l[3]&&a1(u,l);const h=l[19];null!==h&&h.detachView(o)}!function nA(o){Sv.delete(o[20])}(l)}}function l1(o,l,u){return function c1(o,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const f=o.data[h.directiveStart].encapsulation;if(f===gt.None||f===gt.Emulated)return null}return Fi(h,u)}(o,l.parent,u)}function Ra(o,l,u,h,f){o.insertBefore(l,u,h,f)}function u1(o,l,u){o.appendChild(l,u)}function d1(o,l,u,h,f){null!==h?Ra(o,l,u,h,f):u1(o,l,u)}function $g(o,l){return o.parentNode(l)}function qn(o,l,u){return Vv(o,l,u)}let Vv=function f1(o,l,u){return 40&o.type?Fi(o,u):null};function zg(o,l,u,h){const f=l1(o,h,l),m=l[11],w=qn(h.parent||l[6],h,l);if(null!=f)if(Array.isArray(u))for(let I=0;I<u.length;I++)d1(m,f,u[I],w,!1);else d1(m,f,u,w,!1)}function Gg(o,l){if(null!==l){const u=l.type;if(3&u)return Fi(l,o);if(4&u)return p1(-1,o[l.index]);if(8&u){const h=l.child;if(null!==h)return Gg(o,h);{const f=o[l.index];return wr(f)?p1(-1,f):Wn(f)}}if(32&u)return kv(l,o)()||Wn(o[l.index]);{const h=Bv(o,l);return null!==h?Array.isArray(h)?h[0]:Gg(uh(o[16]),h):Gg(o,l.next)}}return null}function Bv(o,l){return null!==l?o[16][6].projection[l.projection]:null}function p1(o,l){const u=10+o+1;if(u<l.length){const h=l[u],f=h[1].firstChild;if(null!==f)return Gg(h,f)}return l[7]}function Uv(o,l,u,h,f,m,v){for(;null!=u;){const w=h[u.index],I=u.type;if(v&&0===l&&(w&&or(Wn(w),h),u.flags|=4),64!=(64&u.flags))if(8&I)Uv(o,l,u.child,h,f,m,!1),dh(l,o,f,w,m);else if(32&I){const A=kv(u,h);let R;for(;R=A();)dh(l,o,f,R,m);dh(l,o,f,w,m)}else 16&I?pp(o,l,h,u,f,m):dh(l,o,f,w,m);u=v?u.projectionNext:u.next}}function Mu(o,l,u,h,f,m){Uv(u,h,o.firstChild,l,f,m,!1)}function pp(o,l,u,h,f,m){const v=u[16],I=v[6].projection[h.projection];if(Array.isArray(I))for(let A=0;A<I.length;A++)dh(l,o,f,I[A],m);else Uv(o,l,I,v[3],f,m,!0)}function xu(o,l,u){o.setAttribute(l,"style",u)}function mp(o,l,u){""===u?o.removeAttribute(l,"class"):o.setAttribute(l,"class",u)}function gA(o,l,u){let h=o.length;for(;;){const f=o.indexOf(l,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=l.length;if(f+m===h||o.charCodeAt(f+m)<=32)return f}u=f+1}}const Hv="ng-template";function jv(o,l,u){let h=0;for(;h<o.length;){let f=o[h++];if(u&&"class"===f){if(f=o[h],-1!==gA(f.toLowerCase(),l,0))return!0}else if(1===f){for(;h<o.length&&"string"==typeof(f=o[h++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function _1(o){return 4===o.type&&o.value!==Hv}function yA(o,l,u){return l===(4!==o.type||u?o.value:Hv)}function vA(o,l,u){let h=4;const f=o.attrs||[],m=function NN(o){for(let l=0;l<o.length;l++)if(El(o[l]))return l;return o.length}(f);let v=!1;for(let w=0;w<l.length;w++){const I=l[w];if("number"!=typeof I){if(!v)if(4&h){if(h=2|1&h,""!==I&&!yA(o,I,u)||""===I&&1===l.length){if(io(h))return!1;v=!0}}else{const A=8&h?I:l[++w];if(8&h&&null!==o.attrs){if(!jv(o.attrs,A,u)){if(io(h))return!1;v=!0}continue}const U=bA(8&h?"class":I,f,_1(o),u);if(-1===U){if(io(h))return!1;v=!0;continue}if(""!==A){let W;W=U>m?"":f[U+1].toLowerCase();const Q=8&h?W:null;if(Q&&-1!==gA(Q,A,0)||2&h&&A!==W){if(io(h))return!1;v=!0}}}}else{if(!v&&!io(h)&&!io(I))return!1;if(v&&io(I))continue;v=!1,h=I|1&h}}return io(h)||v}function io(o){return 0==(1&o)}function bA(o,l,u,h){if(null===l)return-1;let f=0;if(h||!u){let m=!1;for(;f<l.length;){const v=l[f];if(v===o)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let w=l[++f];for(;"string"==typeof w;)w=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function y1(o,l){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const h=o[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,o)}function CA(o,l,u=!1){for(let h=0;h<l.length;h++)if(vA(o,l[h],u))return!0;return!1}function wA(o,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(o.length===h.length){for(let f=0;f<o.length;f++)if(o[f]!==h[f])continue e;return!0}}return!1}function v1(o,l){return o?":not("+l.trim()+")":l}function b1(o){let l=o[0],u=1,h=2,f="",m=!1;for(;u<o.length;){let v=o[u];if("string"==typeof v)if(2&h){const w=o[++u];f+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&h?f+="."+v:4&h&&(f+=" "+v);else""!==f&&!io(v)&&(l+=v1(m,f),f=""),h=v,m=m||!io(h);u++}return""!==f&&(l+=v1(m,f)),l}const Zt={};function C1(o){w1(Yt(),Ne(),jn()+o,!1)}function w1(o,l,u,h){if(!h)if(3==(3&l[2])){const m=o.preOrderCheckHooks;null!==m&&fa(l,m,u)}else{const m=o.preOrderHooks;null!==m&&pa(l,m,0,u)}ws(u)}function xi(o,l=null,u=null,h){const f=SA(o,l,u,h);return f.resolveInjectorInitializers(),f}function SA(o,l=null,u=null,h,f=new Set){const m=[u||Mt,jT(o)];return h=h||("object"==typeof o?void 0:pe(o)),new pv(m,l||Sg(),h||null,f)}let ro=(()=>{class o{static create(u,h){if(Array.isArray(u))return xi({name:""},h,u,"");{const f=u.name??"";return xi({name:f},u.parent,u.providers,f)}}}return o.THROW_IF_NOT_FOUND=yr,o.NULL=new Ow,o.\u0275prov=rn({token:o,providedIn:"any",factory:()=>jt(kw)}),o.__NG_ELEMENT_ID__=-1,o})();function Pa(o,l=it.Default){const u=Ne();return null===u?jt(o,l):ya(mi(),u,te(o),l)}function Mc(){throw new Error("invalid")}function Na(o,l){return o<<17|l<<2}function Fa(o){return o>>17&32767}function A1(o){return 2|o}function Ul(o){return(131068&o)>>2}function M1(o,l){return-131069&o|l<<2}function x1(o){return 1|o}function jA(o,l){const u=o.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const f=u[h],m=u[h+1];if(-1!==m){const v=o.data[m];uu(f),v.contentQueries(2,l[m],m)}}}function Xv(o,l,u,h,f,m,v,w,I,A,R){const U=l.blueprint.slice();return U[0]=f,U[2]=76|h,(null!==R||o&&1024&o[2])&&(U[2]|=1024),dl(U),U[3]=U[15]=o,U[8]=u,U[10]=v||o&&o[10],U[11]=w||o&&o[11],U[12]=I||o&&o[12]||null,U[9]=A||o&&o[9]||null,U[6]=m,U[20]=function eA(){return JT++}(),U[21]=R,U[16]=2==l.type?o[16]:U,U}function yp(o,l,u,h,f){let m=o.data[l];if(null===m)m=function V1(o,l,u,h,f){const m=ca(),v=uc(),I=o.data[l]=function eF(o,l,u,h,f,m){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,l,h,f);return null===o.firstChild&&(o.firstChild=I),null!==m&&(v?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I)),I}(o,l,u,h,f),function kd(){return Ft.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=h,m.attrs=f;const v=function cc(){const o=Ft.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return rr(m,!0),m}function vp(o,l,u,h){if(0===u)return-1;const f=l.length;for(let m=0;m<u;m++)l.push(h),o.blueprint.push(h),o.data.push(null);return f}function B1(o,l,u){ha(l);try{const h=o.viewQuery;null!==h&&xc(1,h,u);const f=o.template;null!==f&&$A(o,l,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&jA(o,l),o.staticViewQueries&&xc(2,o.viewQuery,u);const m=o.components;null!==m&&function QN(o,l){for(let u=0;u<l.length;u++)G1(o,l[u])}(l,m)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{l[2]&=-5,zs()}}function Jv(o,l,u,h){const f=l[2];if(128!=(128&f)){ha(l);try{dl(l),function _l(o){return Ft.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&$A(o,l,u,2,h);const v=3==(3&f);if(v){const A=o.preOrderCheckHooks;null!==A&&fa(l,A,null)}else{const A=o.preOrderHooks;null!==A&&pa(l,A,0,null),Ld(l,0)}if(function La(o){for(let l=Bg(o);null!==l;l=Ug(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const f=u[h],m=f[3];0==(512&f[2])&&Qn(m,1),f[2]|=512}}}(l),function nM(o){for(let l=Bg(o);null!==l;l=Ug(l))for(let u=10;u<l.length;u++){const h=l[u],f=h[1];$s(h)&&Jv(f,h,f.template,h[8])}}(l),null!==o.contentQueries&&jA(o,l),v){const A=o.contentCheckHooks;null!==A&&fa(l,A)}else{const A=o.contentHooks;null!==A&&pa(l,A,1),Ld(l,1)}!function YN(o,l){const u=o.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)ws(~f);else{const m=f,v=u[++h],w=u[++h];Rd(v,m),w(2,l[m])}}}finally{ws(-1)}}(o,l);const w=o.components;null!==w&&function KN(o,l){for(let u=0;u<l.length;u++)bp(o,l[u])}(l,w);const I=o.viewQuery;if(null!==I&&xc(2,I,h),v){const A=o.viewCheckHooks;null!==A&&fa(l,A)}else{const A=o.viewHooks;null!==A&&pa(l,A,2),Ld(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Qn(l[3],-1))}finally{zs()}}}function $A(o,l,u,h,f){const m=jn(),v=2&h;try{ws(-1),v&&l.length>22&&w1(o,l,22,!1),u(h,f)}finally{ws(m)}}function zA(o,l,u){if(Us(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=o.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function U1(o,l,u){!So()||(function sF(o,l,u,h){const f=u.directiveStart,m=u.directiveEnd;o.firstCreatePass||Ds(u,l),or(h,l);const v=u.initialInputs;for(let w=f;w<m;w++){const I=o.data[w],A=mr(I);A&&uF(l,u,I);const R=rs(l,o,w,u);or(R,l),null!==v&&dF(0,w-f,R,I,0,v),A&&(dn(u.index,l)[8]=R)}}(o,l,u,Fi(u,l)),128==(128&u.flags)&&function oF(o,l,u){const h=u.directiveStart,f=u.directiveEnd,m=u.index,v=function Nf(){return Ft.lFrame.currentDirectiveIndex}();try{ws(m);for(let w=h;w<f;w++){const I=o.data[w],A=l[w];da(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&QA(I,A)}}finally{ws(-1),da(v)}}(o,l,u))}function H1(o,l,u=Fi){const h=l.localNames;if(null!==h){let f=l.index+1;for(let m=0;m<h.length;m+=2){const v=h[m+1],w=-1===v?u(l,o):o[v];o[f++]=w}}}function GA(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=j1(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function j1(o,l,u,h,f,m,v,w,I,A){const R=22+h,U=R+f,W=function XN(o,l){const u=[];for(let h=0;h<l;h++)u.push(h<o?null:Zt);return u}(R,U),Q="function"==typeof A?A():A;return W[1]={type:o,blueprint:W,template:u,queries:null,viewQuery:w,declTNode:l,data:W.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:Q,incompleteFirstPass:!1}}function WA(o,l,u,h){const f=Cp(l);null===u?f.push(h):(f.push(u),o.firstCreatePass&&ki(o).push(h,f.length-1))}function ZA(o,l,u){for(let h in o)if(o.hasOwnProperty(h)){const f=o[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,f):u[h]=[l,f]}return u}function qA(o,l){const h=l.directiveEnd,f=o.data,m=l.attrs,v=[];let w=null,I=null;for(let A=l.directiveStart;A<h;A++){const R=f[A],U=R.inputs,W=null===m||_1(l)?null:hF(U,m);v.push(W),w=ZA(U,A,w),I=ZA(R.outputs,A,I)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=w,l.outputs=I}function so(o,l,u,h,f,m,v,w){const I=Fi(l,u);let R,A=l.inputs;!w&&null!=A&&(R=A[h])?(Xg(o,u,R,h,f),al(l)&&YA(u,l.index)):3&l.type&&(h=function tF(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),f=null!=v?v(f,l.value||"",h):f,m.setProperty(I,h,f))}function YA(o,l){const u=dn(l,o);16&u[2]||(u[2]|=32)}function $1(o,l,u,h){let f=!1;if(So()){const m=function aF(o,l,u){const h=o.directiveRegistry;let f=null;if(h)for(let m=0;m<h.length;m++){const v=h[m];CA(u,v.selectors,!1)&&(f||(f=[]),Ao(Ds(u,l),o,v.type),mr(v)?(XA(o,u),f.unshift(v)):f.push(v))}return f}(o,l,u),v=null===h?null:{"":-1};if(null!==m){f=!0,JA(u,o.data.length,m.length);for(let R=0;R<m.length;R++){const U=m[R];U.providersResolver&&U.providersResolver(U)}let w=!1,I=!1,A=vp(o,l,m.length,null);for(let R=0;R<m.length;R++){const U=m[R];u.mergedAttrs=Dl(u.mergedAttrs,U.hostAttrs),eM(o,u,l,A,U),cF(A,U,v),null!==U.contentQueries&&(u.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(u.flags|=128);const W=U.type.prototype;!w&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),w=!0),!I&&(W.ngOnChanges||W.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),I=!0),A++}qA(o,u)}v&&function lF(o,l,u){if(l){const h=o.localNames=[];for(let f=0;f<l.length;f+=2){const m=u[l[f+1]];if(null==m)throw new Ae(-301,!1);h.push(l[f],m)}}}(u,h,v)}return u.mergedAttrs=Dl(u.mergedAttrs,u.attrs),f}function KA(o,l,u,h,f,m){const v=m.hostBindings;if(v){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const I=~l.index;(function rF(o){let l=o.length;for(;l>0;){const u=o[--l];if("number"==typeof u&&u<0)return u}return 0})(w)!=I&&w.push(I),w.push(h,f,v)}}function QA(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function XA(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function cF(o,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=o;mr(l)&&(u[""]=o)}}function JA(o,l,u){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+u,o.providerIndexes=l}function eM(o,l,u,h,f){o.data[h]=f;const m=f.factory||(f.factory=Ni(f.type)),v=new Tr(m,mr(f),Pa);o.blueprint[h]=v,u[h]=v,KA(o,l,0,h,vp(o,u,f.hostVars,Zt),f)}function uF(o,l,u){const h=Fi(l,o),f=GA(u),m=o[10],v=Kg(o,Xv(o,f,null,u.onPush?32:16,h,l,m,m.createRenderer(h,u),null,null,null));o[l.index]=v}function Hl(o,l,u,h,f,m){const v=Fi(o,l);!function z1(o,l,u,h,f,m,v){if(null==m)o.removeAttribute(l,f,u);else{const w=null==v?De(m):v(m,h||"",f);o.setAttribute(l,f,w,u)}}(l[11],v,m,o.value,u,h,f)}function dF(o,l,u,h,f,m){const v=m[l];if(null!==v){const w=h.setInput;for(let I=0;I<v.length;){const A=v[I++],R=v[I++],U=v[I++];null!==w?h.setInput(u,U,A,R):u[R]=U}}}function hF(o,l){let u=null,h=0;for(;h<l.length;){const f=l[h];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,o[f],l[h+1])),h+=2}else h+=2;else h+=4}return u}function tM(o,l,u,h){return new Array(o,!0,!1,l,null,0,h,u,null,null)}function bp(o,l){const u=dn(l,o);if($s(u)){const h=u[1];48&u[2]?Jv(h,u,h.template,u[8]):u[5]>0&&Fu(u)}}function Fu(o){for(let h=Bg(o);null!==h;h=Ug(h))for(let f=10;f<h.length;f++){const m=h[f];if($s(m))if(512&m[2]){const v=m[1];Jv(v,m,v.template,m[8])}else m[5]>0&&Fu(m)}const u=o[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=dn(u[h],o);$s(f)&&f[5]>0&&Fu(f)}}function G1(o,l){const u=dn(l,o),h=u[1];(function Yg(o,l){for(let u=l.length;u<o.blueprint.length;u++)l.push(o.blueprint[u])})(h,u),B1(h,u,u[8])}function Kg(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function Qg(o){for(;o;){o[2]|=32;const l=uh(o);if(iu(o)&&!l)return o;o=l}return null}function yn(o,l,u,h=!0){const f=l[10];f.begin&&f.begin();try{Jv(o,l,o.template,u)}catch(v){throw h&&W1(l,v),v}finally{f.end&&f.end()}}function xc(o,l,u){uu(0),l(o,u)}function Cp(o){return o[7]||(o[7]=[])}function ki(o){return o.cleanup||(o.cleanup=[])}function Va(o,l,u){return(null===o||mr(o))&&(u=function Md(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[l.index])),u[11]}function W1(o,l){const u=o[9],h=u?u.get(up,null):null;h&&h.handleError(l)}function Xg(o,l,u,h,f){for(let m=0;m<u.length;){const v=u[m++],w=u[m++],I=l[v],A=o.data[v];null!==A.setInput?A.setInput(I,f,h,w):I[w]=f}}function Jg(o,l,u){let h=u?o.styles:null,f=u?o.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const w=l[v];"number"==typeof w?m=w:1==m?f=ve(f,w):2==m&&(h=ve(h,w+": "+l[++v]+";"))}u?o.styles=h:o.stylesWithoutHost=h,u?o.classes=f:o.classesWithoutHost=f}function wp(o,l,u,h,f=!1){for(;null!==u;){const m=l[u.index];if(null!==m&&h.push(Wn(m)),wr(m))for(let w=10;w<m.length;w++){const I=m[w],A=I[1].firstChild;null!==A&&wp(I[1],I,A,h)}const v=u.type;if(8&v)wp(o,l,u.child,h);else if(32&v){const w=kv(u,l);let I;for(;I=w();)h.push(I)}else if(16&v){const w=Bv(l,u);if(Array.isArray(w))h.push(...w);else{const I=uh(l[16]);wp(I[1],I,w,h,!0)}}u=f?u.projectionNext:u.next}return h}class e_{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return wp(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(wr(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(Nv(l,h),Ln(u,h))}this._attachedToViewContainer=!1}fp(this._lView[1],this._lView)}onDestroy(l){WA(this._lView[1],this._lView,null,l)}markForCheck(){Qg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){yn(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function o1(o,l){Mu(o,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=l}}class Z1 extends e_{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;yn(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class kc extends Sc{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=O(l);return new Rc(u,this.ngModule)}}function q1(o){const l=[];for(let u in o)o.hasOwnProperty(u)&&l.push({propName:o[u],templateName:u});return l}class rM{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,h){const f=this.injector.get(l,vv,h);return f!==vv||u===vv?f:this.parentInjector.get(l,u,h)}}class Rc extends _v{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function EA(o){return o.map(b1).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return q1(this.componentDef.inputs)}get outputs(){return q1(this.componentDef.outputs)}create(l,u,h,f){let m=(f=f||this.ngModule)instanceof xa?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new rM(l,m):l,w=v.get(WT,null);if(null===w)throw new Ae(407,!1);const I=v.get(yv,null),A=w.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",U=h?function JN(o,l,u){return o.selectRootElement(l,u===gt.ShadowDom)}(A,h,this.componentDef.encapsulation):Hg(w.createRenderer(null,this.componentDef),R,function iM(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(R)),W=this.componentDef.onPush?288:272,Q=j1(0,null,null,1,0,null,null,null,null,null),Ie=Xv(null,Q,null,W,null,null,w,A,I,v,null);let Se,tt;ha(Ie);try{const Ye=function oM(o,l,u,h,f,m){const v=u[1];u[22]=o;const I=yp(v,22,2,"#host",null),A=I.mergedAttrs=l.hostAttrs;null!==A&&(Jg(I,A,!0),null!==o&&(Es(f,o,A),null!==I.classes&&mp(f,o,I.classes),null!==I.styles&&xu(f,o,I.styles)));const R=h.createRenderer(o,l),U=Xv(u,GA(l),null,l.onPush?32:16,u[22],I,h,R,m||null,null,null);return v.firstCreatePass&&(Ao(Ds(I,u),v,l.type),XA(v,I),JA(I,u.length,1)),Kg(u,U),u[22]=U}(U,this.componentDef,Ie,w,A);if(U)if(h)Es(A,U,["ng-version",zw.full]);else{const{attrs:Ee,classes:Fe}=function DA(o){const l=[],u=[];let h=1,f=2;for(;h<o.length;){let m=o[h];if("string"==typeof m)2===f?""!==m&&l.push(m,o[++h]):8===f&&u.push(m);else{if(!io(f))break;f=m}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Ee&&Es(A,U,Ee),Fe&&Fe.length>0&&mp(A,U,Fe.join(" "))}if(tt=Io(Q,22),void 0!==u){const Ee=tt.projection=[];for(let Fe=0;Fe<this.ngContentSelectors.length;Fe++){const kt=u[Fe];Ee.push(null!=kt?Array.from(kt):null)}}Se=function t_(o,l,u,h){const f=u[1],m=function iF(o,l,u){const h=mi();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),eM(o,h,l,vp(o,l,1,null),u),qA(o,h));const f=rs(l,o,h.directiveStart,h);or(f,l);const m=Fi(h,l);return m&&or(m,l),f}(f,u,l);if(o[8]=u[8]=m,null!==h)for(const w of h)w(m,l);if(l.contentQueries){const w=mi();l.contentQueries(1,m,w.directiveStart)}const v=mi();return!f.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(ws(v.index),KA(u[1],v,0,v.directiveStart,v.directiveEnd,l),QA(l,m)),m}(Ye,this.componentDef,Ie,[mF]),B1(Q,Ie,null)}finally{zs()}return new K1(this.componentType,Se,sh(tt,Ie),Ie,tt)}}class K1 extends class Bw{}{constructor(l,u,h,f,m){super(),this.location=h,this._rootLView=f,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new Z1(f),this.componentType=l}setInput(l,u){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[l])){const m=this._rootLView;Xg(m[1],m,f,l,u),YA(m,this._tNode.index)}}get injector(){return new ba(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function mF(){const o=mi();dc(Ne()[1],o)}function yh(o){let l=function e0(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const h=[o];for(;l;){let f;if(mr(o))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ae(903,!1);f=l.\u0275dir}if(f){if(u){h.push(f);const v=o;v.inputs=n0(o.inputs),v.declaredInputs=n0(o.declaredInputs),v.outputs=n0(o.outputs);const w=f.hostBindings;w&&aM(o,w);const I=f.viewQuery,A=f.contentQueries;if(I&&r0(o,I),A&&Q1(o,A),ie(o.inputs,f.inputs),ie(o.declaredInputs,f.declaredInputs),ie(o.outputs,f.outputs),mr(f)&&f.data.animation){const R=o.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const w=m[v];w&&w.ngInherit&&w(o),w===yh&&(u=!1)}}l=Object.getPrototypeOf(l)}!function t0(o){let l=0,u=null;for(let h=o.length-1;h>=0;h--){const f=o[h];f.hostVars=l+=f.hostVars,f.hostAttrs=Dl(f.hostAttrs,u=Dl(u,f.hostAttrs))}}(h)}function n0(o){return o===zi?{}:o===Mt?[]:o}function r0(o,l){const u=o.viewQuery;o.viewQuery=u?(h,f)=>{l(h,f),u(h,f)}:l}function Q1(o,l){const u=o.contentQueries;o.contentQueries=u?(h,f,m)=>{l(h,f,m),u(h,f,m)}:l}function aM(o,l){const u=o.hostBindings;o.hostBindings=u?(h,f)=>{l(h,f),u(h,f)}:l}let Oc=null;function Lu(){if(!Oc){const o=Pt.Symbol;if(o&&o.iterator)Oc=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Oc=h)}}}return Oc}function Ep(o){return!!s0(o)&&(Array.isArray(o)||!(o instanceof Map)&&Lu()in o)}function s0(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Mr(o,l,u){return!Object.is(o[l],u)&&(o[l]=u,!0)}function Bu(o,l,u,h){const f=Ne();return Mr(f,yl(),l)&&(Yt(),Hl($n(),f,o,l,u,h)),Bu}function Dp(o,l,u,h){return Mr(o,yl(),u)?l+De(u)+h:Zt}function $l(o,l,u,h,f,m,v,w){const I=Ne(),A=Yt(),R=o+22,U=A.firstCreatePass?function i_(o,l,u,h,f,m,v,w,I){const A=l.consts,R=yp(l,o,4,v||null,Sr(A,w));$1(l,u,R,Sr(A,I)),dc(l,R);const U=R.tViews=j1(2,R,h,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,R),U.queries=l.queries.embeddedTView(R)),R}(R,A,I,l,u,h,f,m,v):A.data[R];rr(U,!1);const W=I[11].createComment("");zg(A,I,W,U),or(W,I),Kg(I,I[R]=tM(W,I,W,U)),ll(U)&&U1(A,I,U),null!=v&&H1(I,U,w)}function l0(o){return ns(function gl(){return Ft.lFrame.contextLView}(),22+o)}function r_(o,l,u){const h=Ne();return Mr(h,yl(),l)&&so(Yt(),$n(),h,o,l,h[11],u,!1),r_}function Mp(o,l,u,h,f){const v=f?"class":"style";Xg(o,u,l.inputs[v],v,h)}function wh(o,l,u,h){const f=Ne(),m=Yt(),v=22+o,w=f[11],I=f[v]=Hg(w,l,function pu(){return Ft.lFrame.currentNamespace}()),A=m.firstCreatePass?function iE(o,l,u,h,f,m,v){const w=l.consts,A=yp(l,o,2,f,Sr(w,m));return $1(l,u,A,Sr(w,v)),null!==A.attrs&&Jg(A,A.attrs,!1),null!==A.mergedAttrs&&Jg(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(v,m,f,0,l,u,h):m.data[v];rr(A,!0);const R=A.mergedAttrs;null!==R&&Es(w,I,R);const U=A.classes;null!==U&&mp(w,I,U);const W=A.styles;return null!==W&&xu(w,I,W),64!=(64&A.flags)&&zg(m,f,I,A),0===function fl(){return Ft.lFrame.elementDepthCount}()&&or(I,f),function xd(){Ft.lFrame.elementDepthCount++}(),ll(A)&&(U1(m,f,A),zA(m,A,f)),null!==h&&H1(f,A),wh}function s_(){let o=mi();uc()?ua():(o=o.parent,rr(o,!1));const l=o;!function pl(){Ft.lFrame.elementDepthCount--}();const u=Yt();return u.firstCreatePass&&(dc(u,o),Us(o)&&u.queries.elementEnd(o)),null!=l.classesWithoutHost&&function fc(o){return 0!=(16&o.flags)}(l)&&Mp(u,l,Ne(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function pc(o){return 0!=(32&o.flags)}(l)&&Mp(u,l,Ne(),l.stylesWithoutHost,!1),s_}function c0(o,l,u,h){return wh(o,l,u,h),s_(),c0}function o_(o,l,u){const h=Ne(),f=Yt(),m=o+22,v=f.firstCreatePass?function mM(o,l,u,h,f){const m=l.consts,v=Sr(m,h),w=yp(l,o,8,"ng-container",v);return null!==v&&Jg(w,v,!0),$1(l,u,w,Sr(m,f)),null!==l.queries&&l.queries.elementStart(l,w),w}(m,f,h,l,u):f.data[m];rr(v,!0);const w=h[m]=h[11].createComment("");return zg(f,h,w,v),or(w,h),ll(v)&&(U1(f,h,v),zA(f,v,h)),null!=u&&H1(h,v),o_}function Ba(){let o=mi();const l=Yt();return uc()?ua():(o=o.parent,rr(o,!1)),l.firstCreatePass&&(dc(l,o),Us(o)&&l.queries.elementEnd(o)),Ba}function rE(){return Ne()}function d0(o){return!!o&&"function"==typeof o.then}function sE(o){return!!o&&"function"==typeof o.subscribe}const h0=sE;function $u(o,l,u,h){const f=Ne(),m=Yt(),v=mi();return aE(m,f,f[11],v,o,l,0,h),$u}function f0(o,l){const u=mi(),h=Ne(),f=Yt();return aE(f,h,Va(cu(f.data),u,h),u,o,l),f0}function aE(o,l,u,h,f,m,v,w){const I=ll(h),R=o.firstCreatePass&&ki(o),U=l[8],W=Cp(l);let Q=!0;if(3&h.type||w){const tt=Fi(h,l),Ye=w?w(tt):tt,Ee=W.length,Fe=w?on=>w(Wn(on[h.index])):h.index;let kt=null;if(!w&&I&&(kt=function oE(o,l,u,h){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===u&&f[m+1]===h){const w=l[7],I=f[m+2];return w.length>I?w[I]:null}"string"==typeof v&&(m+=2)}return null}(o,l,f,h.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=m,kt.__ngLastListenerFn__=m,Q=!1;else{m=gM(h,l,U,m,!1);const on=u.listen(Ye,f,m);W.push(m,on),R&&R.push(f,Fe,Ee,Ee+1)}}else m=gM(h,l,U,m,!1);const Ie=h.outputs;let Se;if(Q&&null!==Ie&&(Se=Ie[f])){const tt=Se.length;if(tt)for(let Ye=0;Ye<tt;Ye+=2){const ci=l[Se[Ye]][Se[Ye+1]].subscribe(m),Ga=W.length;W.push(m,ci),R&&R.push(f,h.index,Ga,-(Ga+1))}}}function lE(o,l,u,h){try{return!1!==u(h)}catch(f){return W1(o,f),!1}}function gM(o,l,u,h,f){return function m(v){if(v===Function)return h;Qg(2&o.flags?dn(o.index,l):l);let I=lE(l,0,h,v),A=m.__ngNextListenerFn__;for(;A;)I=lE(l,0,A,v)&&I,A=A.__ngNextListenerFn__;return f&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function cE(o=1){return function Gs(o){return(Ft.lFrame.contextLView=function Nd(o,l){for(;o>0;)l=l[15],o--;return l}(o,Ft.lFrame.contextLView))[8]}(o)}function p0(o,l){let u=null;const h=function Wg(o){const l=o.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(o);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===h?CA(o,m,!0):wA(h,m))return f}else u=f}return u}function xp(o){const l=Ne()[16][6];if(!l.projection){const h=l.projection=Oo(o?o.length:1,null),f=h.slice();let m=l.child;for(;null!==m;){const v=o?p0(m,o):0;null!==v&&(f[v]?f[v].projectionNext=m:h[v]=m,f[v]=m),m=m.next}}}function m0(o,l=0,u){const h=Ne(),f=Yt(),m=yp(f,22+o,16,null,u||null);null===m.projection&&(m.projection=l),ua(),64!=(64&m.flags)&&function m1(o,l,u){pp(l[11],0,l,u,l1(o,u,l),qn(u.parent||l[6],u,l))}(f,h,m)}function g0(o,l,u){return uE(o,"",l,"",u),g0}function uE(o,l,u,h,f){const m=Ne(),v=Dp(m,l,u,h);return v!==Zt&&so(Yt(),$n(),m,o,v,m[11],f,!1),uE}function _0(o,l,u,h,f){const m=o[u+1],v=null===l;let w=h?Fa(m):Ul(m),I=!1;for(;0!==w&&(!1===I||v);){const R=o[w+1];bM(o[w],l)&&(I=!0,o[w+1]=h?x1(R):A1(R)),w=h?Fa(R):Ul(R)}I&&(o[u+1]=h?A1(m):x1(m))}function bM(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&as(o,l)>=0}const qi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _E(o){return o.substring(qi.key,qi.keyEnd)}function CM(o){return o.substring(qi.value,qi.valueEnd)}function wM(o,l){const u=qi.textEnd;return u===l?-1:(l=qi.keyEnd=function bF(o,l,u){for(;l<u&&o.charCodeAt(l)>32;)l++;return l}(o,qi.key=l,u),Op(o,l,u))}function EM(o,l){const u=qi.textEnd;let h=qi.key=Op(o,l,u);return u===h?-1:(h=qi.keyEnd=function CF(o,l,u){let h;for(;l<u&&(45===(h=o.charCodeAt(l))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)l++;return l}(o,h,u),h=IM(o,h,u),h=qi.value=Op(o,h,u),h=qi.valueEnd=function SM(o,l,u){let h=-1,f=-1,m=-1,v=l,w=v;for(;v<u;){const I=o.charCodeAt(v++);if(59===I)return w;34===I||39===I?w=v=Eh(o,I,v,u):l===v-4&&85===m&&82===f&&76===h&&40===I?w=v=Eh(o,41,v,u):I>32&&(w=v),m=f,f=h,h=-33&I}return w}(o,h,u),IM(o,h,u))}function DM(o){qi.key=0,qi.keyEnd=0,qi.value=0,qi.valueEnd=0,qi.textEnd=o.length}function Op(o,l,u){for(;l<u&&o.charCodeAt(l)<=32;)l++;return l}function IM(o,l,u,h){return(l=Op(o,l,u))<u&&l++,l}function Eh(o,l,u,h){let f=-1,m=u;for(;m<h;){const v=o.charCodeAt(m++);if(v==l&&92!==f)return m;f=92==v&&92===f?0:v}throw new Error}function y0(o,l,u){return Ha(o,l,u,!1),y0}function Pp(o,l){return Ha(o,l,null,!0),Pp}function Ua(o){ja(MM,wF,o,!1)}function wF(o,l){for(let u=function Rp(o){return DM(o),EM(o,Op(o,0,qi.textEnd))}(l);u>=0;u=EM(l,u))MM(o,_E(l),CM(l))}function zl(o,l){for(let u=function $o(o){return DM(o),wM(o,Op(o,0,qi.textEnd))}(l);u>=0;u=wM(l,u))Qe(o,_E(l),!0)}function Ha(o,l,u,h){const f=Ne(),m=Yt(),v=Cs(2);m.firstUpdatePass&&AM(m,o,v,h),l!==Zt&&Mr(f,v,l)&&c_(m,m.data[jn()],f,f[11],o,f[v+1]=function xM(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=pe(Ts(o)))),o}(l,u),h,v)}function ja(o,l,u,h){const f=Yt(),m=Cs(2);f.firstUpdatePass&&AM(f,null,m,h);const v=Ne();if(u!==Zt&&Mr(v,m,u)){const w=f.data[jn()];if(Np(w,h)&&!TM(f,m)){let I=h?w.classesWithoutHost:w.stylesWithoutHost;null!==I&&(u=ve(I,u||"")),Mp(f,w,v,u,h)}else!function TF(o,l,u,h,f,m,v,w){f===Zt&&(f=Mt);let I=0,A=0,R=0<f.length?f[0]:null,U=0<m.length?m[0]:null;for(;null!==R||null!==U;){const W=I<f.length?f[I+1]:void 0,Q=A<m.length?m[A+1]:void 0;let Se,Ie=null;R===U?(I+=2,A+=2,W!==Q&&(Ie=U,Se=Q)):null===U||null!==R&&R<U?(I+=2,Ie=R):(A+=2,Ie=U,Se=Q),null!==Ie&&c_(o,l,u,h,Ie,Se,v,w),R=I<f.length?f[I]:null,U=A<m.length?m[A]:null}}(f,w,v,v[11],v[m+1],v[m+1]=function SF(o,l,u){if(null==u||""===u)return Mt;const h=[],f=Ts(u);if(Array.isArray(f))for(let m=0;m<f.length;m++)o(h,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&o(h,m,f[m]);else"string"==typeof f&&l(h,f);return h}(o,l,u),h,m)}}function TM(o,l){return l>=o.expandoStartIndex}function AM(o,l,u,h){const f=o.data;if(null===f[u+1]){const m=f[jn()],v=TM(o,u);Np(m,h)&&null===l&&!v&&(l=!1),l=function DF(o,l,u,h){const f=cu(o);let m=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(u=l_(u=vE(null,o,l,u,h),l.attrs,h),m=null);else{const v=l.directiveStylingLast;if(-1===v||o[v]!==f)if(u=vE(f,o,l,u,h),null===m){let I=function zu(o,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==Ul(h))return o[Fa(h)]}(o,l,h);void 0!==I&&Array.isArray(I)&&(I=vE(null,o,l,I[1],h),I=l_(I,l.attrs,h),function yE(o,l,u,h){o[Fa(u?l.classBindings:l.styleBindings)]=h}(o,l,h,I))}else m=function IF(o,l,u){let h;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)h=l_(h,o[m].hostAttrs,u);return l_(h,l.attrs,u)}(o,l,h)}return void 0!==m&&(h?l.residualClasses=m:l.residualStyles=m),u}(f,m,l,h),function yM(o,l,u,h,f,m){let v=m?l.classBindings:l.styleBindings,w=Fa(v),I=Ul(v);o[h]=u;let R,A=!1;if(Array.isArray(u)){const U=u;R=U[1],(null===R||as(U,R)>0)&&(A=!0)}else R=u;if(f)if(0!==I){const W=Fa(o[w+1]);o[h+1]=Na(W,w),0!==W&&(o[W+1]=M1(o[W+1],h)),o[w+1]=function UN(o,l){return 131071&o|l<<17}(o[w+1],h)}else o[h+1]=Na(w,0),0!==w&&(o[w+1]=M1(o[w+1],h)),w=h;else o[h+1]=Na(I,0),0===w?w=h:o[I+1]=M1(o[I+1],h),I=h;A&&(o[h+1]=A1(o[h+1])),_0(o,R,h,!0),_0(o,R,h,!1),function vM(o,l,u,h,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof l&&as(m,l)>=0&&(u[h+1]=x1(u[h+1]))}(l,R,o,h,m),v=Na(w,I),m?l.classBindings=v:l.styleBindings=v}(f,m,l,u,v,h)}}function vE(o,l,u,h,f){let m=null;const v=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<v&&(m=l[w],h=l_(h,m.hostAttrs,f),m!==o);)w++;return null!==o&&(u.directiveStylingLast=w),h}function l_(o,l,u){const h=u?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Qe(o,v,!!u||l[++m]))}return void 0===o?null:o}function MM(o,l,u){Qe(o,l,Ts(u))}function c_(o,l,u,h,f,m,v,w){if(!(3&l.type))return;const I=o.data,A=I[w+1];Dh(function NA(o){return 1==(1&o)}(A)?Gl(I,l,u,f,Ul(A),v):void 0)||(Dh(m)||function PA(o){return 2==(2&o)}(A)&&(m=Gl(I,null,u,f,w,v)),function g1(o,l,u,h,f){if(l)f?o.addClass(u,h):o.removeClass(u,h);else{let m=-1===h.indexOf("-")?void 0:ka.DashCase;null==f?o.removeStyle(u,h,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=ka.Important),o.setStyle(u,h,f,m))}}(h,v,jr(jn(),u),f,m))}function Gl(o,l,u,h,f,m){const v=null===l;let w;for(;f>0;){const I=o[f],A=Array.isArray(I),R=A?I[1]:I,U=null===R;let W=u[f+1];W===Zt&&(W=U?Mt:void 0);let Q=U?wu(W,h):R===h?W:void 0;if(A&&!Dh(Q)&&(Q=wu(I,h)),Dh(Q)&&(w=Q,v))return w;const Ie=o[f+1];f=v?Fa(Ie):Ul(Ie)}if(null!==l){let I=m?l.residualClasses:l.residualStyles;null!=I&&(w=wu(I,h))}return w}function Dh(o){return void 0!==o}function Np(o,l){return 0!=(o.flags&(l?16:32))}function kM(o,l=""){const u=Ne(),h=Yt(),f=o+22,m=h.firstCreatePass?yp(h,f,1,l,null):h.data[f],v=u[f]=function Ov(o,l){return o.createText(l)}(u[11],l);zg(h,u,v,m),rr(m,!1)}function v0(o){return b0("",o,""),v0}function b0(o,l,u){const h=Ne(),f=Dp(h,o,l,u);return f!==Zt&&function jl(o,l,u){const h=jr(l,o);!function r1(o,l,u){o.setValue(l,u)}(o[11],h,u)}(h,jn(),f),b0}function bE(o,l,u){ja(Qe,zl,Dp(Ne(),o,l,u),!0)}function h_(o,l,u){const h=Ne();return Mr(h,yl(),l)&&so(Yt(),$n(),h,o,l,h[11],u,!0),h_}function T0(o,l,u){const h=Ne();if(Mr(h,yl(),l)){const m=Yt(),v=$n();so(m,v,h,o,l,Va(cu(m.data),v,h),u,!0)}return T0}const Wu=void 0;var As=["en",[["a","p"],["AM","PM"],Wu],[["AM","PM"],Wu,Wu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wu,"{1} 'at' {0}",Wu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function zM(o){const u=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Fp={};function IE(o){const l=function GM(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=TE(l);if(u)return u;const h=l.split("-")[0];if(u=TE(h),u)return u;if("en"===h)return As;throw new Ae(701,!1)}function SE(o){return IE(o)[Rt.PluralCase]}function TE(o){return o in Fp||(Fp[o]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[o]),Fp[o]}var Rt=(()=>((Rt=Rt||{})[Rt.LocaleId=0]="LocaleId",Rt[Rt.DayPeriodsFormat=1]="DayPeriodsFormat",Rt[Rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rt[Rt.DaysFormat=3]="DaysFormat",Rt[Rt.DaysStandalone=4]="DaysStandalone",Rt[Rt.MonthsFormat=5]="MonthsFormat",Rt[Rt.MonthsStandalone=6]="MonthsStandalone",Rt[Rt.Eras=7]="Eras",Rt[Rt.FirstDayOfWeek=8]="FirstDayOfWeek",Rt[Rt.WeekendRange=9]="WeekendRange",Rt[Rt.DateFormat=10]="DateFormat",Rt[Rt.TimeFormat=11]="TimeFormat",Rt[Rt.DateTimeFormat=12]="DateTimeFormat",Rt[Rt.NumberSymbols=13]="NumberSymbols",Rt[Rt.NumberFormats=14]="NumberFormats",Rt[Rt.CurrencyCode=15]="CurrencyCode",Rt[Rt.CurrencySymbol=16]="CurrencySymbol",Rt[Rt.CurrencyName=17]="CurrencyName",Rt[Rt.Currencies=18]="Currencies",Rt[Rt.Directionality=19]="Directionality",Rt[Rt.PluralCase=20]="PluralCase",Rt[Rt.ExtraData=21]="ExtraData",Rt))();const Zu="en-US";let AE=Zu;function QE(o,l,u,h,f){if(o=te(o),Array.isArray(o))for(let m=0;m<o.length;m++)QE(o[m],l,u,h,f);else{const m=Yt(),v=Ne();let w=to(o)?o:te(o.provide),I=Tg(o);const A=mi(),R=1048575&A.providerIndexes,U=A.directiveStart,W=A.providerIndexes>>20;if(to(o)||!o.multi){const Q=new Tr(I,f,Pa),Ie=C_(w,l,f?R:R+W,U);-1===Ie?(Ao(Ds(A,v),m,w),b_(m,o,l.length),l.push(w),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),u.push(Q),v.push(Q)):(u[Ie]=Q,v[Ie]=Q)}else{const Q=C_(w,l,R+W,U),Ie=C_(w,l,R,R+W),Se=Q>=0&&u[Q],tt=Ie>=0&&u[Ie];if(f&&!tt||!f&&!Se){Ao(Ds(A,v),m,w);const Ye=function lx(o,l,u,h,f){const m=new Tr(o,u,Pa);return m.multi=[],m.index=l,m.componentProviders=0,Ah(m,f,h&&!u),m}(f?ax:F0,u.length,f,h,I);!f&&tt&&(u[Ie].providerFactory=Ye),b_(m,o,l.length,0),l.push(w),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),u.push(Ye),v.push(Ye)}else b_(m,o,Q>-1?Q:Ie,Ah(u[f?Ie:Q],I,!f&&h));!f&&h&&tt&&u[Ie].componentProviders++}}}function b_(o,l,u,h){const f=to(l),m=function Lw(o){return!!o.useClass}(l);if(f||m){const I=(m?te(l.useClass):l).prototype.ngOnDestroy;if(I){const A=o.destroyHooks||(o.destroyHooks=[]);if(!f&&l.multi){const R=A.indexOf(u);-1===R?A.push(u,[h,I]):A[R+1].push(h,I)}else A.push(u,I)}}}function Ah(o,l,u){return u&&o.componentProviders++,o.multi.push(l)-1}function C_(o,l,u,h){for(let f=u;f<h;f++)if(l[f]===o)return f;return-1}function F0(o,l,u,h){return Fc(this.multi,[])}function ax(o,l,u,h){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=rs(u,u[1],this.providerFactory.index,h);m=w.slice(0,v),Fc(f,m);for(let I=v;I<w.length;I++)m.push(w[I])}else m=[],Fc(f,m);return m}function Fc(o,l){for(let u=0;u<o.length;u++)l.push((0,o[u])());return l}function jp(o,l=[]){return u=>{u.providersResolver=(h,f)=>function KE(o,l,u){const h=Yt();if(h.firstCreatePass){const f=mr(o);QE(u,h.data,h.blueprint,f,!0),QE(l,h.data,h.blueprint,f,!1)}}(h,f?f(o):o,l)}}class Mh{}class XE{}function xh(o,l){return new $p(o,l??null)}class $p extends Mh{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kc(this);const h=ut(l);this._bootstrapComponents=Ll(h.bootstrap),this._r3Injector=SA(l,u,[{provide:Mh,useValue:this},{provide:Sc,useValue:this.componentFactoryResolver}],pe(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class L0 extends XE{constructor(l){super(),this.moduleType=l}create(l){return new $p(this.moduleType,l)}}class JE extends Mh{constructor(l,u,h){super(),this.componentFactoryResolver=new kc(this),this.instance=null;const f=new pv([...l,{provide:Mh,useValue:this},{provide:Sc,useValue:this.componentFactoryResolver}],u||Sg(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function eD(o,l,u=null){return new JE(o,l,u).injector}let ux=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=Pw(0,u.type),f=h.length>0?eD([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,f)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=rn({token:o,providedIn:"environment",factory:()=>new o(jt(xa))}),o})();function tD(o){o.getStandaloneInjector=l=>l.get(ux).getOrCreateStandaloneInjector(o)}function aD(o,l,u,h,f,m){const v=l+u;return Mr(o,v,f)?function jo(o,l,u){return o[l]=u}(o,v+1,m?h.call(m,f):h(f)):function we(o,l){const u=o[l];return u===Zt?void 0:u}(o,v+1)}function zp(o,l){const u=Yt();let h;const f=o+22;u.firstCreatePass?(h=function D_(o,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(o===h.name)return h}}(l,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const m=h.factory||(h.factory=Ni(h.type)),v=Mn(Pa);try{const w=Il(!1),I=m();return Il(w),function pM(o,l,u,h){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),l[u]=h}(u,Ne(),f,I),I}finally{Mn(v)}}function lD(o,l,u){const h=o+22,f=Ne(),m=ns(f,h);return function Bi(o,l){return o[1].data[l].pure}(f,h)?aD(f,function gi(){const o=Ft.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}(),l,m.transform,u,m):m.transform(u)}function Ki(o){return l=>{setTimeout(o,void 0,l)}}const vr=class S_ extends a.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){let f=l,m=u||(()=>null),v=h;if(l&&"object"==typeof l){const I=l;f=I.next?.bind(I),m=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(m=Ki(m),f&&(f=Ki(f)),v&&(v=Ki(v)));const w=super.subscribe({next:f,error:m,complete:v});return l instanceof z.w0&&l.add(w),w}};function yx(){return this._results[Lu()]()}class Gp{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Lu(),h=Gp.prototype;h[u]||(h[u]=yx)}get changes(){return this._changes||(this._changes=new vr)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const f=kn(l);(this._changesDetected=!function ht(o,l,u){if(o.length!==l.length)return!1;for(let h=0;h<o.length;h++){let f=o[h],m=l[h];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ku=(()=>{class o{}return o.__NG_ELEMENT_ID__=vx,o})();const cD=Ku,Rr=class extends cD{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l,u){const h=this._declarationTContainer.tViews,f=Xv(this._declarationLView,h,l,16,null,h.declTNode,null,null,null,null,u||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(h)),B1(h,f,l),new e_(f)}};function vx(){return Qu(mi(),Ne())}function Qu(o,l){return 4&o.type?new Rr(l,o,sh(o,l)):null}let Wp=(()=>{class o{}return o.__NG_ELEMENT_ID__=W0,o})();function W0(){return uD(mi(),Ne())}const T_=Wp,Go=class extends T_{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return sh(this._hostTNode,this._hostLView)}get injector(){return new ba(this._hostTNode,this._hostLView)}get parentInjector(){const l=Sl(this._hostTNode,this._hostLView);if(Bf(l)){const u=Ws(l,this._hostLView),h=_i(l);return new ba(u[1].data[h+8],u)}return new ba(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=A_(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){let f,m;"number"==typeof h?f=h:null!=h&&(f=h.index,m=h.injector);const v=l.createEmbeddedView(u||{},m);return this.insert(v,f),v}createComponent(l,u,h,f,m){const v=l&&!function os(o){return"function"==typeof o}(l);let w;if(v)w=u;else{const U=u||{};w=U.index,h=U.injector,f=U.projectableNodes,m=U.environmentInjector||U.ngModuleRef}const I=v?l:new Rc(O(l)),A=h||this.parentInjector;if(!m&&null==I.ngModule){const W=(v?A:this.parentInjector).get(xa,null);W&&(m=W)}const R=I.create(A,f,void 0,m);return this.insert(R.hostView,w),R}insert(l,u){const h=l._lView,f=h[1];if(function au(o){return wr(o[3])}(h)){const R=this.indexOf(l);if(-1!==R)this.detach(R);else{const U=h[3],W=new Go(U,U[6],U[3]);W.detach(W.indexOf(l))}}const m=this._adjustIndex(u),v=this._lContainer;!function hA(o,l,u,h){const f=10+h,m=u.length;h>0&&(u[f-1][4]=l),h<m-10?(l[4]=u[f],Ro(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const v=l[17];null!==v&&u!==v&&function fA(o,l){const u=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===u?o[9]=[l]:u.push(l)}(v,l);const w=l[19];null!==w&&w.insertView(o),l[2]|=64}(f,h,v,m);const w=p1(m,v),I=h[11],A=$g(I,v[7]);return null!==A&&function s1(o,l,u,h,f,m){h[0]=f,h[6]=l,Mu(o,h,u,1,f,m)}(f,v[6],I,h,A,w),l.attachToViewContainerRef(),Ro(Z0(v),m,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=A_(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=Nv(this._lContainer,u);h&&(Ln(Z0(this._lContainer),u),fp(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=Nv(this._lContainer,u);return h&&null!=Ln(Z0(this._lContainer),u)?new e_(h):null}_adjustIndex(l,u=0){return l??this.length+u}};function A_(o){return o[8]}function Z0(o){return o[8]||(o[8]=[])}function uD(o,l){let u;const h=l[o.index];if(wr(h))u=h;else{let f;if(8&o.type)f=Wn(h);else{const m=l[11];f=m.createComment("");const v=Fi(o,l);Ra(m,$g(m,v),f,function h1(o,l){return o.nextSibling(l)}(m,v),!1)}l[o.index]=u=tM(h,l,f,o),Kg(l,u)}return new Go(u,o,l)}class M_{constructor(l){this.queryList=l,this.matches=null}clone(){return new M_(this.queryList)}setDirty(){this.queryList.setDirty()}}class q0{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let m=0;m<h;m++){const v=u.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new q0(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==J0(l,u).matches&&this.queries[u].setDirty()}}class Y0{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class Rh{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,m=this.getByIndex(h).embeddedTView(l,f);m&&(m.indexInDeclarationView=h,null!==u?u.push(m):u=[m])}return null!==u?new Rh(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Zp{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new Zp(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const m=h[f];this.matchTNodeWithReadOption(l,u,K0(u,m)),this.matchTNodeWithReadOption(l,u,Al(u,l,m,!1,!1))}else h===Ku?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Al(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Au||f===Wp||f===Ku&&4&u.type)this.addMatch(u.index,-2);else{const m=Al(u,l,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function K0(o,l){const u=o.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function bx(o,l,u,h){return-1===u?function Q0(o,l){return 11&o.type?sh(o,l):4&o.type?Qu(o,l):null}(l,o):-2===u?function Cx(o,l,u){return u===Au?sh(l,o):u===Ku?Qu(l,o):u===Wp?uD(l,o):void 0}(o,l,h):rs(o,o[1],u,l)}function x_(o,l,u,h){const f=l[19].queries[h];if(null===f.matches){const m=o.data,v=u.matches,w=[];for(let I=0;I<v.length;I+=2){const A=v[I];w.push(A<0?null:bx(l,m[A],v[I+1],u.metadata.read))}f.matches=w}return f.matches}function k_(o,l,u,h){const f=o.queries.getByIndex(u),m=f.matches;if(null!==m){const v=x_(o,l,f,u);for(let w=0;w<m.length;w+=2){const I=m[w];if(I>0)h.push(v[w/2]);else{const A=m[w+1],R=l[-I];for(let U=10;U<R.length;U++){const W=R[U];W[17]===W[3]&&k_(W[1],W,A,h)}if(null!==R[9]){const U=R[9];for(let W=0;W<U.length;W++){const Q=U[W];k_(Q[1],Q,A,h)}}}}}return h}function fD(o){const l=Ne(),u=Yt(),h=vl();uu(h+1);const f=J0(u,h);if(o.dirty&&function ou(o){return 4==(4&o[2])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?k_(u,l,h,[]):x_(u,l,f,h);o.reset(m,jw),o.notifyOnChanges()}return!0}return!1}function Oh(o,l,u){const h=Yt();h.firstCreatePass&&(qp(h,new Y0(o,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),mD(h,Ne(),l)}function pD(o,l,u,h){const f=Yt();if(f.firstCreatePass){const m=mi();qp(f,new Y0(l,u,h),m.index),function X0(o,l){const u=o.contentQueries||(o.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,l)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}mD(f,Ne(),u)}function Ph(){return function wx(o,l){return o[19].queries[l].queryList}(Ne(),vl())}function mD(o,l,u){const h=new Gp(4==(4&u));WA(o,l,h,h.destroy),null===l[19]&&(l[19]=new q0),l[19].queries.push(new M_(h))}function qp(o,l,u){null===o.queries&&(o.queries=new Rh),o.queries.track(new Zp(l,u))}function J0(o,l){return o.queries.getByIndex(l)}function Jp(...o){}const B_=new Fn("Application Initializer");let Lh=(()=>{class o{constructor(u){this.appInits=u,this.resolve=Jp,this.reject=Jp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(d0(m))u.push(m);else if(h0(m)){const v=new Promise((w,I)=>{m.subscribe({complete:w,error:I})});u.push(v)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(jt(B_,8))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const U_=new Fn("AppId",{providedIn:"root",factory:function em(){return`${j_()}${j_()}${j_()}`}});function j_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const OD=new Fn("Platform Initializer"),mb=new Fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),tm=new Fn("appBootstrapListener"),ND=new Fn("AnimationModuleType");let FD=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const $_=new Fn("LocaleId",{providedIn:"root",factory:()=>_n($_,it.Optional|it.SkipSelf)||function LD(){return typeof $localize<"u"&&$localize.locale||Zu}()}),nm=new Fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ed{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let _b=(()=>{class o{compileModuleSync(u){return new L0(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),m=Ll(ut(u).declarations).reduce((v,w)=>{const I=O(w);return I&&v.push(new Rc(I)),v},[]);return new ed(h,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const G_=(()=>Promise.resolve(0))();function Bh(o){typeof Zone>"u"?G_.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class mn{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vr(!1),this.onMicrotaskEmpty=new vr(!1),this.onStable=new vr(!1),this.onError=new vr(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function UD(){let o=Pt.requestAnimationFrame,l=Pt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&l){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Rx(o){const l=()=>{!function im(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Pt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Z_(o),o.isCheckStableRunning=!0,td(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Z_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,m,v,w)=>{try{return HD(o),u.invokeTask(f,m,v,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&l(),jD(o)}},onInvoke:(u,h,f,m,v,w,I)=>{try{return HD(o),u.invoke(f,m,v,w,I)}finally{o.shouldCoalesceRunChangeDetection&&l(),jD(o)}},onHasTask:(u,h,f,m)=>{u.hasTask(f,m),h===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Z_(o),td(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,h,f,m)=>(u.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mn.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(mn.isInAngularZone())throw new Ae(909,!1)}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,W_,Jp,Jp);try{return m.runTask(v,u,h)}finally{m.cancelTask(v)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const W_={};function td(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Z_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function HD(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function jD(o){o._nesting--,td(o)}class Ox{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vr,this.onMicrotaskEmpty=new vr,this.onStable=new vr,this.onError=new vr}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,f){return l.apply(u,h)}}const $D=new Fn(""),Uh=new Fn("");let q_,Vc=(()=>{class o{constructor(u,h,f){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,q_||(function zD(o){q_=o}(f),f.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mn.assertNotInAngularZone(),Bh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Bh(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,f){return[]}}return o.\u0275fac=function(u){return new(u||o)(jt(mn),jt(vb),jt(Uh))},o.\u0275prov=rn({token:o,factory:o.\u0275fac}),o})(),vb=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return q_?.findTestabilityInTree(this,u,h)??null}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Ms=null;const GD=new Fn("AllowMultipleToken"),bb=new Fn("PlatformDestroyListeners");class Cb{constructor(l,u){this.name=l,this.token=u}}function YD(o,l,u=[]){const h=`Platform: ${l}`,f=new Fn(h);return(m=[])=>{let v=nd();if(!v||v.injector.get(GD,!1)){const w=[...u,...m,{provide:f,useValue:!0}];o?o(w):function wb(o){if(Ms&&!Ms.get(GD,!1))throw new Ae(400,!1);Ms=o;const l=o.get(rm);(function Eb(o){const l=o.get(OD,null);l&&l.forEach(u=>u())})(o)}(function KD(o=[],l){return ro.create({name:l,providers:[{provide:Eg,useValue:"platform"},{provide:bb,useValue:new Set([()=>Ms=null])},...o]})}(w,h))}return function Fx(o){const l=nd();if(!l)throw new Ae(401,!1);return l}()}}function nd(){return Ms?.get(rm)??null}let rm=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const f=function Ib(o,l){let u;return u="noop"===o?new Ox:("zone.js"===o?void 0:o)||new mn(l),u}(h?.ngZone,function Y_(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(h)),m=[{provide:mn,useValue:f}];return f.run(()=>{const v=ro.create({providers:m,parent:this.injector,name:u.moduleType.name}),w=u.create(v),I=w.injector.get(up,null);if(!I)throw new Ae(402,!1);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:R=>{I.handleError(R)}});w.onDestroy(()=>{ti(this._modules,w),A.unsubscribe()})}),function Hh(o,l,u){try{const h=u();return d0(h)?h.catch(f=>{throw l.runOutsideAngular(()=>o.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>o.handleError(h)),h}}(I,f,()=>{const A=w.injector.get(Lh);return A.runInitializers(),A.donePromise.then(()=>(function ME(o){Wt(o,"Expected localeId to be defined"),"string"==typeof o&&(AE=o.toLowerCase().replace(/_/g,"-"))}(w.injector.get($_,Zu)||Zu),this._moduleDoBootstrap(w),w))})})}bootstrapModule(u,h=[]){const f=jh({},h);return function Px(o,l,u){const h=new L0(u);return Promise.resolve(h)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const h=u.injector.get(K_);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Ae(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(bb,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(jt(ro))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function jh(o,l){return Array.isArray(l)?l.reduce(jh,o):{...o,...l}}let K_=(()=>{class o{constructor(u,h,f){this._zone=u,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new N.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),v=new N.y(w=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{mn.assertNotInAngularZone(),Bh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{mn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{I.unsubscribe(),A.unsubscribe()}});this.isStable=(0,le.T)(m,v.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const f=u instanceof _v;if(!this._injector.get(Lh).done)throw!f&&Be(u),new Ae(405,false);let v;v=f?u:this._injector.get(Sc).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const w=function WD(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Mh),A=v.create(ro.NULL,[],h||v.selector,w),R=A.location.nativeElement,U=A.injector.get($D,null);return U?.registerApplication(R),A.onDestroy(()=>{this.detachView(A.hostView),ti(this.components,A),U?.unregisterApplication(R)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;ti(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(tm,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>ti(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Ae(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(u){return new(u||o)(jt(mn),jt(xa),jt(up))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ti(o,l){const u=o.indexOf(l);u>-1&&o.splice(u,1)}let QD=!0,XD=!1;function JD(){return XD=!0,QD}function eI(){if(XD)throw new Error("Cannot enable prod mode after platform setup.");QD=!1}let Kl=(()=>{class o{}return o.__NG_ELEMENT_ID__=tI,o})();function tI(o){return function nI(o,l,u){if(al(o)&&!u){const h=dn(o.index,l);return new e_(h,h)}return 47&o.type?new e_(l[16],l):null}(mi(),Ne(),16==(16&o))}class kb{constructor(){}supports(l){return Ep(l)}create(l){return new xs(l)}}const J_=(o,l)=>l;class xs{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||J_}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,f=0,m=null;for(;u||h;){const v=!h||u&&u.currentIndex<uI(h,f,m)?u:h,w=uI(v,f,m),I=v.currentIndex;if(v===h)f--,h=h._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{m||(m=[]);const A=w-f,R=I-f;if(A!=R){for(let W=0;W<A;W++){const Q=W<m.length?m[W]:m[W]=0,Ie=Q+W;R<=Ie&&Ie<A&&(m[W]=Q+1)}m[v.previousIndex]=R-A}}w!==I&&l(v,w,I)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Ep(l))throw new Ae(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)m=l[w],v=this._trackByFn(w,m),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,m,v,w)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,w),h=!0),u=u._next}else f=0,function uM(o,l){if(Array.isArray(o))for(let u=0;u<o.length;u++)l(o[u]);else{const u=o[Lu()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,w=>{v=this._trackByFn(f,w),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,w,v,f)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,v,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,m,f)):l=this._addAfter(new lI(u,h),m,f),l}_verifyReinsertion(l,u,h,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new rd),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rd),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class lI{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cI{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class rd{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new cI,this.map.set(u,h)),h.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uI(o,l,u){const h=o.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+l+f}class dI{constructor(){}supports(l){return l instanceof Map||s0(l)}create(){return new Rb}}class Rb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||s0(l)))throw new Ae(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const h=new zx(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class zx{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hI(){return new ey([new kb])}let ey=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||hI()),deps:[[o,new _t,new Ce]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new Ae(901,!1)}}return o.\u0275prov=rn({token:o,providedIn:"root",factory:hI}),o})();function lm(){return new Ob([new dI])}let Ob=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||lm()),deps:[[o,new _t,new Ce]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(h)return h;throw new Ae(901,!1)}}return o.\u0275prov=rn({token:o,providedIn:"root",factory:lm}),o})();const Pb=YD(null,"core",[]);let Gx=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(jt(K_))},o.\u0275mod=tn({type:o}),o.\u0275inj=Ht({}),o})();function ze(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(pt,xe,B)=>{B.d(xe,{Z:()=>Ae});var a=B(2090),z=B(4859),N=B(9681),le=B(1877);class de{constructor(De,ge){this._delegate=De,this.firebase=ge,(0,N._addComponent)(De,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=De.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this._delegate.automaticDataCollectionEnabled=De}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(De=>{this._delegate.checkDestroyed(),De()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(De,ge=N._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const nt=this._delegate.container.getProvider(De);return!nt.isInitialized()&&"EXPLICIT"===(null===(st=nt.getComponent())||void 0===st?void 0:st.instantiationMode)&&nt.initialize(),nt.getImmediate({identifier:ge})}_removeServiceInstance(De,ge=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(De).clearInstance(ge)}_addComponent(De){(0,N._addComponent)(this._delegate,De)}_addOrOverwriteComponent(De){(0,N._addOrOverwriteComponent)(this._delegate,De)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function ve(){const lt=function pe(lt){const De={},ge={__esModule:!0,initializeApp:function Ve(ae,he={}){const be=N.initializeApp(ae,he);if((0,a.r3)(De,be.name))return De[be.name];const ee=new lt(be,ge);return De[be.name]=ee,ee},app:nt,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Te(ae){const he=ae.name,be=he.replace("-compat","");if(N._registerComponent(ae)&&"PUBLIC"===ae.type){const ee=(ne=nt())=>{if("function"!=typeof ne[be])throw ie.create("invalid-app-argument",{appName:he});return ne[be]()};void 0!==ae.serviceProps&&(0,a.ZB)(ee,ae.serviceProps),ge[be]=ee,lt.prototype[be]=function(...ne){return this._getService.bind(this,he).apply(this,ae.multipleInstances?ne:[])}}return"PUBLIC"===ae.type?ge[be]:null},removeApp:function st(ae){delete De[ae]},useAsService:function qe(ae,he){return"serverAuth"===he?null:he},modularAPIs:N}};function nt(ae){if(!(0,a.r3)(De,ae=ae||N._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:ae});return De[ae]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function Pe(){return Object.keys(De).map(ae=>De[ae])}}),nt.App=lt,ge}(de);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function De(ge){(0,a.ZB)(lt,ge)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),lt}(),Z=new le.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=Y;!function Le(lt){(0,N.registerVersion)("@firebase/app-compat","0.1.38",lt)}()},9681:(pt,xe,B)=>{B.r(xe),B.d(xe,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>es,_DEFAULT_ENTRY_NAME:()=>Wt,_addComponent:()=>nn,_addOrOverwriteComponent:()=>rn,_apps:()=>vn,_clearComponents:()=>Xr,_components:()=>On,_getProvider:()=>Ht,_registerComponent:()=>qt,_removeServiceInstance:()=>Pi,deleteApp:()=>ts,getApp:()=>Kn,getApps:()=>Hr,initializeApp:()=>nr,onLog:()=>ii,registerVersion:()=>fi,setLogLevel:()=>Mn});var a=B(5861),z=B(4859),N=B(1877),le=B(2090),de=B(8766);class ye{constructor(Me){this.container=Me}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function ie(ot){return"VERSION"===ot.getComponent()?.type}(at)){const Dt=at.getImmediate();return`${Dt.library}/${Dt.version}`}return null}).filter(at=>at).join(" ")}}const pe="@firebase/app",Y=new N.Yd("@firebase/app"),Wt="[DEFAULT]",Je={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vn=new Map,On=new Map;function nn(ot,Me){try{ot.container.addComponent(Me)}catch(at){Y.debug(`Component ${Me.name} failed to register with FirebaseApp ${ot.name}`,at)}}function rn(ot,Me){ot.container.addOrOverwriteComponent(Me)}function qt(ot){const Me=ot.name;if(On.has(Me))return Y.debug(`There were multiple attempts to register component ${Me}.`),!1;On.set(Me,ot);for(const at of vn.values())nn(at,ot);return!0}function Ht(ot,Me){const at=ot.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),ot.container.getProvider(Me)}function Pi(ot,Me,at=Wt){Ht(ot,Me).clearInstance(at)}function Xr(){On.clear()}const Gn=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Jr{constructor(Me,at,Dt){this._isDeleted=!1,this._options=Object.assign({},Me),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=Dt,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this.checkDestroyed(),this._automaticDataCollectionEnabled=Me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Me){this._isDeleted=Me}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const es="9.13.0";function nr(ot,Me={}){let at=ot;"object"!=typeof Me&&(Me={name:Me});const Dt=Object.assign({name:Wt,automaticDataCollectionEnabled:!1},Me),St=Dt.name;if("string"!=typeof St||!St)throw Gn.create("bad-app-name",{appName:String(St)});if(at||(at=(0,le.aH)()),!at)throw Gn.create("no-options");const tn=vn.get(St);if(tn){if((0,le.vZ)(at,tn.options)&&(0,le.vZ)(Dt,tn.config))return tn;throw Gn.create("duplicate-app",{appName:St})}const q=new z.H0(St);for(const X of On.values())q.addComponent(X);const G=new Jr(at,Dt,q);return vn.set(St,G),G}function Kn(ot=Wt){const Me=vn.get(ot);if(!Me&&ot===Wt)return nr();if(!Me)throw Gn.create("no-app",{appName:ot});return Me}function Hr(){return Array.from(vn.values())}function ts(ot){return it.apply(this,arguments)}function it(){return(it=(0,a.Z)(function*(ot){const Me=ot.name;vn.has(Me)&&(vn.delete(Me),yield Promise.all(ot.container.getProviders().map(at=>at.delete())),ot.isDeleted=!0)})).apply(this,arguments)}function fi(ot,Me,at){var Dt;let St=null!==(Dt=Je[ot])&&void 0!==Dt?Dt:ot;at&&(St+=`-${at}`);const tn=St.match(/\s|\//),q=Me.match(/\s|\//);if(tn||q){const G=[`Unable to register library "${St}" with version "${Me}":`];return tn&&G.push(`library name "${St}" contains illegal characters (whitespace or "/")`),tn&&q&&G.push("and"),q&&G.push(`version name "${Me}" contains illegal characters (whitespace or "/")`),void Y.warn(G.join(" "))}qt(new z.wA(`${St}-version`,()=>({library:St,version:Me}),"VERSION"))}function ii(ot,Me){if(null!==ot&&"function"!=typeof ot)throw Gn.create("invalid-log-argument");(0,N.Am)(ot,Me)}function Mn(ot){(0,N.Ub)(ot)}const xn="firebase-heartbeat-store";let Pn=null;function Sn(){return Pn||(Pn=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(ot,Me)=>{0===Me&&ot.createObjectStore(xn)}}).catch(ot=>{throw Gn.create("idb-open",{originalErrorMessage:ot.message})})),Pn}function gt(){return(gt=(0,a.Z)(function*(ot){var Me;try{return(yield Sn()).transaction(xn).objectStore(xn).get(ri(ot))}catch(at){if(at instanceof le.ZR)Y.warn(at.message);else{const Dt=Gn.create("idb-get",{originalErrorMessage:null===(Me=at)||void 0===Me?void 0:Me.message});Y.warn(Dt.message)}}})).apply(this,arguments)}function Pt(ot,Me){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.Z)(function*(ot,Me){var at;try{const St=(yield Sn()).transaction(xn,"readwrite");return yield St.objectStore(xn).put(Me,ri(ot)),St.done}catch(Dt){if(Dt instanceof le.ZR)Y.warn(Dt.message);else{const St=Gn.create("idb-set",{originalErrorMessage:null===(at=Dt)||void 0===at?void 0:at.message});Y.warn(St.message)}}})).apply(this,arguments)}function ri(ot){return`${ot.name}!${ot.options.appId}`}class Gi{constructor(Me){this.container=Me,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new Xt(at),this._heartbeatsCachePromise=this._storage.read().then(Dt=>(this._heartbeatsCache=Dt,Dt))}triggerHeartbeat(){var Me=this;return(0,a.Z)(function*(){const Dt=Me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),St=Vt();if(null===Me._heartbeatsCache&&(Me._heartbeatsCache=yield Me._heartbeatsCachePromise),Me._heartbeatsCache.lastSentHeartbeatDate!==St&&!Me._heartbeatsCache.heartbeats.some(tn=>tn.date===St))return Me._heartbeatsCache.heartbeats.push({date:St,agent:Dt}),Me._heartbeatsCache.heartbeats=Me._heartbeatsCache.heartbeats.filter(tn=>{const q=new Date(tn.date).valueOf();return Date.now()-q<=2592e6}),Me._storage.overwrite(Me._heartbeatsCache)})()}getHeartbeatsHeader(){var Me=this;return(0,a.Z)(function*(){if(null===Me._heartbeatsCache&&(yield Me._heartbeatsCachePromise),null===Me._heartbeatsCache||0===Me._heartbeatsCache.heartbeats.length)return"";const at=Vt(),{heartbeatsToSend:Dt,unsentEntries:St}=function fr(ot,Me=1024){const at=[];let Dt=ot.slice();for(const St of ot){const tn=at.find(q=>q.agent===St.agent);if(tn){if(tn.dates.push(St.date),bi(at)>Me){tn.dates.pop();break}}else if(at.push({agent:St.agent,dates:[St.date]}),bi(at)>Me){at.pop();break}Dt=Dt.slice(1)}return{heartbeatsToSend:at,unsentEntries:Dt}}(Me._heartbeatsCache.heartbeats),tn=(0,le.L)(JSON.stringify({version:2,heartbeats:Dt}));return Me._heartbeatsCache.lastSentHeartbeatDate=at,St.length>0?(Me._heartbeatsCache.heartbeats=St,yield Me._storage.overwrite(Me._heartbeatsCache)):(Me._heartbeatsCache.heartbeats=[],Me._storage.overwrite(Me._heartbeatsCache)),tn})()}}function Vt(){return(new Date).toISOString().substring(0,10)}class Xt{constructor(Me){this.app=Me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Me=this;return(0,a.Z)(function*(){return(yield Me._canUseIndexedDBPromise)&&(yield function mt(ot){return gt.apply(this,arguments)}(Me.app))||{heartbeats:[]}})()}overwrite(Me){var at=this;return(0,a.Z)(function*(){var Dt;if(yield at._canUseIndexedDBPromise){const tn=yield at.read();return Pt(at.app,{lastSentHeartbeatDate:null!==(Dt=Me.lastSentHeartbeatDate)&&void 0!==Dt?Dt:tn.lastSentHeartbeatDate,heartbeats:Me.heartbeats})}})()}add(Me){var at=this;return(0,a.Z)(function*(){var Dt;if(yield at._canUseIndexedDBPromise){const tn=yield at.read();return Pt(at.app,{lastSentHeartbeatDate:null!==(Dt=Me.lastSentHeartbeatDate)&&void 0!==Dt?Dt:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...Me.heartbeats]})}})()}}function bi(ot){return(0,le.L)(JSON.stringify({version:2,heartbeats:ot})).length}!function Un(ot){qt(new z.wA("platform-logger",Me=>new ye(Me),"PRIVATE")),qt(new z.wA("heartbeat",Me=>new Gi(Me),"PRIVATE")),fi(pe,"0.8.3",ot),fi(pe,"0.8.3","esm2017"),fi("fire-js","")}("")},4859:(pt,xe,B)=>{B.d(xe,{H0:()=>pe,wA:()=>N,zt:()=>de});var a=B(5861),z=B(2090);class N{constructor(Y,Z,te){this.name=Y,this.instanceFactory=Z,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const le="[DEFAULT]";class de{constructor(Y,Z){this.name=Y,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const Z=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(Z)){const te=new z.BH;if(this.instancesDeferred.set(Z,te),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:Z});Ge&&te.resolve(Ge)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(Y){var Z;const te=this.normalizeInstanceIdentifier(Y?.identifier),Ge=null!==(Z=Y?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Le){if(Ge)return null;throw Le}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function ie(ve){return"EAGER"===ve.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[Z,te]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(Z);try{const Le=this.getOrInitializeService({instanceIdentifier:Ge});te.resolve(Le)}catch{}}}}clearInstance(Y=le){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,a.Z)(function*(){const Z=Array.from(Y.instances.values());yield Promise.all([...Z.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...Z.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=le){return this.instances.has(Y)}getOptions(Y=le){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:Z={}}=Y,te=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:te,options:Z});for(const[Le,Ae]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Le)&&Ae.resolve(Ge);return Ge}onInit(Y,Z){var te;const Ge=this.normalizeInstanceIdentifier(Z),Le=null!==(te=this.onInitCallbacks.get(Ge))&&void 0!==te?te:new Set;Le.add(Y),this.onInitCallbacks.set(Ge,Le);const Ae=this.instances.get(Ge);return Ae&&Y(Ae,Ge),()=>{Le.delete(Y)}}invokeOnInitCallbacks(Y,Z){const te=this.onInitCallbacks.get(Z);if(te)for(const Ge of te)try{Ge(Y,Z)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:Z={}}){let te=this.instances.get(Y);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=Y,ve===le?void 0:ve),options:Z}),this.instances.set(Y,te),this.instancesOptions.set(Y,Z),this.invokeOnInitCallbacks(te,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,te)}catch{}var ve;return te||null}normalizeInstanceIdentifier(Y=le){return this.component?this.component.multipleInstances?Y:le:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const Z=this.getProvider(Y.name);if(Z.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);Z.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const Z=new de(Y,this);return this.providers.set(Y,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,xe,B)=>{B.d(xe,{Am:()=>ve,Ub:()=>pe,Yd:()=>ie,in:()=>z});const a=[];var z=(()=>{return(Y=z||(z={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",z;var Y})();const N={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},le=z.INFO,de={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},ye=(Y,Z,...te)=>{if(Z<Y.logLevel)return;const Ge=(new Date).toISOString(),Le=de[Z];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Le](`[${Ge}]  ${Y.name}:`,...te)};class ie{constructor(Z){this.name=Z,this._logLevel=le,this._logHandler=ye,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in z))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?N[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...Z),this._logHandler(this,z.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...Z),this._logHandler(this,z.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,z.INFO,...Z),this._logHandler(this,z.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,z.WARN,...Z),this._logHandler(this,z.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...Z),this._logHandler(this,z.ERROR,...Z)}}function pe(Y){a.forEach(Z=>{Z.setLogLevel(Y)})}function ve(Y,Z){for(const te of a){let Ge=null;Z&&Z.level&&(Ge=N[Z.level]),te.userLogHandler=null===Y?null:(Le,Ae,...lt)=>{const De=lt.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");Ae>=(Ge??Le.logLevel)&&Y({level:z[Ae].toLowerCase(),message:De,args:lt,type:Le.name})}}}},8766:(pt,xe,B)=>{B.d(xe,{Lj:()=>Ve,X3:()=>nt});var a=B(5861);let N,le;const ie=new WeakMap,pe=new WeakMap,ve=new WeakMap,Y=new WeakMap,Z=new WeakMap;let Le={get(he,be,ee){if(he instanceof IDBTransaction){if("done"===be)return pe.get(he);if("objectStoreNames"===be)return he.objectStoreNames||ve.get(he);if("store"===be)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return ge(he[be])},set:(he,be,ee)=>(he[be]=ee,!0),has:(he,be)=>he instanceof IDBTransaction&&("done"===be||"store"===be)||be in he};function De(he){return"function"==typeof he?function lt(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...be){return he.apply(st(this),be),ge(ie.get(this))}:function(...be){return ge(he.apply(st(this),be))}:function(be,...ee){const ne=he.call(st(this),be,...ee);return ve.set(ne,be.sort?be.sort():[be]),ge(ne)}}(he):(he instanceof IDBTransaction&&function Ge(he){if(pe.has(he))return;const be=new Promise((ee,ne)=>{const me=()=>{he.removeEventListener("complete",ue),he.removeEventListener("error",je),he.removeEventListener("abort",je)},ue=()=>{ee(),me()},je=()=>{ne(he.error||new DOMException("AbortError","AbortError")),me()};he.addEventListener("complete",ue),he.addEventListener("error",je),he.addEventListener("abort",je)});pe.set(he,be)}(he),((he,be)=>be.some(ee=>he instanceof ee))(he,function de(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Le):he)}function ge(he){if(he instanceof IDBRequest)return function te(he){const be=new Promise((ee,ne)=>{const me=()=>{he.removeEventListener("success",ue),he.removeEventListener("error",je)},ue=()=>{ee(ge(he.result)),me()},je=()=>{ne(he.error),me()};he.addEventListener("success",ue),he.addEventListener("error",je)});return be.then(ee=>{ee instanceof IDBCursor&&ie.set(ee,he)}).catch(()=>{}),Z.set(be,he),be}(he);if(Y.has(he))return Y.get(he);const be=De(he);return be!==he&&(Y.set(he,be),Z.set(be,he)),be}const st=he=>Z.get(he);function nt(he,be,{blocked:ee,upgrade:ne,blocking:me,terminated:ue}={}){const je=indexedDB.open(he,be),$e=ge(je);return ne&&je.addEventListener("upgradeneeded",Ct=>{ne(ge(je.result),Ct.oldVersion,Ct.newVersion,ge(je.transaction))}),ee&&je.addEventListener("blocked",()=>ee()),$e.then(Ct=>{ue&&Ct.addEventListener("close",()=>ue()),me&&Ct.addEventListener("versionchange",()=>me())}).catch(()=>{}),$e}function Ve(he,{blocked:be}={}){const ee=indexedDB.deleteDatabase(he);return be&&ee.addEventListener("blocked",()=>be()),ge(ee).then(()=>{})}const Pe=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],qe=new Map;function ae(he,be){if(!(he instanceof IDBDatabase)||be in he||"string"!=typeof be)return;if(qe.get(be))return qe.get(be);const ee=be.replace(/FromIndex$/,""),ne=be!==ee,me=Te.includes(ee);if(!(ee in(ne?IDBIndex:IDBObjectStore).prototype)||!me&&!Pe.includes(ee))return;const ue=function(){var je=(0,a.Z)(function*($e,...Ct){const un=this.transaction($e,me?"readwrite":"readonly");let Wt=un.store;return ne&&(Wt=Wt.index(Ct.shift())),(yield Promise.all([Wt[ee](...Ct),me&&un.done]))[0]});return function(Ct){return je.apply(this,arguments)}}();return qe.set(be,ue),ue}!function Ae(he){Le=he(Le)}(he=>({...he,get:(be,ee,ne)=>ae(be,ee)||he.get(be,ee,ne),has:(be,ee)=>!!ae(be,ee)||he.has(be,ee)}))},5861:(pt,xe,B)=>{function a(N,le,de,ye,ie,pe,ve){try{var Y=N[pe](ve),Z=Y.value}catch(te){return void de(te)}Y.done?le(Z):Promise.resolve(Z).then(ye,ie)}function z(N){return function(){var le=this,de=arguments;return new Promise(function(ye,ie){var pe=N.apply(le,de);function ve(Z){a(pe,ye,ie,ve,Y,"next",Z)}function Y(Z){a(pe,ye,ie,ve,Y,"throw",Z)}ve(void 0)})}}B.d(xe,{Z:()=>z})}},pt=>{pt(pt.s=7792)}]);